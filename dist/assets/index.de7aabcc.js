var J5=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var qhe=J5((ci,fi)=>{function DI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function NI(n){var e=n.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var z={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=Symbol.for("react.element"),Z5=Symbol.for("react.portal"),Q5=Symbol.for("react.fragment"),eV=Symbol.for("react.strict_mode"),tV=Symbol.for("react.profiler"),nV=Symbol.for("react.provider"),rV=Symbol.for("react.context"),iV=Symbol.for("react.forward_ref"),sV=Symbol.for("react.suspense"),oV=Symbol.for("react.memo"),aV=Symbol.for("react.lazy"),lP=Symbol.iterator;function lV(n){return n===null||typeof n!="object"?null:(n=lP&&n[lP]||n["@@iterator"],typeof n=="function"?n:null)}var kI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FI=Object.assign,zI={};function Cf(n,e,t){this.props=n,this.context=e,this.refs=zI,this.updater=t||kI}Cf.prototype.isReactComponent={};Cf.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Cf.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function UI(){}UI.prototype=Cf.prototype;function bM(n,e,t){this.props=n,this.context=e,this.refs=zI,this.updater=t||kI}var MM=bM.prototype=new UI;MM.constructor=bM;FI(MM,Cf.prototype);MM.isPureReactComponent=!0;var uP=Array.isArray,BI=Object.prototype.hasOwnProperty,TM={current:null},VI={key:!0,ref:!0,__self:!0,__source:!0};function HI(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)BI.call(e,r)&&!VI.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gp,type:n,key:s,ref:o,props:i,_owner:TM.current}}function uV(n,e){return{$$typeof:gp,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function EM(n){return typeof n=="object"&&n!==null&&n.$$typeof===gp}function cV(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var cP=/\/+/g;function Tx(n,e){return typeof n=="object"&&n!==null&&n.key!=null?cV(""+n.key):e.toString(36)}function xv(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case gp:case Z5:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+Tx(o,0):r,uP(i)?(t="",n!=null&&(t=n.replace(cP,"$&/")+"/"),xv(i,e,t,"",function(u){return u})):i!=null&&(EM(i)&&(i=uV(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cP,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",uP(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+Tx(s,a);o+=xv(s,e,t,l,i)}else if(l=lV(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+Tx(s,a++),o+=xv(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jm(n,e,t){if(n==null)return n;var r=[],i=0;return xv(n,r,"","",function(s){return e.call(t,s,i++)}),r}function fV(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Lr={current:null},wv={transition:null},dV={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:wv,ReactCurrentOwner:TM};Mt.Children={map:Jm,forEach:function(n,e,t){Jm(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Jm(n,function(){e++}),e},toArray:function(n){return Jm(n,function(e){return e})||[]},only:function(n){if(!EM(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Mt.Component=Cf;Mt.Fragment=Q5;Mt.Profiler=tV;Mt.PureComponent=bM;Mt.StrictMode=eV;Mt.Suspense=sV;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dV;Mt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=FI({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=TM.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)BI.call(e,l)&&!VI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gp,type:n.type,key:i,ref:s,props:r,_owner:o}};Mt.createContext=function(n){return n={$$typeof:rV,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:nV,_context:n},n.Consumer=n};Mt.createElement=HI;Mt.createFactory=function(n){var e=HI.bind(null,n);return e.type=n,e};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(n){return{$$typeof:iV,render:n}};Mt.isValidElement=EM;Mt.lazy=function(n){return{$$typeof:aV,_payload:{_status:-1,_result:n},_init:fV}};Mt.memo=function(n,e){return{$$typeof:oV,type:n,compare:e===void 0?null:e}};Mt.startTransition=function(n){var e=wv.transition;wv.transition={};try{n()}finally{wv.transition=e}};Mt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Mt.useCallback=function(n,e){return Lr.current.useCallback(n,e)};Mt.useContext=function(n){return Lr.current.useContext(n)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(n){return Lr.current.useDeferredValue(n)};Mt.useEffect=function(n,e){return Lr.current.useEffect(n,e)};Mt.useId=function(){return Lr.current.useId()};Mt.useImperativeHandle=function(n,e,t){return Lr.current.useImperativeHandle(n,e,t)};Mt.useInsertionEffect=function(n,e){return Lr.current.useInsertionEffect(n,e)};Mt.useLayoutEffect=function(n,e){return Lr.current.useLayoutEffect(n,e)};Mt.useMemo=function(n,e){return Lr.current.useMemo(n,e)};Mt.useReducer=function(n,e,t){return Lr.current.useReducer(n,e,t)};Mt.useRef=function(n){return Lr.current.useRef(n)};Mt.useState=function(n){return Lr.current.useState(n)};Mt.useSyncExternalStore=function(n,e,t){return Lr.current.useSyncExternalStore(n,e,t)};Mt.useTransition=function(){return Lr.current.useTransition()};Mt.version="18.2.0";(function(n){n.exports=Mt})(z);const Wa=mp(z.exports),pu=DI({__proto__:null,default:Wa},[z.exports]);var Nw={},GI={exports:{}},vi={},jI={exports:{}},WI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,N){var U=I.length;I.push(N);e:for(;0<U;){var X=U-1>>>1,Y=I[X];if(0<i(Y,N))I[X]=N,I[U]=Y,U=X;else break e}}function t(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var N=I[0],U=I.pop();if(U!==N){I[0]=U;e:for(var X=0,Y=I.length,ae=Y>>>1;X<ae;){var se=2*(X+1)-1,ge=I[se],oe=se+1,Ne=I[oe];if(0>i(ge,U))oe<Y&&0>i(Ne,ge)?(I[X]=Ne,I[oe]=U,X=oe):(I[X]=ge,I[se]=U,X=se);else if(oe<Y&&0>i(Ne,U))I[X]=Ne,I[oe]=U,X=oe;else break e}}return N}function i(I,N){var U=I.sortIndex-N.sortIndex;return U!==0?U:I.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,p=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var N=t(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=I)r(u),N.sortIndex=N.expirationTime,e(l,N);else break;N=t(u)}}function M(I){if(v=!1,S(I),!g)if(t(l)!==null)g=!0,$(T);else{var N=t(u);N!==null&&ie(M,N.startTime-I)}}function T(I,N){g=!1,v&&(v=!1,y(A),A=-1),m=!0;var U=p;try{for(S(N),h=t(l);h!==null&&(!(h.expirationTime>N)||I&&!G());){var X=h.callback;if(typeof X=="function"){h.callback=null,p=h.priorityLevel;var Y=X(h.expirationTime<=N);N=n.unstable_now(),typeof Y=="function"?h.callback=Y:h===t(l)&&r(l),S(N)}else r(l);h=t(l)}if(h!==null)var ae=!0;else{var se=t(u);se!==null&&ie(M,se.startTime-N),ae=!1}return ae}finally{h=null,p=U,m=!1}}var P=!1,L=null,A=-1,R=5,k=-1;function G(){return!(n.unstable_now()-k<R)}function Z(){if(L!==null){var I=n.unstable_now();k=I;var N=!0;try{N=L(!0,I)}finally{N?W():(P=!1,L=null)}}else P=!1}var W;if(typeof w=="function")W=function(){w(Z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,j=O.port2;O.port1.onmessage=Z,W=function(){j.postMessage(null)}}else W=function(){_(Z,0)};function $(I){L=I,P||(P=!0,W())}function ie(I,N){A=_(function(){I(n.unstable_now())},N)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,$(T))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var U=p;p=N;try{return I()}finally{p=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,N){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=p;p=I;try{return N()}finally{p=U}},n.unstable_scheduleCallback=function(I,N,U){var X=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,I){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,I={id:f++,callback:N,priorityLevel:I,startTime:U,expirationTime:Y,sortIndex:-1},U>X?(I.sortIndex=U,e(u,I),t(l)===null&&I===t(u)&&(v?(y(A),A=-1):v=!0,ie(M,U-X))):(I.sortIndex=Y,e(l,I),g||m||(g=!0,$(T))),I},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(I){var N=p;return function(){var U=p;p=N;try{return I.apply(this,arguments)}finally{p=U}}}})(WI);(function(n){n.exports=WI})(jI);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $I=z.exports,gi=jI.exports;function Ce(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qI=new Set,xh={};function Au(n,e){nf(n,e),nf(n+"Capture",e)}function nf(n,e){for(xh[n]=e,n=0;n<e.length;n++)qI.add(e[n])}var Do=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kw=Object.prototype.hasOwnProperty,hV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fP={},dP={};function pV(n){return kw.call(dP,n)?!0:kw.call(fP,n)?!1:hV.test(n)?dP[n]=!0:(fP[n]=!0,!1)}function mV(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function gV(n,e,t,r){if(e===null||typeof e>"u"||mV(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Or(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ar[n]=new Or(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ar[e]=new Or(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ar[n]=new Or(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ar[n]=new Or(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ar[n]=new Or(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ar[n]=new Or(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ar[n]=new Or(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ar[n]=new Or(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ar[n]=new Or(n,5,!1,n.toLowerCase(),null,!1,!1)});var AM=/[\-:]([a-z])/g;function CM(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(AM,CM);ar[e]=new Or(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(AM,CM);ar[e]=new Or(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(AM,CM);ar[e]=new Or(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ar[n]=new Or(n,1,!1,n.toLowerCase(),null,!1,!1)});ar.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ar[n]=new Or(n,1,!1,n.toLowerCase(),null,!0,!0)});function PM(n,e,t,r){var i=ar.hasOwnProperty(e)?ar[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gV(e,t,i,r)&&(t=null),r||i===null?pV(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var jo=$I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zm=Symbol.for("react.element"),Tc=Symbol.for("react.portal"),Ec=Symbol.for("react.fragment"),RM=Symbol.for("react.strict_mode"),Fw=Symbol.for("react.profiler"),XI=Symbol.for("react.provider"),YI=Symbol.for("react.context"),LM=Symbol.for("react.forward_ref"),zw=Symbol.for("react.suspense"),Uw=Symbol.for("react.suspense_list"),OM=Symbol.for("react.memo"),_a=Symbol.for("react.lazy"),KI=Symbol.for("react.offscreen"),hP=Symbol.iterator;function hd(n){return n===null||typeof n!="object"?null:(n=hP&&n[hP]||n["@@iterator"],typeof n=="function"?n:null)}var mn=Object.assign,Ex;function Bd(n){if(Ex===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Ex=e&&e[1]||""}return`
`+Ex+n}var Ax=!1;function Cx(n,e){if(!n||Ax)return"";Ax=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ax=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Bd(n):""}function vV(n){switch(n.tag){case 5:return Bd(n.type);case 16:return Bd("Lazy");case 13:return Bd("Suspense");case 19:return Bd("SuspenseList");case 0:case 2:case 15:return n=Cx(n.type,!1),n;case 11:return n=Cx(n.type.render,!1),n;case 1:return n=Cx(n.type,!0),n;default:return""}}function Bw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Ec:return"Fragment";case Tc:return"Portal";case Fw:return"Profiler";case RM:return"StrictMode";case zw:return"Suspense";case Uw:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case YI:return(n.displayName||"Context")+".Consumer";case XI:return(n._context.displayName||"Context")+".Provider";case LM:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case OM:return e=n.displayName||null,e!==null?e:Bw(n.type)||"Memo";case _a:e=n._payload,n=n._init;try{return Bw(n(e))}catch{}}return null}function yV(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bw(e);case 8:return e===RM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $a(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function JI(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _V(n){var e=JI(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Qm(n){n._valueTracker||(n._valueTracker=_V(n))}function ZI(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=JI(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Yv(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Vw(n,e){var t=e.checked;return mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function pP(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=$a(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function QI(n,e){e=e.checked,e!=null&&PM(n,"checked",e,!1)}function Hw(n,e){QI(n,e);var t=$a(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Gw(n,e.type,t):e.hasOwnProperty("defaultValue")&&Gw(n,e.type,$a(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function mP(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Gw(n,e,t){(e!=="number"||Yv(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Vd=Array.isArray;function Wc(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+$a(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function jw(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ce(91));return mn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function gP(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ce(92));if(Vd(t)){if(1<t.length)throw Error(Ce(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:$a(t)}}function eD(n,e){var t=$a(e.value),r=$a(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function vP(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function tD(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ww(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?tD(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var eg,nD=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(eg=eg||document.createElement("div"),eg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eg.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function wh(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var $d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xV=["Webkit","ms","Moz","O"];Object.keys($d).forEach(function(n){xV.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),$d[e]=$d[n]})});function rD(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||$d.hasOwnProperty(n)&&$d[n]?(""+e).trim():e+"px"}function iD(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=rD(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var wV=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $w(n,e){if(e){if(wV[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ce(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ce(62))}}function qw(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xw=null;function IM(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yw=null,$c=null,qc=null;function yP(n){if(n=_p(n)){if(typeof Yw!="function")throw Error(Ce(280));var e=n.stateNode;e&&(e=Z0(e),Yw(n.stateNode,n.type,e))}}function sD(n){$c?qc?qc.push(n):qc=[n]:$c=n}function oD(){if($c){var n=$c,e=qc;if(qc=$c=null,yP(n),e)for(n=0;n<e.length;n++)yP(e[n])}}function aD(n,e){return n(e)}function lD(){}var Px=!1;function uD(n,e,t){if(Px)return n(e,t);Px=!0;try{return aD(n,e,t)}finally{Px=!1,($c!==null||qc!==null)&&(lD(),oD())}}function Sh(n,e){var t=n.stateNode;if(t===null)return null;var r=Z0(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ce(231,e,typeof t));return t}var Kw=!1;if(Do)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){Kw=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{Kw=!1}function SV(n,e,t,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(f){this.onError(f)}}var qd=!1,Kv=null,Jv=!1,Jw=null,bV={onError:function(n){qd=!0,Kv=n}};function MV(n,e,t,r,i,s,o,a,l){qd=!1,Kv=null,SV.apply(bV,arguments)}function TV(n,e,t,r,i,s,o,a,l){if(MV.apply(this,arguments),qd){if(qd){var u=Kv;qd=!1,Kv=null}else throw Error(Ce(198));Jv||(Jv=!0,Jw=u)}}function Cu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function cD(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function _P(n){if(Cu(n)!==n)throw Error(Ce(188))}function EV(n){var e=n.alternate;if(!e){if(e=Cu(n),e===null)throw Error(Ce(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return _P(i),n;if(s===r)return _P(i),e;s=s.sibling}throw Error(Ce(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Ce(189))}}if(t.alternate!==r)throw Error(Ce(190))}if(t.tag!==3)throw Error(Ce(188));return t.stateNode.current===t?n:e}function fD(n){return n=EV(n),n!==null?dD(n):null}function dD(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=dD(n);if(e!==null)return e;n=n.sibling}return null}var hD=gi.unstable_scheduleCallback,xP=gi.unstable_cancelCallback,AV=gi.unstable_shouldYield,CV=gi.unstable_requestPaint,En=gi.unstable_now,PV=gi.unstable_getCurrentPriorityLevel,DM=gi.unstable_ImmediatePriority,pD=gi.unstable_UserBlockingPriority,Zv=gi.unstable_NormalPriority,RV=gi.unstable_LowPriority,mD=gi.unstable_IdlePriority,X0=null,Ws=null;function LV(n){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(X0,n,void 0,(n.current.flags&128)===128)}catch{}}var fs=Math.clz32?Math.clz32:DV,OV=Math.log,IV=Math.LN2;function DV(n){return n>>>=0,n===0?32:31-(OV(n)/IV|0)|0}var tg=64,ng=4194304;function Hd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Qv(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Hd(a):(s&=o,s!==0&&(r=Hd(s)))}else o=t&~i,o!==0?r=Hd(o):s!==0&&(r=Hd(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-fs(e),i=1<<t,r|=n[t],e&=~i;return r}function NV(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kV(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-fs(s),a=1<<o,l=i[o];l===-1?((a&t)===0||(a&r)!==0)&&(i[o]=NV(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Zw(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function gD(){var n=tg;return tg<<=1,(tg&4194240)===0&&(tg=64),n}function Rx(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function vp(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-fs(e),n[e]=t}function FV(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-fs(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function NM(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-fs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Ht=0;function vD(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var yD,kM,_D,xD,wD,Qw=!1,rg=[],Na=null,ka=null,Fa=null,bh=new Map,Mh=new Map,Ma=[],zV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wP(n,e){switch(n){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":bh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mh.delete(e.pointerId)}}function md(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_p(e),e!==null&&kM(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function UV(n,e,t,r,i){switch(e){case"focusin":return Na=md(Na,n,e,t,r,i),!0;case"dragenter":return ka=md(ka,n,e,t,r,i),!0;case"mouseover":return Fa=md(Fa,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return bh.set(s,md(bh.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Mh.set(s,md(Mh.get(s)||null,n,e,t,r,i)),!0}return!1}function SD(n){var e=Xl(n.target);if(e!==null){var t=Cu(e);if(t!==null){if(e=t.tag,e===13){if(e=cD(t),e!==null){n.blockedOn=e,wD(n.priority,function(){_D(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Sv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=eS(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Xw=r,t.target.dispatchEvent(r),Xw=null}else return e=_p(t),e!==null&&kM(e),n.blockedOn=t,!1;e.shift()}return!0}function SP(n,e,t){Sv(n)&&t.delete(e)}function BV(){Qw=!1,Na!==null&&Sv(Na)&&(Na=null),ka!==null&&Sv(ka)&&(ka=null),Fa!==null&&Sv(Fa)&&(Fa=null),bh.forEach(SP),Mh.forEach(SP)}function gd(n,e){n.blockedOn===e&&(n.blockedOn=null,Qw||(Qw=!0,gi.unstable_scheduleCallback(gi.unstable_NormalPriority,BV)))}function Th(n){function e(i){return gd(i,n)}if(0<rg.length){gd(rg[0],n);for(var t=1;t<rg.length;t++){var r=rg[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Na!==null&&gd(Na,n),ka!==null&&gd(ka,n),Fa!==null&&gd(Fa,n),bh.forEach(e),Mh.forEach(e),t=0;t<Ma.length;t++)r=Ma[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ma.length&&(t=Ma[0],t.blockedOn===null);)SD(t),t.blockedOn===null&&Ma.shift()}var Xc=jo.ReactCurrentBatchConfig,e0=!0;function VV(n,e,t,r){var i=Ht,s=Xc.transition;Xc.transition=null;try{Ht=1,FM(n,e,t,r)}finally{Ht=i,Xc.transition=s}}function HV(n,e,t,r){var i=Ht,s=Xc.transition;Xc.transition=null;try{Ht=4,FM(n,e,t,r)}finally{Ht=i,Xc.transition=s}}function FM(n,e,t,r){if(e0){var i=eS(n,e,t,r);if(i===null)Bx(n,e,r,t0,t),wP(n,r);else if(UV(i,n,e,t,r))r.stopPropagation();else if(wP(n,r),e&4&&-1<zV.indexOf(n)){for(;i!==null;){var s=_p(i);if(s!==null&&yD(s),s=eS(n,e,t,r),s===null&&Bx(n,e,r,t0,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bx(n,e,r,null,t)}}var t0=null;function eS(n,e,t,r){if(t0=null,n=IM(r),n=Xl(n),n!==null)if(e=Cu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=cD(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return t0=n,null}function bD(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PV()){case DM:return 1;case pD:return 4;case Zv:case RV:return 16;case mD:return 536870912;default:return 16}default:return 16}}var Ea=null,zM=null,bv=null;function MD(){if(bv)return bv;var n,e=zM,t=e.length,r,i="value"in Ea?Ea.value:Ea.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return bv=i.slice(n,1<r?1-r:void 0)}function Mv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ig(){return!0}function bP(){return!1}function yi(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ig:bP,this.isPropagationStopped=bP,this}return mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ig)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ig)},persist:function(){},isPersistent:ig}),e}var Pf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},UM=yi(Pf),yp=mn({},Pf,{view:0,detail:0}),GV=yi(yp),Lx,Ox,vd,Y0=mn({},yp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:BM,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==vd&&(vd&&n.type==="mousemove"?(Lx=n.screenX-vd.screenX,Ox=n.screenY-vd.screenY):Ox=Lx=0,vd=n),Lx)},movementY:function(n){return"movementY"in n?n.movementY:Ox}}),MP=yi(Y0),jV=mn({},Y0,{dataTransfer:0}),WV=yi(jV),$V=mn({},yp,{relatedTarget:0}),Ix=yi($V),qV=mn({},Pf,{animationName:0,elapsedTime:0,pseudoElement:0}),XV=yi(qV),YV=mn({},Pf,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),KV=yi(YV),JV=mn({},Pf,{data:0}),TP=yi(JV),ZV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t6(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=e6[n])?!!e[n]:!1}function BM(){return t6}var n6=mn({},yp,{key:function(n){if(n.key){var e=ZV[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Mv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?QV[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:BM,charCode:function(n){return n.type==="keypress"?Mv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Mv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),r6=yi(n6),i6=mn({},Y0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EP=yi(i6),s6=mn({},yp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:BM}),o6=yi(s6),a6=mn({},Pf,{propertyName:0,elapsedTime:0,pseudoElement:0}),l6=yi(a6),u6=mn({},Y0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),c6=yi(u6),f6=[9,13,27,32],VM=Do&&"CompositionEvent"in window,Xd=null;Do&&"documentMode"in document&&(Xd=document.documentMode);var d6=Do&&"TextEvent"in window&&!Xd,TD=Do&&(!VM||Xd&&8<Xd&&11>=Xd),AP=String.fromCharCode(32),CP=!1;function ED(n,e){switch(n){case"keyup":return f6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AD(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ac=!1;function h6(n,e){switch(n){case"compositionend":return AD(e);case"keypress":return e.which!==32?null:(CP=!0,AP);case"textInput":return n=e.data,n===AP&&CP?null:n;default:return null}}function p6(n,e){if(Ac)return n==="compositionend"||!VM&&ED(n,e)?(n=MD(),bv=zM=Ea=null,Ac=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TD&&e.locale!=="ko"?null:e.data;default:return null}}var m6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!m6[n.type]:e==="textarea"}function CD(n,e,t,r){sD(r),e=n0(e,"onChange"),0<e.length&&(t=new UM("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Yd=null,Eh=null;function g6(n){UD(n,0)}function K0(n){var e=Rc(n);if(ZI(e))return n}function v6(n,e){if(n==="change")return e}var PD=!1;if(Do){var Dx;if(Do){var Nx="oninput"in document;if(!Nx){var RP=document.createElement("div");RP.setAttribute("oninput","return;"),Nx=typeof RP.oninput=="function"}Dx=Nx}else Dx=!1;PD=Dx&&(!document.documentMode||9<document.documentMode)}function LP(){Yd&&(Yd.detachEvent("onpropertychange",RD),Eh=Yd=null)}function RD(n){if(n.propertyName==="value"&&K0(Eh)){var e=[];CD(e,Eh,n,IM(n)),uD(g6,e)}}function y6(n,e,t){n==="focusin"?(LP(),Yd=e,Eh=t,Yd.attachEvent("onpropertychange",RD)):n==="focusout"&&LP()}function _6(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return K0(Eh)}function x6(n,e){if(n==="click")return K0(e)}function w6(n,e){if(n==="input"||n==="change")return K0(e)}function S6(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var vs=typeof Object.is=="function"?Object.is:S6;function Ah(n,e){if(vs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!kw.call(e,i)||!vs(n[i],e[i]))return!1}return!0}function OP(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function IP(n,e){var t=OP(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=OP(t)}}function LD(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?LD(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function OD(){for(var n=window,e=Yv();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Yv(n.document)}return e}function HM(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function b6(n){var e=OD(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&LD(t.ownerDocument.documentElement,t)){if(r!==null&&HM(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=IP(t,s);var o=IP(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var M6=Do&&"documentMode"in document&&11>=document.documentMode,Cc=null,tS=null,Kd=null,nS=!1;function DP(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;nS||Cc==null||Cc!==Yv(r)||(r=Cc,"selectionStart"in r&&HM(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kd&&Ah(Kd,r)||(Kd=r,r=n0(tS,"onSelect"),0<r.length&&(e=new UM("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Cc)))}function sg(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Pc={animationend:sg("Animation","AnimationEnd"),animationiteration:sg("Animation","AnimationIteration"),animationstart:sg("Animation","AnimationStart"),transitionend:sg("Transition","TransitionEnd")},kx={},ID={};Do&&(ID=document.createElement("div").style,"AnimationEvent"in window||(delete Pc.animationend.animation,delete Pc.animationiteration.animation,delete Pc.animationstart.animation),"TransitionEvent"in window||delete Pc.transitionend.transition);function J0(n){if(kx[n])return kx[n];if(!Pc[n])return n;var e=Pc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in ID)return kx[n]=e[t];return n}var DD=J0("animationend"),ND=J0("animationiteration"),kD=J0("animationstart"),FD=J0("transitionend"),zD=new Map,NP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sl(n,e){zD.set(n,e),Au(e,[n])}for(var Fx=0;Fx<NP.length;Fx++){var zx=NP[Fx],T6=zx.toLowerCase(),E6=zx[0].toUpperCase()+zx.slice(1);sl(T6,"on"+E6)}sl(DD,"onAnimationEnd");sl(ND,"onAnimationIteration");sl(kD,"onAnimationStart");sl("dblclick","onDoubleClick");sl("focusin","onFocus");sl("focusout","onBlur");sl(FD,"onTransitionEnd");nf("onMouseEnter",["mouseout","mouseover"]);nf("onMouseLeave",["mouseout","mouseover"]);nf("onPointerEnter",["pointerout","pointerover"]);nf("onPointerLeave",["pointerout","pointerover"]);Au("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Au("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Au("onBeforeInput",["compositionend","keypress","textInput","paste"]);Au("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gd));function kP(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,TV(r,e,void 0,n),n.currentTarget=null}function UD(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;kP(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;kP(i,a,u),s=l}}}if(Jv)throw n=Jw,Jv=!1,Jw=null,n}function en(n,e){var t=e[aS];t===void 0&&(t=e[aS]=new Set);var r=n+"__bubble";t.has(r)||(BD(e,n,2,!1),t.add(r))}function Ux(n,e,t){var r=0;e&&(r|=4),BD(t,n,r,e)}var og="_reactListening"+Math.random().toString(36).slice(2);function Ch(n){if(!n[og]){n[og]=!0,qI.forEach(function(t){t!=="selectionchange"&&(A6.has(t)||Ux(t,!1,n),Ux(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[og]||(e[og]=!0,Ux("selectionchange",!1,e))}}function BD(n,e,t,r){switch(bD(e)){case 1:var i=VV;break;case 4:i=HV;break;default:i=FM}t=i.bind(null,e,t,n),i=void 0,!Kw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Bx(n,e,t,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Xl(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}uD(function(){var u=s,f=IM(t),h=[];e:{var p=zD.get(n);if(p!==void 0){var m=UM,g=n;switch(n){case"keypress":if(Mv(t)===0)break e;case"keydown":case"keyup":m=r6;break;case"focusin":g="focus",m=Ix;break;case"focusout":g="blur",m=Ix;break;case"beforeblur":case"afterblur":m=Ix;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=MP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=WV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=o6;break;case DD:case ND:case kD:m=XV;break;case FD:m=l6;break;case"scroll":m=GV;break;case"wheel":m=c6;break;case"copy":case"cut":case"paste":m=KV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=EP}var v=(e&4)!==0,_=!v&&n==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var w=u,S;w!==null;){S=w;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,y!==null&&(M=Sh(w,y),M!=null&&v.push(Ph(w,M,S)))),_)break;w=w.return}0<v.length&&(p=new m(p,g,null,t,f),h.push({event:p,listeners:v}))}}if((e&7)===0){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Xw&&(g=t.relatedTarget||t.fromElement)&&(Xl(g)||g[No]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=u,g=g?Xl(g):null,g!==null&&(_=Cu(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=MP,M="onMouseLeave",y="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(v=EP,M="onPointerLeave",y="onPointerEnter",w="pointer"),_=m==null?p:Rc(m),S=g==null?p:Rc(g),p=new v(M,w+"leave",m,t,f),p.target=_,p.relatedTarget=S,M=null,Xl(f)===u&&(v=new v(y,w+"enter",g,t,f),v.target=S,v.relatedTarget=_,M=v),_=M,m&&g)t:{for(v=m,y=g,w=0,S=v;S;S=Ju(S))w++;for(S=0,M=y;M;M=Ju(M))S++;for(;0<w-S;)v=Ju(v),w--;for(;0<S-w;)y=Ju(y),S--;for(;w--;){if(v===y||y!==null&&v===y.alternate)break t;v=Ju(v),y=Ju(y)}v=null}else v=null;m!==null&&FP(h,p,m,v,!1),g!==null&&_!==null&&FP(h,_,g,v,!0)}}e:{if(p=u?Rc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=v6;else if(PP(p))if(PD)T=w6;else{T=_6;var P=y6}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=x6);if(T&&(T=T(n,u))){CD(h,T,t,f);break e}P&&P(n,p,u),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&Gw(p,"number",p.value)}switch(P=u?Rc(u):window,n){case"focusin":(PP(P)||P.contentEditable==="true")&&(Cc=P,tS=u,Kd=null);break;case"focusout":Kd=tS=Cc=null;break;case"mousedown":nS=!0;break;case"contextmenu":case"mouseup":case"dragend":nS=!1,DP(h,t,f);break;case"selectionchange":if(M6)break;case"keydown":case"keyup":DP(h,t,f)}var L;if(VM)e:{switch(n){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ac?ED(n,t)&&(A="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(A="onCompositionStart");A&&(TD&&t.locale!=="ko"&&(Ac||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ac&&(L=MD()):(Ea=f,zM="value"in Ea?Ea.value:Ea.textContent,Ac=!0)),P=n0(u,A),0<P.length&&(A=new TP(A,n,null,t,f),h.push({event:A,listeners:P}),L?A.data=L:(L=AD(t),L!==null&&(A.data=L)))),(L=d6?h6(n,t):p6(n,t))&&(u=n0(u,"onBeforeInput"),0<u.length&&(f=new TP("onBeforeInput","beforeinput",null,t,f),h.push({event:f,listeners:u}),f.data=L))}UD(h,e)})}function Ph(n,e,t){return{instance:n,listener:e,currentTarget:t}}function n0(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sh(n,t),s!=null&&r.unshift(Ph(n,s,i)),s=Sh(n,e),s!=null&&r.push(Ph(n,s,i))),n=n.return}return r}function Ju(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function FP(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Sh(t,s),l!=null&&o.unshift(Ph(t,l,a))):i||(l=Sh(t,s),l!=null&&o.push(Ph(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var C6=/\r\n?/g,P6=/\u0000|\uFFFD/g;function zP(n){return(typeof n=="string"?n:""+n).replace(C6,`
`).replace(P6,"")}function ag(n,e,t){if(e=zP(e),zP(n)!==e&&t)throw Error(Ce(425))}function r0(){}var rS=null,iS=null;function sS(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var oS=typeof setTimeout=="function"?setTimeout:void 0,R6=typeof clearTimeout=="function"?clearTimeout:void 0,UP=typeof Promise=="function"?Promise:void 0,L6=typeof queueMicrotask=="function"?queueMicrotask:typeof UP<"u"?function(n){return UP.resolve(null).then(n).catch(O6)}:oS;function O6(n){setTimeout(function(){throw n})}function Vx(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),Th(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);Th(e)}function za(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function BP(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Rf=Math.random().toString(36).slice(2),Bs="__reactFiber$"+Rf,Rh="__reactProps$"+Rf,No="__reactContainer$"+Rf,aS="__reactEvents$"+Rf,I6="__reactListeners$"+Rf,D6="__reactHandles$"+Rf;function Xl(n){var e=n[Bs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[No]||t[Bs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=BP(n);n!==null;){if(t=n[Bs])return t;n=BP(n)}return e}n=t,t=n.parentNode}return null}function _p(n){return n=n[Bs]||n[No],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Rc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ce(33))}function Z0(n){return n[Rh]||null}var lS=[],Lc=-1;function ol(n){return{current:n}}function rn(n){0>Lc||(n.current=lS[Lc],lS[Lc]=null,Lc--)}function Zt(n,e){Lc++,lS[Lc]=n.current,n.current=e}var qa={},wr=ol(qa),$r=ol(!1),mu=qa;function rf(n,e){var t=n.type.contextTypes;if(!t)return qa;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function qr(n){return n=n.childContextTypes,n!=null}function i0(){rn($r),rn(wr)}function VP(n,e,t){if(wr.current!==qa)throw Error(Ce(168));Zt(wr,e),Zt($r,t)}function VD(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ce(108,yV(n)||"Unknown",i));return mn({},t,r)}function s0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||qa,mu=wr.current,Zt(wr,n),Zt($r,$r.current),!0}function HP(n,e,t){var r=n.stateNode;if(!r)throw Error(Ce(169));t?(n=VD(n,e,mu),r.__reactInternalMemoizedMergedChildContext=n,rn($r),rn(wr),Zt(wr,n)):rn($r),Zt($r,t)}var wo=null,Q0=!1,Hx=!1;function HD(n){wo===null?wo=[n]:wo.push(n)}function N6(n){Q0=!0,HD(n)}function al(){if(!Hx&&wo!==null){Hx=!0;var n=0,e=Ht;try{var t=wo;for(Ht=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}wo=null,Q0=!1}catch(i){throw wo!==null&&(wo=wo.slice(n+1)),hD(DM,al),i}finally{Ht=e,Hx=!1}}return null}var Oc=[],Ic=0,o0=null,a0=0,Hi=[],Gi=0,gu=null,To=1,Eo="";function Dl(n,e){Oc[Ic++]=a0,Oc[Ic++]=o0,o0=n,a0=e}function GD(n,e,t){Hi[Gi++]=To,Hi[Gi++]=Eo,Hi[Gi++]=gu,gu=n;var r=To;n=Eo;var i=32-fs(r)-1;r&=~(1<<i),t+=1;var s=32-fs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,To=1<<32-fs(e)+i|t<<i|r,Eo=s+n}else To=1<<s|t<<i|r,Eo=n}function GM(n){n.return!==null&&(Dl(n,1),GD(n,1,0))}function jM(n){for(;n===o0;)o0=Oc[--Ic],Oc[Ic]=null,a0=Oc[--Ic],Oc[Ic]=null;for(;n===gu;)gu=Hi[--Gi],Hi[Gi]=null,Eo=Hi[--Gi],Hi[Gi]=null,To=Hi[--Gi],Hi[Gi]=null}var di=null,li=null,un=!1,us=null;function jD(n,e){var t=Wi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function GP(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,di=n,li=za(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,di=n,li=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=gu!==null?{id:To,overflow:Eo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Wi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,di=n,li=null,!0):!1;default:return!1}}function uS(n){return(n.mode&1)!==0&&(n.flags&128)===0}function cS(n){if(un){var e=li;if(e){var t=e;if(!GP(n,e)){if(uS(n))throw Error(Ce(418));e=za(t.nextSibling);var r=di;e&&GP(n,e)?jD(r,t):(n.flags=n.flags&-4097|2,un=!1,di=n)}}else{if(uS(n))throw Error(Ce(418));n.flags=n.flags&-4097|2,un=!1,di=n}}}function jP(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;di=n}function lg(n){if(n!==di)return!1;if(!un)return jP(n),un=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!sS(n.type,n.memoizedProps)),e&&(e=li)){if(uS(n))throw WD(),Error(Ce(418));for(;e;)jD(n,e),e=za(e.nextSibling)}if(jP(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ce(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){li=za(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}li=null}}else li=di?za(n.stateNode.nextSibling):null;return!0}function WD(){for(var n=li;n;)n=za(n.nextSibling)}function sf(){li=di=null,un=!1}function WM(n){us===null?us=[n]:us.push(n)}var k6=jo.ReactCurrentBatchConfig;function ss(n,e){if(n&&n.defaultProps){e=mn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var l0=ol(null),u0=null,Dc=null,$M=null;function qM(){$M=Dc=u0=null}function XM(n){var e=l0.current;rn(l0),n._currentValue=e}function fS(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Yc(n,e){u0=n,$M=Dc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(Gr=!0),n.firstContext=null)}function qi(n){var e=n._currentValue;if($M!==n)if(n={context:n,memoizedValue:e,next:null},Dc===null){if(u0===null)throw Error(Ce(308));Dc=n,u0.dependencies={lanes:0,firstContext:n}}else Dc=Dc.next=n;return e}var Yl=null;function YM(n){Yl===null?Yl=[n]:Yl.push(n)}function $D(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,YM(e)):(t.next=i.next,i.next=t),e.interleaved=t,ko(n,r)}function ko(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var xa=!1;function KM(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qD(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Lo(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(Lt&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ko(n,t)}return i=r.interleaved,i===null?(e.next=e,YM(r)):(e.next=i.next,i.next=e),r.interleaved=e,ko(n,t)}function Tv(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,NM(n,t)}}function WP(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function c0(n,e,t,r){var i=n.updateQueue;xa=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=n.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,f=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,v=a;switch(p=e,m=t,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(m,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(m,h,p):g,p==null)break e;h=mn({},h,p);break e;case 2:xa=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=m,l=h):f=f.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);yu|=o,n.lanes=o,n.memoizedState=h}}function $P(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Ce(191,i));i.call(r)}}}var XD=new $I.Component().refs;function dS(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:mn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ey={isMounted:function(n){return(n=n._reactInternals)?Cu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Rr(),i=Va(n),s=Lo(r,i);s.payload=e,t!=null&&(s.callback=t),e=Ua(n,s,i),e!==null&&(ds(e,n,i,r),Tv(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Rr(),i=Va(n),s=Lo(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Ua(n,s,i),e!==null&&(ds(e,n,i,r),Tv(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Rr(),r=Va(n),i=Lo(t,r);i.tag=2,e!=null&&(i.callback=e),e=Ua(n,i,r),e!==null&&(ds(e,n,r,t),Tv(e,n,r))}};function qP(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ah(t,r)||!Ah(i,s):!0}function YD(n,e,t){var r=!1,i=qa,s=e.contextType;return typeof s=="object"&&s!==null?s=qi(s):(i=qr(e)?mu:wr.current,r=e.contextTypes,s=(r=r!=null)?rf(n,i):qa),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ey,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function XP(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&ey.enqueueReplaceState(e,e.state,null)}function hS(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=XD,KM(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=qi(s):(s=qr(e)?mu:wr.current,i.context=rf(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dS(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ey.enqueueReplaceState(i,i.state,null),c0(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function yd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ce(309));var r=t.stateNode}if(!r)throw Error(Ce(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===XD&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ce(284));if(!t._owner)throw Error(Ce(290,n))}return n}function ug(n,e){throw n=Object.prototype.toString.call(e),Error(Ce(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function YP(n){var e=n._init;return e(n._payload)}function KD(n){function e(y,w){if(n){var S=y.deletions;S===null?(y.deletions=[w],y.flags|=16):S.push(w)}}function t(y,w){if(!n)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=Ha(y,w),y.index=0,y.sibling=null,y}function s(y,w,S){return y.index=S,n?(S=y.alternate,S!==null?(S=S.index,S<w?(y.flags|=2,w):S):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return n&&y.alternate===null&&(y.flags|=2),y}function a(y,w,S,M){return w===null||w.tag!==6?(w=Yx(S,y.mode,M),w.return=y,w):(w=i(w,S),w.return=y,w)}function l(y,w,S,M){var T=S.type;return T===Ec?f(y,w,S.props.children,M,S.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===_a&&YP(T)===w.type)?(M=i(w,S.props),M.ref=yd(y,w,S),M.return=y,M):(M=Lv(S.type,S.key,S.props,null,y.mode,M),M.ref=yd(y,w,S),M.return=y,M)}function u(y,w,S,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Kx(S,y.mode,M),w.return=y,w):(w=i(w,S.children||[]),w.return=y,w)}function f(y,w,S,M,T){return w===null||w.tag!==7?(w=ou(S,y.mode,M,T),w.return=y,w):(w=i(w,S),w.return=y,w)}function h(y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Yx(""+w,y.mode,S),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zm:return S=Lv(w.type,w.key,w.props,null,y.mode,S),S.ref=yd(y,null,w),S.return=y,S;case Tc:return w=Kx(w,y.mode,S),w.return=y,w;case _a:var M=w._init;return h(y,M(w._payload),S)}if(Vd(w)||hd(w))return w=ou(w,y.mode,S,null),w.return=y,w;ug(y,w)}return null}function p(y,w,S,M){var T=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:a(y,w,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zm:return S.key===T?l(y,w,S,M):null;case Tc:return S.key===T?u(y,w,S,M):null;case _a:return T=S._init,p(y,w,T(S._payload),M)}if(Vd(S)||hd(S))return T!==null?null:f(y,w,S,M,null);ug(y,S)}return null}function m(y,w,S,M,T){if(typeof M=="string"&&M!==""||typeof M=="number")return y=y.get(S)||null,a(w,y,""+M,T);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Zm:return y=y.get(M.key===null?S:M.key)||null,l(w,y,M,T);case Tc:return y=y.get(M.key===null?S:M.key)||null,u(w,y,M,T);case _a:var P=M._init;return m(y,w,S,P(M._payload),T)}if(Vd(M)||hd(M))return y=y.get(S)||null,f(w,y,M,T,null);ug(w,M)}return null}function g(y,w,S,M){for(var T=null,P=null,L=w,A=w=0,R=null;L!==null&&A<S.length;A++){L.index>A?(R=L,L=null):R=L.sibling;var k=p(y,L,S[A],M);if(k===null){L===null&&(L=R);break}n&&L&&k.alternate===null&&e(y,L),w=s(k,w,A),P===null?T=k:P.sibling=k,P=k,L=R}if(A===S.length)return t(y,L),un&&Dl(y,A),T;if(L===null){for(;A<S.length;A++)L=h(y,S[A],M),L!==null&&(w=s(L,w,A),P===null?T=L:P.sibling=L,P=L);return un&&Dl(y,A),T}for(L=r(y,L);A<S.length;A++)R=m(L,y,A,S[A],M),R!==null&&(n&&R.alternate!==null&&L.delete(R.key===null?A:R.key),w=s(R,w,A),P===null?T=R:P.sibling=R,P=R);return n&&L.forEach(function(G){return e(y,G)}),un&&Dl(y,A),T}function v(y,w,S,M){var T=hd(S);if(typeof T!="function")throw Error(Ce(150));if(S=T.call(S),S==null)throw Error(Ce(151));for(var P=T=null,L=w,A=w=0,R=null,k=S.next();L!==null&&!k.done;A++,k=S.next()){L.index>A?(R=L,L=null):R=L.sibling;var G=p(y,L,k.value,M);if(G===null){L===null&&(L=R);break}n&&L&&G.alternate===null&&e(y,L),w=s(G,w,A),P===null?T=G:P.sibling=G,P=G,L=R}if(k.done)return t(y,L),un&&Dl(y,A),T;if(L===null){for(;!k.done;A++,k=S.next())k=h(y,k.value,M),k!==null&&(w=s(k,w,A),P===null?T=k:P.sibling=k,P=k);return un&&Dl(y,A),T}for(L=r(y,L);!k.done;A++,k=S.next())k=m(L,y,A,k.value,M),k!==null&&(n&&k.alternate!==null&&L.delete(k.key===null?A:k.key),w=s(k,w,A),P===null?T=k:P.sibling=k,P=k);return n&&L.forEach(function(Z){return e(y,Z)}),un&&Dl(y,A),T}function _(y,w,S,M){if(typeof S=="object"&&S!==null&&S.type===Ec&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Zm:e:{for(var T=S.key,P=w;P!==null;){if(P.key===T){if(T=S.type,T===Ec){if(P.tag===7){t(y,P.sibling),w=i(P,S.props.children),w.return=y,y=w;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===_a&&YP(T)===P.type){t(y,P.sibling),w=i(P,S.props),w.ref=yd(y,P,S),w.return=y,y=w;break e}t(y,P);break}else e(y,P);P=P.sibling}S.type===Ec?(w=ou(S.props.children,y.mode,M,S.key),w.return=y,y=w):(M=Lv(S.type,S.key,S.props,null,y.mode,M),M.ref=yd(y,w,S),M.return=y,y=M)}return o(y);case Tc:e:{for(P=S.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){t(y,w.sibling),w=i(w,S.children||[]),w.return=y,y=w;break e}else{t(y,w);break}else e(y,w);w=w.sibling}w=Kx(S,y.mode,M),w.return=y,y=w}return o(y);case _a:return P=S._init,_(y,w,P(S._payload),M)}if(Vd(S))return g(y,w,S,M);if(hd(S))return v(y,w,S,M);ug(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(t(y,w.sibling),w=i(w,S),w.return=y,y=w):(t(y,w),w=Yx(S,y.mode,M),w.return=y,y=w),o(y)):t(y,w)}return _}var of=KD(!0),JD=KD(!1),xp={},$s=ol(xp),Lh=ol(xp),Oh=ol(xp);function Kl(n){if(n===xp)throw Error(Ce(174));return n}function JM(n,e){switch(Zt(Oh,e),Zt(Lh,n),Zt($s,xp),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ww(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Ww(e,n)}rn($s),Zt($s,e)}function af(){rn($s),rn(Lh),rn(Oh)}function ZD(n){Kl(Oh.current);var e=Kl($s.current),t=Ww(e,n.type);e!==t&&(Zt(Lh,n),Zt($s,t))}function ZM(n){Lh.current===n&&(rn($s),rn(Lh))}var fn=ol(0);function f0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gx=[];function QM(){for(var n=0;n<Gx.length;n++)Gx[n]._workInProgressVersionPrimary=null;Gx.length=0}var Ev=jo.ReactCurrentDispatcher,jx=jo.ReactCurrentBatchConfig,vu=0,pn=null,zn=null,Yn=null,d0=!1,Jd=!1,Ih=0,F6=0;function hr(){throw Error(Ce(321))}function eT(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!vs(n[t],e[t]))return!1;return!0}function tT(n,e,t,r,i,s){if(vu=s,pn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ev.current=n===null||n.memoizedState===null?V6:H6,n=t(r,i),Jd){s=0;do{if(Jd=!1,Ih=0,25<=s)throw Error(Ce(301));s+=1,Yn=zn=null,e.updateQueue=null,Ev.current=G6,n=t(r,i)}while(Jd)}if(Ev.current=h0,e=zn!==null&&zn.next!==null,vu=0,Yn=zn=pn=null,d0=!1,e)throw Error(Ce(300));return n}function nT(){var n=Ih!==0;return Ih=0,n}function Ns(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?pn.memoizedState=Yn=n:Yn=Yn.next=n,Yn}function Xi(){if(zn===null){var n=pn.alternate;n=n!==null?n.memoizedState:null}else n=zn.next;var e=Yn===null?pn.memoizedState:Yn.next;if(e!==null)Yn=e,zn=n;else{if(n===null)throw Error(Ce(310));zn=n,n={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Yn===null?pn.memoizedState=Yn=n:Yn=Yn.next=n}return Yn}function Dh(n,e){return typeof e=="function"?e(n):e}function Wx(n){var e=Xi(),t=e.queue;if(t===null)throw Error(Ce(311));t.lastRenderedReducer=n;var r=zn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((vu&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,pn.lanes|=f,yu|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,vs(r,e.memoizedState)||(Gr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,pn.lanes|=s,yu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function $x(n){var e=Xi(),t=e.queue;if(t===null)throw Error(Ce(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);vs(s,e.memoizedState)||(Gr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function QD(){}function eN(n,e){var t=pn,r=Xi(),i=e(),s=!vs(r.memoizedState,i);if(s&&(r.memoizedState=i,Gr=!0),r=r.queue,rT(rN.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Yn!==null&&Yn.memoizedState.tag&1){if(t.flags|=2048,Nh(9,nN.bind(null,t,r,i,e),void 0,null),Jn===null)throw Error(Ce(349));(vu&30)!==0||tN(t,e,i)}return i}function tN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function nN(n,e,t,r){e.value=t,e.getSnapshot=r,iN(e)&&sN(n)}function rN(n,e,t){return t(function(){iN(e)&&sN(n)})}function iN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!vs(n,t)}catch{return!0}}function sN(n){var e=ko(n,1);e!==null&&ds(e,n,1,-1)}function KP(n){var e=Ns();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:n},e.queue=n,n=n.dispatch=B6.bind(null,pn,n),[e.memoizedState,n]}function Nh(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=pn.updateQueue,e===null?(e={lastEffect:null,stores:null},pn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function oN(){return Xi().memoizedState}function Av(n,e,t,r){var i=Ns();pn.flags|=n,i.memoizedState=Nh(1|e,t,void 0,r===void 0?null:r)}function ty(n,e,t,r){var i=Xi();r=r===void 0?null:r;var s=void 0;if(zn!==null){var o=zn.memoizedState;if(s=o.destroy,r!==null&&eT(r,o.deps)){i.memoizedState=Nh(e,t,s,r);return}}pn.flags|=n,i.memoizedState=Nh(1|e,t,s,r)}function JP(n,e){return Av(8390656,8,n,e)}function rT(n,e){return ty(2048,8,n,e)}function aN(n,e){return ty(4,2,n,e)}function lN(n,e){return ty(4,4,n,e)}function uN(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function cN(n,e,t){return t=t!=null?t.concat([n]):null,ty(4,4,uN.bind(null,e,n),t)}function iT(){}function fN(n,e){var t=Xi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&eT(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function dN(n,e){var t=Xi();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&eT(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function hN(n,e,t){return(vu&21)===0?(n.baseState&&(n.baseState=!1,Gr=!0),n.memoizedState=t):(vs(t,e)||(t=gD(),pn.lanes|=t,yu|=t,n.baseState=!0),e)}function z6(n,e){var t=Ht;Ht=t!==0&&4>t?t:4,n(!0);var r=jx.transition;jx.transition={};try{n(!1),e()}finally{Ht=t,jx.transition=r}}function pN(){return Xi().memoizedState}function U6(n,e,t){var r=Va(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},mN(n))gN(e,t);else if(t=$D(n,e,t,r),t!==null){var i=Rr();ds(t,n,r,i),vN(t,e,r)}}function B6(n,e,t){var r=Va(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(mN(n))gN(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,vs(a,o)){var l=e.interleaved;l===null?(i.next=i,YM(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=$D(n,e,i,r),t!==null&&(i=Rr(),ds(t,n,r,i),vN(t,e,r))}}function mN(n){var e=n.alternate;return n===pn||e!==null&&e===pn}function gN(n,e){Jd=d0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function vN(n,e,t){if((t&4194240)!==0){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,NM(n,t)}}var h0={readContext:qi,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},V6={readContext:qi,useCallback:function(n,e){return Ns().memoizedState=[n,e===void 0?null:e],n},useContext:qi,useEffect:JP,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Av(4194308,4,uN.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Av(4194308,4,n,e)},useInsertionEffect:function(n,e){return Av(4,2,n,e)},useMemo:function(n,e){var t=Ns();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ns();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=U6.bind(null,pn,n),[r.memoizedState,n]},useRef:function(n){var e=Ns();return n={current:n},e.memoizedState=n},useState:KP,useDebugValue:iT,useDeferredValue:function(n){return Ns().memoizedState=n},useTransition:function(){var n=KP(!1),e=n[0];return n=z6.bind(null,n[1]),Ns().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=pn,i=Ns();if(un){if(t===void 0)throw Error(Ce(407));t=t()}else{if(t=e(),Jn===null)throw Error(Ce(349));(vu&30)!==0||tN(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,JP(rN.bind(null,r,s,n),[n]),r.flags|=2048,Nh(9,nN.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Ns(),e=Jn.identifierPrefix;if(un){var t=Eo,r=To;t=(r&~(1<<32-fs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ih++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=F6++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},H6={readContext:qi,useCallback:fN,useContext:qi,useEffect:rT,useImperativeHandle:cN,useInsertionEffect:aN,useLayoutEffect:lN,useMemo:dN,useReducer:Wx,useRef:oN,useState:function(){return Wx(Dh)},useDebugValue:iT,useDeferredValue:function(n){var e=Xi();return hN(e,zn.memoizedState,n)},useTransition:function(){var n=Wx(Dh)[0],e=Xi().memoizedState;return[n,e]},useMutableSource:QD,useSyncExternalStore:eN,useId:pN,unstable_isNewReconciler:!1},G6={readContext:qi,useCallback:fN,useContext:qi,useEffect:rT,useImperativeHandle:cN,useInsertionEffect:aN,useLayoutEffect:lN,useMemo:dN,useReducer:$x,useRef:oN,useState:function(){return $x(Dh)},useDebugValue:iT,useDeferredValue:function(n){var e=Xi();return zn===null?e.memoizedState=n:hN(e,zn.memoizedState,n)},useTransition:function(){var n=$x(Dh)[0],e=Xi().memoizedState;return[n,e]},useMutableSource:QD,useSyncExternalStore:eN,useId:pN,unstable_isNewReconciler:!1};function lf(n,e){try{var t="",r=e;do t+=vV(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function qx(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function pS(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var j6=typeof WeakMap=="function"?WeakMap:Map;function yN(n,e,t){t=Lo(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){m0||(m0=!0,MS=r),pS(n,e)},t}function _N(n,e,t){t=Lo(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){pS(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){pS(n,e),typeof r!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function ZP(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new j6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=iH.bind(null,n,e,t),e.then(n,n))}function QP(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function e2(n,e,t,r,i){return(n.mode&1)===0?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Lo(-1,1),e.tag=2,Ua(t,e,1))),t.lanes|=1),n):(n.flags|=65536,n.lanes=i,n)}var W6=jo.ReactCurrentOwner,Gr=!1;function Cr(n,e,t,r){e.child=n===null?JD(e,null,t,r):of(e,n.child,t,r)}function t2(n,e,t,r,i){t=t.render;var s=e.ref;return Yc(e,i),r=tT(n,e,t,r,s,i),t=nT(),n!==null&&!Gr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Fo(n,e,i)):(un&&t&&GM(e),e.flags|=1,Cr(n,e,r,i),e.child)}function n2(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!dT(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,xN(n,e,s,r,i)):(n=Lv(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,(n.lanes&i)===0){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Ah,t(o,r)&&n.ref===e.ref)return Fo(n,e,i)}return e.flags|=1,n=Ha(s,r),n.ref=e.ref,n.return=e,e.child=n}function xN(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Ah(s,r)&&n.ref===e.ref)if(Gr=!1,e.pendingProps=r=s,(n.lanes&i)!==0)(n.flags&131072)!==0&&(Gr=!0);else return e.lanes=n.lanes,Fo(n,e,i)}return mS(n,e,t,r,i)}function wN(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(kc,oi),oi|=t;else{if((t&1073741824)===0)return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Zt(kc,oi),oi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Zt(kc,oi),oi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Zt(kc,oi),oi|=r;return Cr(n,e,i,t),e.child}function SN(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function mS(n,e,t,r,i){var s=qr(t)?mu:wr.current;return s=rf(e,s),Yc(e,i),t=tT(n,e,t,r,s,i),r=nT(),n!==null&&!Gr?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Fo(n,e,i)):(un&&r&&GM(e),e.flags|=1,Cr(n,e,t,i),e.child)}function r2(n,e,t,r,i){if(qr(t)){var s=!0;s0(e)}else s=!1;if(Yc(e,i),e.stateNode===null)Cv(n,e),YD(e,t,r),hS(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=qi(u):(u=qr(t)?mu:wr.current,u=rf(e,u));var f=t.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&XP(e,o,r,u),xa=!1;var p=e.memoizedState;o.state=p,c0(e,r,o,i),l=e.memoizedState,a!==r||p!==l||$r.current||xa?(typeof f=="function"&&(dS(e,t,f,r),l=e.memoizedState),(a=xa||qP(e,t,a,r,p,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qD(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:ss(e.type,a),o.props=u,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=qi(l):(l=qr(t)?mu:wr.current,l=rf(e,l));var m=t.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&XP(e,o,r,l),xa=!1,p=e.memoizedState,o.state=p,c0(e,r,o,i);var g=e.memoizedState;a!==h||p!==g||$r.current||xa?(typeof m=="function"&&(dS(e,t,m,r),g=e.memoizedState),(u=xa||qP(e,t,u,r,p,g,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return gS(n,e,t,r,s,i)}function gS(n,e,t,r,i,s){SN(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&HP(e,t,!1),Fo(n,e,s);r=e.stateNode,W6.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=of(e,n.child,null,s),e.child=of(e,null,a,s)):Cr(n,e,a,s),e.memoizedState=r.state,i&&HP(e,t,!0),e.child}function bN(n){var e=n.stateNode;e.pendingContext?VP(n,e.pendingContext,e.pendingContext!==e.context):e.context&&VP(n,e.context,!1),JM(n,e.containerInfo)}function i2(n,e,t,r,i){return sf(),WM(i),e.flags|=256,Cr(n,e,t,r),e.child}var vS={dehydrated:null,treeContext:null,retryLane:0};function yS(n){return{baseLanes:n,cachePool:null,transitions:null}}function MN(n,e,t){var r=e.pendingProps,i=fn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Zt(fn,i&1),n===null)return cS(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((e.mode&1)===0?e.lanes=1:n.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=iy(o,r,0,null),n=ou(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=yS(t),e.memoizedState=vS,n):sT(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $6(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ha(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ha(a,s):(s=ou(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?yS(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=vS,r}return s=n.child,n=s.sibling,r=Ha(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function sT(n,e){return e=iy({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function cg(n,e,t,r){return r!==null&&WM(r),of(e,n.child,null,t),n=sT(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function $6(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=qx(Error(Ce(422))),cg(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=iy({mode:"visible",children:r.children},i,0,null),s=ou(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&of(e,n.child,null,o),e.child.memoizedState=yS(o),e.memoizedState=vS,s);if((e.mode&1)===0)return cg(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ce(419)),r=qx(s,r,void 0),cg(n,e,o,r)}if(a=(o&n.childLanes)!==0,Gr||a){if(r=Jn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ko(n,i),ds(r,n,i,-1))}return fT(),r=qx(Error(Ce(421))),cg(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=sH.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,li=za(i.nextSibling),di=e,un=!0,us=null,n!==null&&(Hi[Gi++]=To,Hi[Gi++]=Eo,Hi[Gi++]=gu,To=n.id,Eo=n.overflow,gu=e),e=sT(e,r.children),e.flags|=4096,e)}function s2(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),fS(n.return,e,t)}function Xx(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function TN(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Cr(n,e,r.children,t),r=fn.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&s2(n,t,e);else if(n.tag===19)s2(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Zt(fn,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&f0(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Xx(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&f0(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Xx(e,!0,t,null,s);break;case"together":Xx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cv(n,e){(e.mode&1)===0&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Fo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),yu|=e.lanes,(t&e.childLanes)===0)return null;if(n!==null&&e.child!==n.child)throw Error(Ce(153));if(e.child!==null){for(n=e.child,t=Ha(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Ha(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function q6(n,e,t){switch(e.tag){case 3:bN(e),sf();break;case 5:ZD(e);break;case 1:qr(e.type)&&s0(e);break;case 4:JM(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zt(l0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zt(fn,fn.current&1),e.flags|=128,null):(t&e.child.childLanes)!==0?MN(n,e,t):(Zt(fn,fn.current&1),n=Fo(n,e,t),n!==null?n.sibling:null);Zt(fn,fn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,(n.flags&128)!==0){if(r)return TN(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zt(fn,fn.current),r)break;return null;case 22:case 23:return e.lanes=0,wN(n,e,t)}return Fo(n,e,t)}var EN,_S,AN,CN;EN=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};_S=function(){};AN=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Kl($s.current);var s=null;switch(t){case"input":i=Vw(n,i),r=Vw(n,r),s=[];break;case"select":i=mn({},i,{value:void 0}),r=mn({},r,{value:void 0}),s=[];break;case"textarea":i=jw(n,i),r=jw(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=r0)}$w(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&en("scroll",n),s||a===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};CN=function(n,e,t,r){t!==r&&(e.flags|=4)};function _d(n,e){if(!un)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function pr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function X6(n,e,t){var r=e.pendingProps;switch(jM(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(e),null;case 1:return qr(e.type)&&i0(),pr(e),null;case 3:return r=e.stateNode,af(),rn($r),rn(wr),QM(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(lg(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,us!==null&&(AS(us),us=null))),_S(n,e),pr(e),null;case 5:ZM(e);var i=Kl(Oh.current);if(t=e.type,n!==null&&e.stateNode!=null)AN(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ce(166));return pr(e),null}if(n=Kl($s.current),lg(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Bs]=e,r[Rh]=s,n=(e.mode&1)!==0,t){case"dialog":en("cancel",r),en("close",r);break;case"iframe":case"object":case"embed":en("load",r);break;case"video":case"audio":for(i=0;i<Gd.length;i++)en(Gd[i],r);break;case"source":en("error",r);break;case"img":case"image":case"link":en("error",r),en("load",r);break;case"details":en("toggle",r);break;case"input":pP(r,s),en("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},en("invalid",r);break;case"textarea":gP(r,s),en("invalid",r)}$w(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ag(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ag(r.textContent,a,n),i=["children",""+a]):xh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&en("scroll",r)}switch(t){case"input":Qm(r),mP(r,s,!0);break;case"textarea":Qm(r),vP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=r0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=tD(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Bs]=e,n[Rh]=r,EN(n,e,!1,!1),e.stateNode=n;e:{switch(o=qw(t,r),t){case"dialog":en("cancel",n),en("close",n),i=r;break;case"iframe":case"object":case"embed":en("load",n),i=r;break;case"video":case"audio":for(i=0;i<Gd.length;i++)en(Gd[i],n);i=r;break;case"source":en("error",n),i=r;break;case"img":case"image":case"link":en("error",n),en("load",n),i=r;break;case"details":en("toggle",n),i=r;break;case"input":pP(n,r),i=Vw(n,r),en("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=mn({},r,{value:void 0}),en("invalid",n);break;case"textarea":gP(n,r),i=jw(n,r),en("invalid",n);break;default:i=r}$w(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iD(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nD(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&wh(n,l):typeof l=="number"&&wh(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&en("scroll",n):l!=null&&PM(n,s,l,o))}switch(t){case"input":Qm(n),mP(n,r,!1);break;case"textarea":Qm(n),vP(n);break;case"option":r.value!=null&&n.setAttribute("value",""+$a(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Wc(n,!!r.multiple,s,!1):r.defaultValue!=null&&Wc(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=r0)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pr(e),null;case 6:if(n&&e.stateNode!=null)CN(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ce(166));if(t=Kl(Oh.current),Kl($s.current),lg(e)){if(r=e.stateNode,t=e.memoizedProps,r[Bs]=e,(s=r.nodeValue!==t)&&(n=di,n!==null))switch(n.tag){case 3:ag(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ag(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Bs]=e,e.stateNode=r}return pr(e),null;case 13:if(rn(fn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(un&&li!==null&&(e.mode&1)!==0&&(e.flags&128)===0)WD(),sf(),e.flags|=98560,s=!1;else if(s=lg(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ce(317));s[Bs]=e}else sf(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;pr(e),s=!1}else us!==null&&(AS(us),us=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(n===null||(fn.current&1)!==0?Un===0&&(Un=3):fT())),e.updateQueue!==null&&(e.flags|=4),pr(e),null);case 4:return af(),_S(n,e),n===null&&Ch(e.stateNode.containerInfo),pr(e),null;case 10:return XM(e.type._context),pr(e),null;case 17:return qr(e.type)&&i0(),pr(e),null;case 19:if(rn(fn),s=e.memoizedState,s===null)return pr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)_d(s,!1);else{if(Un!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(o=f0(n),o!==null){for(e.flags|=128,_d(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Zt(fn,fn.current&1|2),e.child}n=n.sibling}s.tail!==null&&En()>uf&&(e.flags|=128,r=!0,_d(s,!1),e.lanes=4194304)}else{if(!r)if(n=f0(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),_d(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!un)return pr(e),null}else 2*En()-s.renderingStartTime>uf&&t!==1073741824&&(e.flags|=128,r=!0,_d(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=En(),e.sibling=null,t=fn.current,Zt(fn,r?t&1|2:t&1),e):(pr(e),null);case 22:case 23:return cT(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(oi&1073741824)!==0&&(pr(e),e.subtreeFlags&6&&(e.flags|=8192)):pr(e),null;case 24:return null;case 25:return null}throw Error(Ce(156,e.tag))}function Y6(n,e){switch(jM(e),e.tag){case 1:return qr(e.type)&&i0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return af(),rn($r),rn(wr),QM(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 5:return ZM(e),null;case 13:if(rn(fn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ce(340));sf()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return rn(fn),null;case 4:return af(),null;case 10:return XM(e.type._context),null;case 22:case 23:return cT(),null;case 24:return null;default:return null}}var fg=!1,yr=!1,K6=typeof WeakSet=="function"?WeakSet:Set,We=null;function Nc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){yn(n,e,r)}else t.current=null}function xS(n,e,t){try{t()}catch(r){yn(n,e,r)}}var o2=!1;function J6(n,e){if(rS=e0,n=OD(),HM(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,u=0,f=0,h=n,p=null;t:for(;;){for(var m;h!==t||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++u===i&&(a=o),p===s&&++f===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(iS={focusedElem:n,selectionRange:t},e0=!1,We=e;We!==null;)if(e=We,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,We=n;else for(;We!==null;){e=We;try{var g=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,_=g.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:ss(e.type,v),_);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ce(163))}}catch(M){yn(e,e.return,M)}if(n=e.sibling,n!==null){n.return=e.return,We=n;break}We=e.return}return g=o2,o2=!1,g}function Zd(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&xS(e,t,s)}i=i.next}while(i!==r)}}function ny(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function wS(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function PN(n){var e=n.alternate;e!==null&&(n.alternate=null,PN(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Bs],delete e[Rh],delete e[aS],delete e[I6],delete e[D6])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function RN(n){return n.tag===5||n.tag===3||n.tag===4}function a2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||RN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function SS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=r0));else if(r!==4&&(n=n.child,n!==null))for(SS(n,e,t),n=n.sibling;n!==null;)SS(n,e,t),n=n.sibling}function bS(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(bS(n,e,t),n=n.sibling;n!==null;)bS(n,e,t),n=n.sibling}var nr=null,os=!1;function oa(n,e,t){for(t=t.child;t!==null;)LN(n,e,t),t=t.sibling}function LN(n,e,t){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(X0,t)}catch{}switch(t.tag){case 5:yr||Nc(t,e);case 6:var r=nr,i=os;nr=null,oa(n,e,t),nr=r,os=i,nr!==null&&(os?(n=nr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):nr.removeChild(t.stateNode));break;case 18:nr!==null&&(os?(n=nr,t=t.stateNode,n.nodeType===8?Vx(n.parentNode,t):n.nodeType===1&&Vx(n,t),Th(n)):Vx(nr,t.stateNode));break;case 4:r=nr,i=os,nr=t.stateNode.containerInfo,os=!0,oa(n,e,t),nr=r,os=i;break;case 0:case 11:case 14:case 15:if(!yr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&xS(t,e,o),i=i.next}while(i!==r)}oa(n,e,t);break;case 1:if(!yr&&(Nc(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){yn(t,e,a)}oa(n,e,t);break;case 21:oa(n,e,t);break;case 22:t.mode&1?(yr=(r=yr)||t.memoizedState!==null,oa(n,e,t),yr=r):oa(n,e,t);break;default:oa(n,e,t)}}function l2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new K6),e.forEach(function(r){var i=oH.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function es(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:nr=a.stateNode,os=!1;break e;case 3:nr=a.stateNode.containerInfo,os=!0;break e;case 4:nr=a.stateNode.containerInfo,os=!0;break e}a=a.return}if(nr===null)throw Error(Ce(160));LN(s,o,i),nr=null,os=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ON(e,n),e=e.sibling}function ON(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(es(e,n),Ls(n),r&4){try{Zd(3,n,n.return),ny(3,n)}catch(v){yn(n,n.return,v)}try{Zd(5,n,n.return)}catch(v){yn(n,n.return,v)}}break;case 1:es(e,n),Ls(n),r&512&&t!==null&&Nc(t,t.return);break;case 5:if(es(e,n),Ls(n),r&512&&t!==null&&Nc(t,t.return),n.flags&32){var i=n.stateNode;try{wh(i,"")}catch(v){yn(n,n.return,v)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&QI(i,s),qw(a,o);var u=qw(a,s);for(o=0;o<l.length;o+=2){var f=l[o],h=l[o+1];f==="style"?iD(i,h):f==="dangerouslySetInnerHTML"?nD(i,h):f==="children"?wh(i,h):PM(i,f,h,u)}switch(a){case"input":Hw(i,s);break;case"textarea":eD(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Wc(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Wc(i,!!s.multiple,s.defaultValue,!0):Wc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rh]=s}catch(v){yn(n,n.return,v)}}break;case 6:if(es(e,n),Ls(n),r&4){if(n.stateNode===null)throw Error(Ce(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(v){yn(n,n.return,v)}}break;case 3:if(es(e,n),Ls(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Th(e.containerInfo)}catch(v){yn(n,n.return,v)}break;case 4:es(e,n),Ls(n);break;case 13:es(e,n),Ls(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(lT=En())),r&4&&l2(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(yr=(u=yr)||f,es(e,n),yr=u):es(e,n),Ls(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!f&&(n.mode&1)!==0)for(We=n,f=n.child;f!==null;){for(h=We=f;We!==null;){switch(p=We,m=p.child,p.tag){case 0:case 11:case 14:case 15:Zd(4,p,p.return);break;case 1:Nc(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){yn(r,t,v)}}break;case 5:Nc(p,p.return);break;case 22:if(p.memoizedState!==null){c2(h);continue}}m!==null?(m.return=p,We=m):c2(h)}f=f.sibling}e:for(f=null,h=n;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rD("display",o))}catch(v){yn(n,n.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){yn(n,n.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:es(e,n),Ls(n),r&4&&l2(n);break;case 21:break;default:es(e,n),Ls(n)}}function Ls(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(RN(t)){var r=t;break e}t=t.return}throw Error(Ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wh(i,""),r.flags&=-33);var s=a2(n);bS(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=a2(n);SS(n,a,o);break;default:throw Error(Ce(161))}}catch(l){yn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Z6(n,e,t){We=n,IN(n)}function IN(n,e,t){for(var r=(n.mode&1)!==0;We!==null;){var i=We,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||yr;a=fg;var u=yr;if(fg=o,(yr=l)&&!u)for(We=i;We!==null;)o=We,l=o.child,o.tag===22&&o.memoizedState!==null?f2(i):l!==null?(l.return=o,We=l):f2(i);for(;s!==null;)We=s,IN(s),s=s.sibling;We=i,fg=a,yr=u}u2(n)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,We=s):u2(n)}}function u2(n){for(;We!==null;){var e=We;if((e.flags&8772)!==0){var t=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:yr||ny(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ss(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$P(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}$P(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Th(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ce(163))}yr||e.flags&512&&wS(e)}catch(p){yn(e,e.return,p)}}if(e===n){We=null;break}if(t=e.sibling,t!==null){t.return=e.return,We=t;break}We=e.return}}function c2(n){for(;We!==null;){var e=We;if(e===n){We=null;break}var t=e.sibling;if(t!==null){t.return=e.return,We=t;break}We=e.return}}function f2(n){for(;We!==null;){var e=We;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ny(4,e)}catch(l){yn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yn(e,i,l)}}var s=e.return;try{wS(e)}catch(l){yn(e,s,l)}break;case 5:var o=e.return;try{wS(e)}catch(l){yn(e,o,l)}}}catch(l){yn(e,e.return,l)}if(e===n){We=null;break}var a=e.sibling;if(a!==null){a.return=e.return,We=a;break}We=e.return}}var Q6=Math.ceil,p0=jo.ReactCurrentDispatcher,oT=jo.ReactCurrentOwner,$i=jo.ReactCurrentBatchConfig,Lt=0,Jn=null,Dn=null,or=0,oi=0,kc=ol(0),Un=0,kh=null,yu=0,ry=0,aT=0,Qd=null,Hr=null,lT=0,uf=1/0,xo=null,m0=!1,MS=null,Ba=null,dg=!1,Aa=null,g0=0,eh=0,TS=null,Pv=-1,Rv=0;function Rr(){return(Lt&6)!==0?En():Pv!==-1?Pv:Pv=En()}function Va(n){return(n.mode&1)===0?1:(Lt&2)!==0&&or!==0?or&-or:k6.transition!==null?(Rv===0&&(Rv=gD()),Rv):(n=Ht,n!==0||(n=window.event,n=n===void 0?16:bD(n.type)),n)}function ds(n,e,t,r){if(50<eh)throw eh=0,TS=null,Error(Ce(185));vp(n,t,r),((Lt&2)===0||n!==Jn)&&(n===Jn&&((Lt&2)===0&&(ry|=t),Un===4&&Ta(n,or)),Xr(n,r),t===1&&Lt===0&&(e.mode&1)===0&&(uf=En()+500,Q0&&al()))}function Xr(n,e){var t=n.callbackNode;kV(n,e);var r=Qv(n,n===Jn?or:0);if(r===0)t!==null&&xP(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&xP(t),e===1)n.tag===0?N6(d2.bind(null,n)):HD(d2.bind(null,n)),L6(function(){(Lt&6)===0&&al()}),t=null;else{switch(vD(r)){case 1:t=DM;break;case 4:t=pD;break;case 16:t=Zv;break;case 536870912:t=mD;break;default:t=Zv}t=VN(t,DN.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function DN(n,e){if(Pv=-1,Rv=0,(Lt&6)!==0)throw Error(Ce(327));var t=n.callbackNode;if(Kc()&&n.callbackNode!==t)return null;var r=Qv(n,n===Jn?or:0);if(r===0)return null;if((r&30)!==0||(r&n.expiredLanes)!==0||e)e=v0(n,r);else{e=r;var i=Lt;Lt|=2;var s=kN();(Jn!==n||or!==e)&&(xo=null,uf=En()+500,su(n,e));do try{nH();break}catch(a){NN(n,a)}while(1);qM(),p0.current=s,Lt=i,Dn!==null?e=0:(Jn=null,or=0,e=Un)}if(e!==0){if(e===2&&(i=Zw(n),i!==0&&(r=i,e=ES(n,i))),e===1)throw t=kh,su(n,0),Ta(n,r),Xr(n,En()),t;if(e===6)Ta(n,r);else{if(i=n.current.alternate,(r&30)===0&&!eH(i)&&(e=v0(n,r),e===2&&(s=Zw(n),s!==0&&(r=s,e=ES(n,s))),e===1))throw t=kh,su(n,0),Ta(n,r),Xr(n,En()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Ce(345));case 2:Nl(n,Hr,xo);break;case 3:if(Ta(n,r),(r&130023424)===r&&(e=lT+500-En(),10<e)){if(Qv(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Rr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=oS(Nl.bind(null,n,Hr,xo),e);break}Nl(n,Hr,xo);break;case 4:if(Ta(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-fs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=En()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Q6(r/1960))-r,10<r){n.timeoutHandle=oS(Nl.bind(null,n,Hr,xo),r);break}Nl(n,Hr,xo);break;case 5:Nl(n,Hr,xo);break;default:throw Error(Ce(329))}}}return Xr(n,En()),n.callbackNode===t?DN.bind(null,n):null}function ES(n,e){var t=Qd;return n.current.memoizedState.isDehydrated&&(su(n,e).flags|=256),n=v0(n,e),n!==2&&(e=Hr,Hr=t,e!==null&&AS(e)),n}function AS(n){Hr===null?Hr=n:Hr.push.apply(Hr,n)}function eH(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!vs(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ta(n,e){for(e&=~aT,e&=~ry,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-fs(e),r=1<<t;n[t]=-1,e&=~r}}function d2(n){if((Lt&6)!==0)throw Error(Ce(327));Kc();var e=Qv(n,0);if((e&1)===0)return Xr(n,En()),null;var t=v0(n,e);if(n.tag!==0&&t===2){var r=Zw(n);r!==0&&(e=r,t=ES(n,r))}if(t===1)throw t=kh,su(n,0),Ta(n,e),Xr(n,En()),t;if(t===6)throw Error(Ce(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Nl(n,Hr,xo),Xr(n,En()),null}function uT(n,e){var t=Lt;Lt|=1;try{return n(e)}finally{Lt=t,Lt===0&&(uf=En()+500,Q0&&al())}}function _u(n){Aa!==null&&Aa.tag===0&&(Lt&6)===0&&Kc();var e=Lt;Lt|=1;var t=$i.transition,r=Ht;try{if($i.transition=null,Ht=1,n)return n()}finally{Ht=r,$i.transition=t,Lt=e,(Lt&6)===0&&al()}}function cT(){oi=kc.current,rn(kc)}function su(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,R6(t)),Dn!==null)for(t=Dn.return;t!==null;){var r=t;switch(jM(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&i0();break;case 3:af(),rn($r),rn(wr),QM();break;case 5:ZM(r);break;case 4:af();break;case 13:rn(fn);break;case 19:rn(fn);break;case 10:XM(r.type._context);break;case 22:case 23:cT()}t=t.return}if(Jn=n,Dn=n=Ha(n.current,null),or=oi=e,Un=0,kh=null,aT=ry=yu=0,Hr=Qd=null,Yl!==null){for(e=0;e<Yl.length;e++)if(t=Yl[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Yl=null}return n}function NN(n,e){do{var t=Dn;try{if(qM(),Ev.current=h0,d0){for(var r=pn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}d0=!1}if(vu=0,Yn=zn=pn=null,Jd=!1,Ih=0,oT.current=null,t===null||t.return===null){Un=1,kh=e,Dn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=or,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,h=f.tag;if((f.mode&1)===0&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=QP(o);if(m!==null){m.flags&=-257,e2(m,o,a,s,e),m.mode&1&&ZP(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if((e&1)===0){ZP(s,u,e),fT();break e}l=Error(Ce(426))}}else if(un&&a.mode&1){var _=QP(o);if(_!==null){(_.flags&65536)===0&&(_.flags|=256),e2(_,o,a,s,e),WM(lf(l,a));break e}}s=l=lf(l,a),Un!==4&&(Un=2),Qd===null?Qd=[s]:Qd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=yN(s,l,e);WP(s,y);break e;case 1:a=l;var w=s.type,S=s.stateNode;if((s.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ba===null||!Ba.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=_N(s,a,e);WP(s,M);break e}}s=s.return}while(s!==null)}zN(t)}catch(T){e=T,Dn===t&&t!==null&&(Dn=t=t.return);continue}break}while(1)}function kN(){var n=p0.current;return p0.current=h0,n===null?h0:n}function fT(){(Un===0||Un===3||Un===2)&&(Un=4),Jn===null||(yu&268435455)===0&&(ry&268435455)===0||Ta(Jn,or)}function v0(n,e){var t=Lt;Lt|=2;var r=kN();(Jn!==n||or!==e)&&(xo=null,su(n,e));do try{tH();break}catch(i){NN(n,i)}while(1);if(qM(),Lt=t,p0.current=r,Dn!==null)throw Error(Ce(261));return Jn=null,or=0,Un}function tH(){for(;Dn!==null;)FN(Dn)}function nH(){for(;Dn!==null&&!AV();)FN(Dn)}function FN(n){var e=BN(n.alternate,n,oi);n.memoizedProps=n.pendingProps,e===null?zN(n):Dn=e,oT.current=null}function zN(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&32768)===0){if(t=X6(t,e,oi),t!==null){Dn=t;return}}else{if(t=Y6(t,e),t!==null){t.flags&=32767,Dn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Un=6,Dn=null;return}}if(e=e.sibling,e!==null){Dn=e;return}Dn=e=n}while(e!==null);Un===0&&(Un=5)}function Nl(n,e,t){var r=Ht,i=$i.transition;try{$i.transition=null,Ht=1,rH(n,e,t,r)}finally{$i.transition=i,Ht=r}return null}function rH(n,e,t,r){do Kc();while(Aa!==null);if((Lt&6)!==0)throw Error(Ce(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ce(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(FV(n,s),n===Jn&&(Dn=Jn=null,or=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||dg||(dg=!0,VN(Zv,function(){return Kc(),null})),s=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||s){s=$i.transition,$i.transition=null;var o=Ht;Ht=1;var a=Lt;Lt|=4,oT.current=null,J6(n,t),ON(t,n),b6(iS),e0=!!rS,iS=rS=null,n.current=t,Z6(t),CV(),Lt=a,Ht=o,$i.transition=s}else n.current=t;if(dg&&(dg=!1,Aa=n,g0=i),s=n.pendingLanes,s===0&&(Ba=null),LV(t.stateNode),Xr(n,En()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(m0)throw m0=!1,n=MS,MS=null,n;return(g0&1)!==0&&n.tag!==0&&Kc(),s=n.pendingLanes,(s&1)!==0?n===TS?eh++:(eh=0,TS=n):eh=0,al(),null}function Kc(){if(Aa!==null){var n=vD(g0),e=$i.transition,t=Ht;try{if($i.transition=null,Ht=16>n?16:n,Aa===null)var r=!1;else{if(n=Aa,Aa=null,g0=0,(Lt&6)!==0)throw Error(Ce(331));var i=Lt;for(Lt|=4,We=n.current;We!==null;){var s=We,o=s.child;if((We.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(We=u;We!==null;){var f=We;switch(f.tag){case 0:case 11:case 15:Zd(8,f,s)}var h=f.child;if(h!==null)h.return=f,We=h;else for(;We!==null;){f=We;var p=f.sibling,m=f.return;if(PN(f),f===u){We=null;break}if(p!==null){p.return=m,We=p;break}We=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}We=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,We=o;else e:for(;We!==null;){if(s=We,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Zd(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,We=y;break e}We=s.return}}var w=n.current;for(We=w;We!==null;){o=We;var S=o.child;if((o.subtreeFlags&2064)!==0&&S!==null)S.return=o,We=S;else e:for(o=w;We!==null;){if(a=We,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:ny(9,a)}}catch(T){yn(a,a.return,T)}if(a===o){We=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,We=M;break e}We=a.return}}if(Lt=i,al(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(X0,n)}catch{}r=!0}return r}finally{Ht=t,$i.transition=e}}return!1}function h2(n,e,t){e=lf(t,e),e=yN(n,e,1),n=Ua(n,e,1),e=Rr(),n!==null&&(vp(n,1,e),Xr(n,e))}function yn(n,e,t){if(n.tag===3)h2(n,n,t);else for(;e!==null;){if(e.tag===3){h2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ba===null||!Ba.has(r))){n=lf(t,n),n=_N(e,n,1),e=Ua(e,n,1),n=Rr(),e!==null&&(vp(e,1,n),Xr(e,n));break}}e=e.return}}function iH(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Rr(),n.pingedLanes|=n.suspendedLanes&t,Jn===n&&(or&t)===t&&(Un===4||Un===3&&(or&130023424)===or&&500>En()-lT?su(n,0):aT|=t),Xr(n,e)}function UN(n,e){e===0&&((n.mode&1)===0?e=1:(e=ng,ng<<=1,(ng&130023424)===0&&(ng=4194304)));var t=Rr();n=ko(n,e),n!==null&&(vp(n,e,t),Xr(n,t))}function sH(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),UN(n,t)}function oH(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Ce(314))}r!==null&&r.delete(e),UN(n,t)}var BN;BN=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||$r.current)Gr=!0;else{if((n.lanes&t)===0&&(e.flags&128)===0)return Gr=!1,q6(n,e,t);Gr=(n.flags&131072)!==0}else Gr=!1,un&&(e.flags&1048576)!==0&&GD(e,a0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cv(n,e),n=e.pendingProps;var i=rf(e,wr.current);Yc(e,t),i=tT(null,e,r,n,i,t);var s=nT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qr(r)?(s=!0,s0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,KM(e),i.updater=ey,e.stateNode=i,i._reactInternals=e,hS(e,r,n,t),e=gS(null,e,r,!0,s,t)):(e.tag=0,un&&s&&GM(e),Cr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Cv(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lH(r),n=ss(r,n),i){case 0:e=mS(null,e,r,n,t);break e;case 1:e=r2(null,e,r,n,t);break e;case 11:e=t2(null,e,r,n,t);break e;case 14:e=n2(null,e,r,ss(r.type,n),t);break e}throw Error(Ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ss(r,i),mS(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ss(r,i),r2(n,e,r,i,t);case 3:e:{if(bN(e),n===null)throw Error(Ce(387));r=e.pendingProps,s=e.memoizedState,i=s.element,qD(n,e),c0(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=lf(Error(Ce(423)),e),e=i2(n,e,r,t,i);break e}else if(r!==i){i=lf(Error(Ce(424)),e),e=i2(n,e,r,t,i);break e}else for(li=za(e.stateNode.containerInfo.firstChild),di=e,un=!0,us=null,t=JD(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(sf(),r===i){e=Fo(n,e,t);break e}Cr(n,e,r,t)}e=e.child}return e;case 5:return ZD(e),n===null&&cS(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,sS(r,i)?o=null:s!==null&&sS(r,s)&&(e.flags|=32),SN(n,e),Cr(n,e,o,t),e.child;case 6:return n===null&&cS(e),null;case 13:return MN(n,e,t);case 4:return JM(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=of(e,null,r,t):Cr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ss(r,i),t2(n,e,r,i,t);case 7:return Cr(n,e,e.pendingProps,t),e.child;case 8:return Cr(n,e,e.pendingProps.children,t),e.child;case 12:return Cr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Zt(l0,r._currentValue),r._currentValue=o,s!==null)if(vs(s.value,o)){if(s.children===i.children&&!$r.current){e=Fo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Lo(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),fS(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ce(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),fS(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Cr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yc(e,t),i=qi(i),r=r(i),e.flags|=1,Cr(n,e,r,t),e.child;case 14:return r=e.type,i=ss(r,e.pendingProps),i=ss(r.type,i),n2(n,e,r,i,t);case 15:return xN(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ss(r,i),Cv(n,e),e.tag=1,qr(r)?(n=!0,s0(e)):n=!1,Yc(e,t),YD(e,r,i),hS(e,r,i,t),gS(null,e,r,!0,n,t);case 19:return TN(n,e,t);case 22:return wN(n,e,t)}throw Error(Ce(156,e.tag))};function VN(n,e){return hD(n,e)}function aH(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(n,e,t,r){return new aH(n,e,t,r)}function dT(n){return n=n.prototype,!(!n||!n.isReactComponent)}function lH(n){if(typeof n=="function")return dT(n)?1:0;if(n!=null){if(n=n.$$typeof,n===LM)return 11;if(n===OM)return 14}return 2}function Ha(n,e){var t=n.alternate;return t===null?(t=Wi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Lv(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")dT(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Ec:return ou(t.children,i,s,e);case RM:o=8,i|=8;break;case Fw:return n=Wi(12,t,e,i|2),n.elementType=Fw,n.lanes=s,n;case zw:return n=Wi(13,t,e,i),n.elementType=zw,n.lanes=s,n;case Uw:return n=Wi(19,t,e,i),n.elementType=Uw,n.lanes=s,n;case KI:return iy(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case XI:o=10;break e;case YI:o=9;break e;case LM:o=11;break e;case OM:o=14;break e;case _a:o=16,r=null;break e}throw Error(Ce(130,n==null?n:typeof n,""))}return e=Wi(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function ou(n,e,t,r){return n=Wi(7,n,r,e),n.lanes=t,n}function iy(n,e,t,r){return n=Wi(22,n,r,e),n.elementType=KI,n.lanes=t,n.stateNode={isHidden:!1},n}function Yx(n,e,t){return n=Wi(6,n,null,e),n.lanes=t,n}function Kx(n,e,t){return e=Wi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function uH(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rx(0),this.expirationTimes=Rx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rx(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hT(n,e,t,r,i,s,o,a,l){return n=new uH(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Wi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},KM(s),n}function cH(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function HN(n){if(!n)return qa;n=n._reactInternals;e:{if(Cu(n)!==n||n.tag!==1)throw Error(Ce(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ce(171))}if(n.tag===1){var t=n.type;if(qr(t))return VD(n,t,e)}return e}function GN(n,e,t,r,i,s,o,a,l){return n=hT(t,r,!0,n,i,s,o,a,l),n.context=HN(null),t=n.current,r=Rr(),i=Va(t),s=Lo(r,i),s.callback=e!=null?e:null,Ua(t,s,i),n.current.lanes=i,vp(n,i,r),Xr(n,r),n}function sy(n,e,t,r){var i=e.current,s=Rr(),o=Va(i);return t=HN(t),e.context===null?e.context=t:e.pendingContext=t,e=Lo(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Ua(i,e,o),n!==null&&(ds(n,i,o,s),Tv(n,i,o)),o}function y0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function p2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function pT(n,e){p2(n,e),(n=n.alternate)&&p2(n,e)}function fH(){return null}var jN=typeof reportError=="function"?reportError:function(n){console.error(n)};function mT(n){this._internalRoot=n}oy.prototype.render=mT.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ce(409));sy(n,e,null,null)};oy.prototype.unmount=mT.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;_u(function(){sy(null,n,null,null)}),e[No]=null}};function oy(n){this._internalRoot=n}oy.prototype.unstable_scheduleHydration=function(n){if(n){var e=xD();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ma.length&&e!==0&&e<Ma[t].priority;t++);Ma.splice(t,0,n),t===0&&SD(n)}};function gT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ay(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function m2(){}function dH(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=y0(o);s.call(u)}}var o=GN(e,r,n,0,null,!1,!1,"",m2);return n._reactRootContainer=o,n[No]=o.current,Ch(n.nodeType===8?n.parentNode:n),_u(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=y0(l);a.call(u)}}var l=hT(n,0,!1,null,null,!1,!1,"",m2);return n._reactRootContainer=l,n[No]=l.current,Ch(n.nodeType===8?n.parentNode:n),_u(function(){sy(e,l,t,r)}),l}function ly(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=y0(o);a.call(l)}}sy(e,o,n,i)}else o=dH(t,e,n,i,r);return y0(o)}yD=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Hd(e.pendingLanes);t!==0&&(NM(e,t|1),Xr(e,En()),(Lt&6)===0&&(uf=En()+500,al()))}break;case 13:_u(function(){var r=ko(n,1);if(r!==null){var i=Rr();ds(r,n,1,i)}}),pT(n,1)}};kM=function(n){if(n.tag===13){var e=ko(n,134217728);if(e!==null){var t=Rr();ds(e,n,134217728,t)}pT(n,134217728)}};_D=function(n){if(n.tag===13){var e=Va(n),t=ko(n,e);if(t!==null){var r=Rr();ds(t,n,e,r)}pT(n,e)}};xD=function(){return Ht};wD=function(n,e){var t=Ht;try{return Ht=n,e()}finally{Ht=t}};Yw=function(n,e,t){switch(e){case"input":if(Hw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Z0(r);if(!i)throw Error(Ce(90));ZI(r),Hw(r,i)}}}break;case"textarea":eD(n,t);break;case"select":e=t.value,e!=null&&Wc(n,!!t.multiple,e,!1)}};aD=uT;lD=_u;var hH={usingClientEntryPoint:!1,Events:[_p,Rc,Z0,sD,oD,uT]},xd={findFiberByHostInstance:Xl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pH={bundleType:xd.bundleType,version:xd.version,rendererPackageName:xd.rendererPackageName,rendererConfig:xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=fD(n),n===null?null:n.stateNode},findFiberByHostInstance:xd.findFiberByHostInstance||fH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hg.isDisabled&&hg.supportsFiber)try{X0=hg.inject(pH),Ws=hg}catch{}}vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hH;vi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gT(e))throw Error(Ce(200));return cH(n,e,null,t)};vi.createRoot=function(n,e){if(!gT(n))throw Error(Ce(299));var t=!1,r="",i=jN;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=hT(n,1,!1,null,null,t,!1,r,i),n[No]=e.current,Ch(n.nodeType===8?n.parentNode:n),new mT(e)};vi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ce(188)):(n=Object.keys(n).join(","),Error(Ce(268,n)));return n=fD(e),n=n===null?null:n.stateNode,n};vi.flushSync=function(n){return _u(n)};vi.hydrate=function(n,e,t){if(!ay(e))throw Error(Ce(200));return ly(null,n,e,!0,t)};vi.hydrateRoot=function(n,e,t){if(!gT(n))throw Error(Ce(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=jN;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=GN(e,null,n,1,t!=null?t:null,i,!1,s,o),n[No]=e.current,Ch(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new oy(e)};vi.render=function(n,e,t){if(!ay(e))throw Error(Ce(200));return ly(null,n,e,!1,t)};vi.unmountComponentAtNode=function(n){if(!ay(n))throw Error(Ce(40));return n._reactRootContainer?(_u(function(){ly(null,null,n,!1,function(){n._reactRootContainer=null,n[No]=null})}),!0):!1};vi.unstable_batchedUpdates=uT;vi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!ay(t))throw Error(Ce(200));if(n==null||n._reactInternals===void 0)throw Error(Ce(38));return ly(n,e,t,!1,r)};vi.version="18.2.0-next-9e3b772b8-20220608";(function(n){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}e(),n.exports=vi})(GI);var g2=GI.exports;Nw.createRoot=g2.createRoot,Nw.hydrateRoot=g2.hydrateRoot;const mH="_Avatar_1vu4k_1",gH={Avatar:mH};var uy={exports:{}},cy={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vH=z.exports,yH=Symbol.for("react.element"),_H=Symbol.for("react.fragment"),xH=Object.prototype.hasOwnProperty,wH=vH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SH={key:!0,ref:!0,__self:!0,__source:!0};function WN(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xH.call(e,r)&&!SH.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yH,type:n,key:s,ref:o,props:i,_owner:wH.current}}cy.Fragment=_H;cy.jsx=WN;cy.jsxs=WN;(function(n){n.exports=cy})(uy);const Yi=uy.exports.Fragment,ne=uy.exports.jsx,lt=uy.exports.jsxs,bH="https://t3.ftcdn.net/jpg/03/39/45/96/360_F_339459697_XAFacNQmwnvJRqe1Fe9VOptPWMUxlZP8.jpg",MH=({size:n=40,src:e})=>ne("img",{src:e!=null?e:bH,width:n,height:n,className:gH.Avatar,referrerPolicy:"no-referrer"});var CS=function(n,e){return CS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},CS(n,e)};function $N(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");CS(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Le=function(){return Le=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Le.apply(this,arguments)};function Qs(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function TH(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wn(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function hs(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var EH="production",vT=typeof process>"u"||process.env===void 0?EH:"production",fo=function(n){return{isEnabled:function(e){return n.some(function(t){return!!e[t]})}}},Fh={measureLayout:fo(["layout","layoutId","drag"]),animation:fo(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:fo(["exit"]),drag:fo(["drag","dragControls"]),focus:fo(["whileFocus"]),hover:fo(["whileHover","onHoverStart","onHoverEnd"]),tap:fo(["whileTap","onTap","onTapStart","onTapCancel"]),pan:fo(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:fo(["whileInView","onViewportEnter","onViewportLeave"])};function AH(n){for(var e in n)n[e]!==null&&(e==="projectionNodeConstructor"?Fh.projectionNodeConstructor=n[e]:Fh[e].Component=n[e])}var CH=function(){},_0=function(){},qN=z.exports.createContext({strict:!1}),XN=Object.keys(Fh),PH=XN.length;function RH(n,e,t){var r=[],i=z.exports.useContext(qN);if(!e)return null;vT!=="production"&&t&&i.strict;for(var s=0;s<PH;s++){var o=XN[s],a=Fh[o],l=a.isEnabled,u=a.Component;l(n)&&u&&r.push(ne(u,{...Le({key:o},n,{visualElement:e})}))}return r}var yT=z.exports.createContext({transformPagePoint:function(n){return n},isStatic:!1,reducedMotion:"never"}),fy=z.exports.createContext({});function LH(){return z.exports.useContext(fy).visualElement}var wp=z.exports.createContext(null),Lf=typeof document<"u",x0=Lf?z.exports.useLayoutEffect:z.exports.useEffect,PS={current:null},YN=!1;function OH(){if(YN=!0,!!Lf)if(window.matchMedia){var n=window.matchMedia("(prefers-reduced-motion)"),e=function(){return PS.current=n.matches};n.addListener(e),e()}else PS.current=!1}function IH(){!YN&&OH();var n=wn(z.exports.useState(PS.current),1),e=n[0];return e}function DH(){var n=IH(),e=z.exports.useContext(yT).reducedMotion;return e==="never"?!1:e==="always"?!0:n}function NH(n,e,t,r){var i=z.exports.useContext(qN),s=LH(),o=z.exports.useContext(wp),a=DH(),l=z.exports.useRef(void 0);r||(r=i.renderer),!l.current&&r&&(l.current=r(n,{visualState:e,parent:s,props:t,presenceId:o==null?void 0:o.id,blockInitialAnimation:(o==null?void 0:o.initial)===!1,shouldReduceMotion:a}));var u=l.current;return x0(function(){u==null||u.syncRender()}),z.exports.useEffect(function(){var f;(f=u==null?void 0:u.animationState)===null||f===void 0||f.animateChanges()}),x0(function(){return function(){return u==null?void 0:u.notifyUnmount()}},[]),u}function Fc(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function kH(n,e,t){return z.exports.useCallback(function(r){var i;r&&((i=n.mount)===null||i===void 0||i.call(n,r)),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Fc(t)&&(t.current=r))},[e])}function KN(n){return Array.isArray(n)}function as(n){return typeof n=="string"||KN(n)}function FH(n){var e={};return n.forEachValue(function(t,r){return e[r]=t.get()}),e}function zH(n){var e={};return n.forEachValue(function(t,r){return e[r]=t.getVelocity()}),e}function JN(n,e,t,r,i){var s;return r===void 0&&(r={}),i===void 0&&(i={}),typeof e=="function"&&(e=e(t!=null?t:n.custom,r,i)),typeof e=="string"&&(e=(s=n.variants)===null||s===void 0?void 0:s[e]),typeof e=="function"&&(e=e(t!=null?t:n.custom,r,i)),e}function dy(n,e,t){var r=n.getProps();return JN(r,e,t!=null?t:r.custom,FH(n),zH(n))}function hy(n){var e;return typeof((e=n.animate)===null||e===void 0?void 0:e.start)=="function"||as(n.initial)||as(n.animate)||as(n.whileHover)||as(n.whileDrag)||as(n.whileTap)||as(n.whileFocus)||as(n.exit)}function ZN(n){return Boolean(hy(n)||n.variants)}function UH(n,e){if(hy(n)){var t=n.initial,r=n.animate;return{initial:t===!1||as(t)?t:void 0,animate:as(r)?r:void 0}}return n.inherit!==!1?e:{}}function BH(n){var e=UH(n,z.exports.useContext(fy)),t=e.initial,r=e.animate;return z.exports.useMemo(function(){return{initial:t,animate:r}},[v2(t),v2(r)])}function v2(n){return Array.isArray(n)?n.join(" "):n}function Sp(n){var e=z.exports.useRef(null);return e.current===null&&(e.current=n()),e.current}const QN=1/60*1e3,VH=typeof performance<"u"?()=>performance.now():()=>Date.now(),ek=typeof window<"u"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(VH()),QN);function HH(n){let e=[],t=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,f=!1)=>{const h=f&&i,p=h?e:t;return u&&o.add(l),p.indexOf(l)===-1&&(p.push(l),h&&i&&(r=e.length)),l},cancel:l=>{const u=t.indexOf(l);u!==-1&&t.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,t]=[t,e],t.length=0,r=e.length,r)for(let u=0;u<r;u++){const f=e[u];f(l),o.has(f)&&(a.schedule(f),n())}i=!1,s&&(s=!1,a.process(l))}};return a}const GH=40;let RS=!0,zh=!1,LS=!1;const Jc={delta:0,timestamp:0},bp=["read","update","preRender","render","postRender"],py=bp.reduce((n,e)=>(n[e]=HH(()=>zh=!0),n),{}),ps=bp.reduce((n,e)=>{const t=py[e];return n[e]=(r,i=!1,s=!1)=>(zh||WH(),t.schedule(r,i,s)),n},{}),cf=bp.reduce((n,e)=>(n[e]=py[e].cancel,n),{}),Jx=bp.reduce((n,e)=>(n[e]=()=>py[e].process(Jc),n),{}),jH=n=>py[n].process(Jc),tk=n=>{zh=!1,Jc.delta=RS?QN:Math.max(Math.min(n-Jc.timestamp,GH),1),Jc.timestamp=n,LS=!0,bp.forEach(jH),LS=!1,zh&&(RS=!1,ek(tk))},WH=()=>{zh=!0,RS=!0,LS||ek(tk)},w0=()=>Jc;function nk(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const S0=(n,e,t)=>Math.min(Math.max(t,n),e),Zx=.001,$H=.01,y2=10,qH=.05,XH=1;function YH({duration:n=800,bounce:e=.25,velocity:t=0,mass:r=1}){let i,s;CH(n<=y2*1e3);let o=1-e;o=S0(qH,XH,o),n=S0($H,y2,n/1e3),o<1?(i=u=>{const f=u*o,h=f*n,p=f-t,m=OS(u,o),g=Math.exp(-h);return Zx-p/m*g},s=u=>{const h=u*o*n,p=h*t+t,m=Math.pow(o,2)*Math.pow(u,2)*n,g=Math.exp(-h),v=OS(Math.pow(u,2),o);return(-i(u)+Zx>0?-1:1)*((p-m)*g)/v}):(i=u=>{const f=Math.exp(-u*n),h=(u-t)*n+1;return-Zx+f*h},s=u=>{const f=Math.exp(-u*n),h=(t-u)*(n*n);return f*h});const a=5/n,l=JH(i,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:n}}}const KH=12;function JH(n,e,t){let r=t;for(let i=1;i<KH;i++)r=r-n(r)/e(r);return r}function OS(n,e){return n*Math.sqrt(1-e*e)}const ZH=["duration","bounce"],QH=["stiffness","damping","mass"];function _2(n,e){return e.some(t=>n[t]!==void 0)}function e8(n){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},n);if(!_2(n,QH)&&_2(n,ZH)){const t=YH(n);e=Object.assign(Object.assign(Object.assign({},e),t),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function _T(n){var{from:e=0,to:t=1,restSpeed:r=2,restDelta:i}=n,s=nk(n,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:l,mass:u,velocity:f,duration:h,isResolvedFromDuration:p}=e8(s),m=x2,g=x2;function v(){const _=f?-(f/1e3):0,y=t-e,w=l/(2*Math.sqrt(a*u)),S=Math.sqrt(a/u)/1e3;if(i===void 0&&(i=Math.min(Math.abs(t-e)/100,.4)),w<1){const M=OS(S,w);m=T=>{const P=Math.exp(-w*S*T);return t-P*((_+w*S*y)/M*Math.sin(M*T)+y*Math.cos(M*T))},g=T=>{const P=Math.exp(-w*S*T);return w*S*P*(Math.sin(M*T)*(_+w*S*y)/M+y*Math.cos(M*T))-P*(Math.cos(M*T)*(_+w*S*y)-M*y*Math.sin(M*T))}}else if(w===1)m=M=>t-Math.exp(-S*M)*(y+(_+S*y)*M);else{const M=S*Math.sqrt(w*w-1);m=T=>{const P=Math.exp(-w*S*T),L=Math.min(M*T,300);return t-P*((_+w*S*y)*Math.sinh(L)+M*y*Math.cosh(L))/M}}}return v(),{next:_=>{const y=m(_);if(p)o.done=_>=h;else{const w=g(_)*1e3,S=Math.abs(w)<=r,M=Math.abs(t-y)<=i;o.done=S&&M}return o.value=o.done?t:y,o},flipTarget:()=>{f=-f,[e,t]=[t,e],v()}}}_T.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const x2=n=>0,Uh=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},xn=(n,e,t)=>-t*n+t*e+n,rk=(n,e)=>t=>Math.max(Math.min(t,e),n),th=n=>n%1?Number(n.toFixed(5)):n,Bh=/(-)?([\d]*\.?[\d])+/g,IS=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,t8=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Mp(n){return typeof n=="string"}const Pu={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},nh=Object.assign(Object.assign({},Pu),{transform:rk(0,1)}),pg=Object.assign(Object.assign({},Pu),{default:1}),Tp=n=>({test:e=>Mp(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ga=Tp("deg"),qs=Tp("%"),ot=Tp("px"),n8=Tp("vh"),r8=Tp("vw"),w2=Object.assign(Object.assign({},qs),{parse:n=>qs.parse(n)/100,transform:n=>qs.transform(n*100)}),xT=(n,e)=>t=>Boolean(Mp(t)&&t8.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),ik=(n,e,t)=>r=>{if(!Mp(r))return r;const[i,s,o,a]=r.match(Bh);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Jl={test:xT("hsl","hue"),parse:ik("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+qs.transform(th(e))+", "+qs.transform(th(t))+", "+th(nh.transform(r))+")"},i8=rk(0,255),Qx=Object.assign(Object.assign({},Pu),{transform:n=>Math.round(i8(n))}),Ca={test:xT("rgb","red"),parse:ik("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Qx.transform(n)+", "+Qx.transform(e)+", "+Qx.transform(t)+", "+th(nh.transform(r))+")"};function s8(n){let e="",t="",r="",i="";return n.length>5?(e=n.substr(1,2),t=n.substr(3,2),r=n.substr(5,2),i=n.substr(7,2)):(e=n.substr(1,1),t=n.substr(2,1),r=n.substr(3,1),i=n.substr(4,1),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const DS={test:xT("#"),parse:s8,transform:Ca.transform},Ar={test:n=>Ca.test(n)||DS.test(n)||Jl.test(n),parse:n=>Ca.test(n)?Ca.parse(n):Jl.test(n)?Jl.parse(n):DS.parse(n),transform:n=>Mp(n)?n:n.hasOwnProperty("red")?Ca.transform(n):Jl.transform(n)},sk="${c}",ok="${n}";function o8(n){var e,t,r,i;return isNaN(n)&&Mp(n)&&((t=(e=n.match(Bh))===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0)+((i=(r=n.match(IS))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function ak(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0;const r=n.match(IS);r&&(t=r.length,n=n.replace(IS,sk),e.push(...r.map(Ar.parse)));const i=n.match(Bh);return i&&(n=n.replace(Bh,ok),e.push(...i.map(Pu.parse))),{values:e,numColors:t,tokenised:n}}function lk(n){return ak(n).values}function uk(n){const{values:e,numColors:t,tokenised:r}=ak(n),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<t?sk:ok,a<t?Ar.transform(s[a]):th(s[a]));return o}}const a8=n=>typeof n=="number"?0:n;function l8(n){const e=lk(n);return uk(n)(e.map(a8))}const zo={test:o8,parse:lk,createTransformer:uk,getAnimatableNone:l8},u8=new Set(["brightness","contrast","saturate","opacity"]);function c8(n){let[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Bh)||[];if(!r)return n;const i=t.replace(r,"");let s=u8.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const f8=/([a-z-]*)\(.*?\)/g,NS=Object.assign(Object.assign({},zo),{getAnimatableNone:n=>{const e=n.match(f8);return e?e.map(c8).join(" "):n}});function e1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function S2({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,o=0;if(!e)i=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;i=e1(l,a,n+1/3),s=e1(l,a,n),o=e1(l,a,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const d8=(n,e,t)=>{const r=n*n,i=e*e;return Math.sqrt(Math.max(0,t*(i-r)+r))},h8=[DS,Ca,Jl],b2=n=>h8.find(e=>e.test(n)),ck=(n,e)=>{let t=b2(n),r=b2(e),i=t.parse(n),s=r.parse(e);t===Jl&&(i=S2(i),t=Ca),r===Jl&&(s=S2(s),r=Ca);const o=Object.assign({},i);return a=>{for(const l in o)l!=="alpha"&&(o[l]=d8(i[l],s[l],a));return o.alpha=xn(i.alpha,s.alpha,a),t.transform(o)}},kS=n=>typeof n=="number",p8=(n,e)=>t=>e(n(t)),my=(...n)=>n.reduce(p8);function fk(n,e){return kS(n)?t=>xn(n,e,t):Ar.test(n)?ck(n,e):hk(n,e)}const dk=(n,e)=>{const t=[...n],r=t.length,i=n.map((s,o)=>fk(s,e[o]));return s=>{for(let o=0;o<r;o++)t[o]=i[o](s);return t}},m8=(n,e)=>{const t=Object.assign(Object.assign({},n),e),r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=fk(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}};function M2(n){const e=zo.parse(n),t=e.length;let r=0,i=0,s=0;for(let o=0;o<t;o++)r||typeof e[o]=="number"?r++:e[o].hue!==void 0?s++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:s}}const hk=(n,e)=>{const t=zo.createTransformer(e),r=M2(n),i=M2(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?my(dk(r.parsed,i.parsed),t):o=>`${o>0?e:n}`},g8=(n,e)=>t=>xn(n,e,t);function v8(n){if(typeof n=="number")return g8;if(typeof n=="string")return Ar.test(n)?ck:hk;if(Array.isArray(n))return dk;if(typeof n=="object")return m8}function y8(n,e,t){const r=[],i=t||v8(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=i(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=my(l,a)}r.push(a)}return r}function _8([n,e],[t]){return r=>t(Uh(n,e,r))}function x8(n,e){const t=n.length,r=t-1;return i=>{let s=0,o=!1;if(i<=n[0]?o=!0:i>=n[r]&&(s=r-1,o=!0),!o){let l=1;for(;l<t&&!(n[l]>i||l===r);l++);s=l-1}const a=Uh(n[s],n[s+1],i);return e[s](a)}}function pk(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;_0(s===e.length),_0(!r||!Array.isArray(r)||r.length===s-1),n[0]>n[s-1]&&(n=[].concat(n),e=[].concat(e),n.reverse(),e.reverse());const o=y8(e,r,i),a=s===2?_8(n,o):x8(n,o);return t?l=>a(S0(n[0],n[s-1],l)):a}const gy=n=>e=>1-n(1-e),wT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,w8=n=>e=>Math.pow(e,n),mk=n=>e=>e*e*((n+1)*e-n),S8=n=>{const e=mk(n);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))},gk=1.525,b8=4/11,M8=8/11,T8=9/10,ST=n=>n,bT=w8(2),E8=gy(bT),vk=wT(bT),yk=n=>1-Math.sin(Math.acos(n)),MT=gy(yk),A8=wT(MT),TT=mk(gk),C8=gy(TT),P8=wT(TT),R8=S8(gk),L8=4356/361,O8=35442/1805,I8=16061/1805,b0=n=>{if(n===1||n===0)return n;const e=n*n;return n<b8?7.5625*e:n<M8?9.075*e-9.9*n+3.4:n<T8?L8*e-O8*n+I8:10.8*n*n-20.52*n+10.72},D8=gy(b0),N8=n=>n<.5?.5*(1-b0(1-n*2)):.5*b0(n*2-1)+.5;function k8(n,e){return n.map(()=>e||vk).splice(0,n.length-1)}function F8(n){const e=n.length;return n.map((t,r)=>r!==0?r/(e-1):0)}function z8(n,e){return n.map(t=>t*e)}function Ov({from:n=0,to:e=1,ease:t,offset:r,duration:i=300}){const s={done:!1,value:n},o=Array.isArray(e)?e:[n,e],a=z8(r&&r.length===o.length?r:F8(o),i);function l(){return pk(a,o,{ease:Array.isArray(t)?t:k8(o,t)})}let u=l();return{next:f=>(s.value=u(f),s.done=f>=i,s),flipTarget:()=>{o.reverse(),u=l()}}}function U8({velocity:n=0,from:e=0,power:t=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o={done:!1,value:e};let a=t*n;const l=e+a,u=s===void 0?l:s(l);return u!==l&&(a=u-e),{next:f=>{const h=-a*Math.exp(-f/r);return o.done=!(h>i||h<-i),o.value=o.done?u:u+h,o},flipTarget:()=>{}}}const T2={keyframes:Ov,spring:_T,decay:U8};function B8(n){if(Array.isArray(n.to))return Ov;if(T2[n.type])return T2[n.type];const e=new Set(Object.keys(n));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?Ov:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?_T:Ov}function _k(n,e,t=0){return n-e-t}function V8(n,e,t=0,r=!0){return r?_k(e+-n,e,t):e-(n-e)+t}function H8(n,e,t,r){return r?n>=e+t:n<=-t}const G8=n=>{const e=({delta:t})=>n(t);return{start:()=>ps.update(e,!0),stop:()=>cf.update(e)}};function xk(n){var e,t,{from:r,autoplay:i=!0,driver:s=G8,elapsed:o=0,repeat:a=0,repeatType:l="loop",repeatDelay:u=0,onPlay:f,onStop:h,onComplete:p,onRepeat:m,onUpdate:g}=n,v=nk(n,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:_}=v,y,w=0,S=v.duration,M,T=!1,P=!0,L;const A=B8(v);!((t=(e=A).needsInterpolation)===null||t===void 0)&&t.call(e,r,_)&&(L=pk([0,100],[r,_],{clamp:!1}),r=0,_=100);const R=A(Object.assign(Object.assign({},v),{from:r,to:_}));function k(){w++,l==="reverse"?(P=w%2===0,o=V8(o,S,u,P)):(o=_k(o,S,u),l==="mirror"&&R.flipTarget()),T=!1,m&&m()}function G(){y.stop(),p&&p()}function Z(O){if(P||(O=-O),o+=O,!T){const j=R.next(Math.max(0,o));M=j.value,L&&(M=L(M)),T=P?j.done:o<=0}g==null||g(M),T&&(w===0&&(S!=null||(S=o)),w<a?H8(o,S,u,P)&&k():G())}function W(){f==null||f(),y=s(Z),y.start()}return i&&W(),{stop:()=>{h==null||h(),y.stop()}}}function wk(n,e){return e?n*(1e3/e):0}function j8({from:n=0,velocity:e=0,min:t,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:f,onUpdate:h,onComplete:p,onStop:m}){let g;function v(S){return t!==void 0&&S<t||r!==void 0&&S>r}function _(S){return t===void 0?r:r===void 0||Math.abs(t-S)<Math.abs(r-S)?t:r}function y(S){g==null||g.stop(),g=xk(Object.assign(Object.assign({},S),{driver:f,onUpdate:M=>{var T;h==null||h(M),(T=S.onUpdate)===null||T===void 0||T.call(S,M)},onComplete:p,onStop:m}))}function w(S){y(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:l},S))}if(v(n))w({from:n,velocity:e,to:_(n)});else{let S=i*e+n;typeof u<"u"&&(S=u(S));const M=_(S),T=M===t?-1:1;let P,L;const A=R=>{P=L,L=R,e=wk(R-P,w0().delta),(T===1&&R>M||T===-1&&R<M)&&w({from:R,to:M,velocity:e})};y({type:"decay",from:n,velocity:e,timeConstant:s,power:i,restDelta:l,modifyTarget:u,onUpdate:v(S)?A:void 0})}return{stop:()=>g==null?void 0:g.stop()}}const FS=n=>n.hasOwnProperty("x")&&n.hasOwnProperty("y"),E2=n=>FS(n)&&n.hasOwnProperty("z"),mg=(n,e)=>Math.abs(n-e);function Sk(n,e){if(kS(n)&&kS(e))return mg(n,e);if(FS(n)&&FS(e)){const t=mg(n.x,e.x),r=mg(n.y,e.y),i=E2(n)&&E2(e)?mg(n.z,e.z):0;return Math.sqrt(Math.pow(t,2)+Math.pow(r,2)+Math.pow(i,2))}}const bk=(n,e)=>1-3*e+3*n,Mk=(n,e)=>3*e-6*n,Tk=n=>3*n,M0=(n,e,t)=>((bk(e,t)*n+Mk(e,t))*n+Tk(e))*n,Ek=(n,e,t)=>3*bk(e,t)*n*n+2*Mk(e,t)*n+Tk(e),W8=1e-7,$8=10;function q8(n,e,t,r,i){let s,o,a=0;do o=e+(t-e)/2,s=M0(o,r,i)-n,s>0?t=o:e=o;while(Math.abs(s)>W8&&++a<$8);return o}const X8=8,Y8=.001;function K8(n,e,t,r){for(let i=0;i<X8;++i){const s=Ek(e,t,r);if(s===0)return e;const o=M0(e,t,r)-n;e-=o/s}return e}const Iv=11,gg=1/(Iv-1);function J8(n,e,t,r){if(n===e&&t===r)return ST;const i=new Float32Array(Iv);for(let o=0;o<Iv;++o)i[o]=M0(o*gg,n,t);function s(o){let a=0,l=1;const u=Iv-1;for(;l!==u&&i[l]<=o;++l)a+=gg;--l;const f=(o-i[l])/(i[l+1]-i[l]),h=a+f*gg,p=Ek(h,n,t);return p>=Y8?K8(o,h,n,t):p===0?h:q8(o,a,a+gg,n,t)}return o=>o===0||o===1?o:M0(s(o),e,r)}function ET(n,e){n.indexOf(e)===-1&&n.push(e)}function AT(n,e){var t=n.indexOf(e);t>-1&&n.splice(t,1)}var rh=function(){function n(){this.subscriptions=[]}return n.prototype.add=function(e){var t=this;return ET(this.subscriptions,e),function(){return AT(t.subscriptions,e)}},n.prototype.notify=function(e,t,r){var i=this.subscriptions.length;if(!!i)if(i===1)this.subscriptions[0](e,t,r);else for(var s=0;s<i;s++){var o=this.subscriptions[s];o&&o(e,t,r)}},n.prototype.getSize=function(){return this.subscriptions.length},n.prototype.clear=function(){this.subscriptions.length=0},n}(),Z8=function(n){return!isNaN(parseFloat(n))},Q8=function(){function n(e){var t=this;this.version="6.3.15",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new rh,this.velocityUpdateSubscribers=new rh,this.renderSubscribers=new rh,this.canTrackVelocity=!1,this.updateAndNotify=function(r,i){i===void 0&&(i=!0),t.prev=t.current,t.current=r;var s=w0(),o=s.delta,a=s.timestamp;t.lastUpdated!==a&&(t.timeDelta=o,t.lastUpdated=a,ps.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),i&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return ps.postRender(t.velocityCheck)},this.velocityCheck=function(r){var i=r.timestamp;i!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Z8(this.current)}return n.prototype.onChange=function(e){return this.updateSubscribers.add(e)},n.prototype.clearListeners=function(){this.updateSubscribers.clear()},n.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},n.prototype.attach=function(e){this.passiveEffect=e},n.prototype.set=function(e,t){t===void 0&&(t=!0),!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)},n.prototype.get=function(){return this.current},n.prototype.getPrevious=function(){return this.prev},n.prototype.getVelocity=function(){return this.canTrackVelocity?wk(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},n.prototype.start=function(e){var t=this;return this.stop(),new Promise(function(r){t.hasAnimated=!0,t.stopAnimation=e(r)}).then(function(){return t.clearAnimation()})},n.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},n.prototype.isAnimating=function(){return!!this.stopAnimation},n.prototype.clearAnimation=function(){this.stopAnimation=null},n.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},n}();function ff(n){return new Q8(n)}var Uo=function(n){return Boolean(n!==null&&typeof n=="object"&&n.getVelocity)},T0=function(n){return n*1e3},eG={linear:ST,easeIn:bT,easeInOut:vk,easeOut:E8,circIn:yk,circInOut:A8,circOut:MT,backIn:TT,backInOut:P8,backOut:C8,anticipate:R8,bounceIn:D8,bounceInOut:N8,bounceOut:b0},A2=function(n){if(Array.isArray(n)){_0(n.length===4);var e=wn(n,4),t=e[0],r=e[1],i=e[2],s=e[3];return J8(t,r,i,s)}else if(typeof n=="string")return eG[n];return n},tG=function(n){return Array.isArray(n)&&typeof n[0]!="number"},C2=function(n,e){return n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&zo.test(e)&&!e.startsWith("url("))},Vh=function(n){return Array.isArray(n)},Sl=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},vg=function(n){return{type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}},t1=function(){return{type:"keyframes",ease:"linear",duration:.3}},nG=function(n){return{type:"keyframes",duration:.8,values:n}},P2={x:Sl,y:Sl,z:Sl,rotate:Sl,rotateX:Sl,rotateY:Sl,rotateZ:Sl,scaleX:vg,scaleY:vg,scale:vg,opacity:t1,backgroundColor:t1,color:t1,default:vg},rG=function(n,e){var t;return Vh(e)?t=nG:t=P2[n]||P2.default,Le({to:e},t(e))},R2=Le(Le({},Pu),{transform:Math.round}),Ak={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,radius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,size:ot,top:ot,right:ot,bottom:ot,left:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,rotate:ga,rotateX:ga,rotateY:ga,rotateZ:ga,scale:pg,scaleX:pg,scaleY:pg,scaleZ:pg,skew:ga,skewX:ga,skewY:ga,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:nh,originX:w2,originY:w2,originZ:ot,zIndex:R2,fillOpacity:nh,strokeOpacity:nh,numOctaves:R2},iG=Le(Le({},Ak),{color:Ar,backgroundColor:Ar,outlineColor:Ar,fill:Ar,stroke:Ar,borderColor:Ar,borderTopColor:Ar,borderRightColor:Ar,borderBottomColor:Ar,borderLeftColor:Ar,filter:NS,WebkitFilter:NS}),CT=function(n){return iG[n]};function PT(n,e){var t,r=CT(n);return r!==NS&&(r=zo),(t=r.getAnimatableNone)===null||t===void 0?void 0:t.call(r,e)}var sG={current:!1},oG=function(n){return Boolean(n&&typeof n=="object"&&n.mix&&n.toValue)},Ck=function(n){return Vh(n)?n[n.length-1]||0:n};function aG(n){n.when,n.delay,n.delayChildren,n.staggerChildren,n.staggerDirection,n.repeat,n.repeatType,n.repeatDelay,n.from;var e=Qs(n,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(e).length}function lG(n){var e=n.ease,t=n.times,r=n.yoyo,i=n.flip,s=n.loop,o=Qs(n,["ease","times","yoyo","flip","loop"]),a=Le({},o);return t&&(a.offset=t),o.duration&&(a.duration=T0(o.duration)),o.repeatDelay&&(a.repeatDelay=T0(o.repeatDelay)),e&&(a.ease=tG(e)?e.map(A2):A2(e)),o.type==="tween"&&(a.type="keyframes"),(r||s||i)&&(r?a.repeatType="reverse":s?a.repeatType="loop":i&&(a.repeatType="mirror"),a.repeat=s||r||i||o.repeat),o.type!=="spring"&&(a.type="keyframes"),a}function uG(n,e){var t,r,i=RT(n,e)||{};return(r=(t=i.delay)!==null&&t!==void 0?t:n.delay)!==null&&r!==void 0?r:0}function cG(n){return Array.isArray(n.to)&&n.to[0]===null&&(n.to=hs([],wn(n.to),!1),n.to[0]=n.from),n}function fG(n,e,t){var r;return Array.isArray(e.to)&&((r=n.duration)!==null&&r!==void 0||(n.duration=.8)),cG(e),aG(n)||(n=Le(Le({},n),rG(t,e.to))),Le(Le({},e),lG(n))}function dG(n,e,t,r,i){var s,o=RT(r,n),a=(s=o.from)!==null&&s!==void 0?s:e.get(),l=C2(n,t);a==="none"&&l&&typeof t=="string"?a=PT(n,t):L2(a)&&typeof t=="string"?a=O2(t):!Array.isArray(t)&&L2(t)&&typeof a=="string"&&(t=O2(a));var u=C2(n,a);function f(){var p={from:a,to:t,velocity:e.getVelocity(),onComplete:i,onUpdate:function(m){return e.set(m)}};return o.type==="inertia"||o.type==="decay"?j8(Le(Le({},p),o)):xk(Le(Le({},fG(o,p,n)),{onUpdate:function(m){var g;p.onUpdate(m),(g=o.onUpdate)===null||g===void 0||g.call(o,m)},onComplete:function(){var m;p.onComplete(),(m=o.onComplete)===null||m===void 0||m.call(o)}}))}function h(){var p,m,g=Ck(t);return e.set(g),i(),(p=o==null?void 0:o.onUpdate)===null||p===void 0||p.call(o,g),(m=o==null?void 0:o.onComplete)===null||m===void 0||m.call(o),{stop:function(){}}}return!u||!l||o.type===!1?h:f}function L2(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function O2(n){return typeof n=="number"?0:PT("",n)}function RT(n,e){return n[e]||n.default||n}function LT(n,e,t,r){return r===void 0&&(r={}),sG.current&&(r={type:!1}),e.start(function(i){var s,o,a=dG(n,e,t,r,i),l=uG(r,n),u=function(){return o=a()};return l?s=window.setTimeout(u,T0(l)):u(),function(){clearTimeout(s),o==null||o.stop()}})}function hG(n,e,t){t===void 0&&(t={});var r=Uo(n)?n:ff(n);return LT("",r,e,t),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}var Pk=["TopLeft","TopRight","BottomLeft","BottomRight"],pG=Pk.length,I2=function(n){return typeof n=="string"?parseFloat(n):n},D2=function(n){return typeof n=="number"||ot.test(n)};function mG(n,e,t,r,i,s){var o,a,l,u;i?(n.opacity=xn(0,(o=t.opacity)!==null&&o!==void 0?o:1,gG(r)),n.opacityExit=xn((a=e.opacity)!==null&&a!==void 0?a:1,0,vG(r))):s&&(n.opacity=xn((l=e.opacity)!==null&&l!==void 0?l:1,(u=t.opacity)!==null&&u!==void 0?u:1,r));for(var f=0;f<pG;f++){var h="border".concat(Pk[f],"Radius"),p=N2(e,h),m=N2(t,h);if(!(p===void 0&&m===void 0)){p||(p=0),m||(m=0);var g=p===0||m===0||D2(p)===D2(m);g?(n[h]=Math.max(xn(I2(p),I2(m),r),0),(qs.test(m)||qs.test(p))&&(n[h]+="%")):n[h]=m}}(e.rotate||t.rotate)&&(n.rotate=xn(e.rotate||0,t.rotate||0,r))}function N2(n,e){var t;return(t=n[e])!==null&&t!==void 0?t:n.borderRadius}var gG=Rk(0,.5,MT),vG=Rk(.5,.95,ST);function Rk(n,e,t){return function(r){return r<n?0:r>e?1:t(Uh(n,e,r))}}function k2(n,e){n.min=e.min,n.max=e.max}function Os(n,e){k2(n.x,e.x),k2(n.y,e.y)}function n1(n){return n===void 0||n===1}function Lk(n){var e=n.scale,t=n.scaleX,r=n.scaleY;return!n1(e)||!n1(t)||!n1(r)}function va(n){return Lk(n)||F2(n.x)||F2(n.y)||n.z||n.rotate||n.rotateX||n.rotateY}function F2(n){return n&&n!=="0%"}function E0(n,e,t){var r=n-t,i=e*r;return t+i}function z2(n,e,t,r,i){return i!==void 0&&(n=E0(n,i,r)),E0(n,t,r)+e}function zS(n,e,t,r,i){e===void 0&&(e=0),t===void 0&&(t=1),n.min=z2(n.min,e,t,r,i),n.max=z2(n.max,e,t,r,i)}function Ok(n,e){var t=e.x,r=e.y;zS(n.x,t.translate,t.scale,t.originPoint),zS(n.y,r.translate,r.scale,r.originPoint)}function yG(n,e,t,r){var i,s;r===void 0&&(r=!1);var o=t.length;if(!!o){e.x=e.y=1;for(var a,l,u=0;u<o;u++)a=t[u],l=a.projectionDelta,((s=(i=a.instance)===null||i===void 0?void 0:i.style)===null||s===void 0?void 0:s.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Uc(n,{x:-a.scroll.x,y:-a.scroll.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Ok(n,l)),r&&va(a.latestValues)&&Uc(n,a.latestValues))}}function zc(n,e){n.min=n.min+e,n.max=n.max+e}function U2(n,e,t){var r=wn(t,3),i=r[0],s=r[1],o=r[2],a=e[o]!==void 0?e[o]:.5,l=xn(n.min,n.max,a);zS(n,e[i],e[s],l,e.scale)}var _G=["x","scaleX","originX"],xG=["y","scaleY","originY"];function Uc(n,e){U2(n.x,e,_G),U2(n.y,e,xG)}function Bo(n){return n.max-n.min}function B2(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=.01),Sk(n,e)<t}function V2(n,e,t,r){r===void 0&&(r=.5),n.origin=r,n.originPoint=xn(e.min,e.max,n.origin),n.scale=Bo(t)/Bo(e),(B2(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=xn(t.min,t.max,n.origin)-n.originPoint,(B2(n.translate)||isNaN(n.translate))&&(n.translate=0)}function ih(n,e,t,r){V2(n.x,e.x,t.x,r==null?void 0:r.originX),V2(n.y,e.y,t.y,r==null?void 0:r.originY)}function H2(n,e,t){n.min=t.min+e.min,n.max=n.min+Bo(e)}function wG(n,e,t){H2(n.x,e.x,t.x),H2(n.y,e.y,t.y)}function G2(n,e,t){n.min=e.min-t.min,n.max=n.min+Bo(e)}function sh(n,e,t){G2(n.x,e.x,t.x),G2(n.y,e.y,t.y)}function j2(n,e,t,r,i){return n-=e,n=E0(n,1/t,r),i!==void 0&&(n=E0(n,1/i,r)),n}function SG(n,e,t,r,i,s,o){if(e===void 0&&(e=0),t===void 0&&(t=1),r===void 0&&(r=.5),s===void 0&&(s=n),o===void 0&&(o=n),qs.test(e)){e=parseFloat(e);var a=xn(o.min,o.max,e/100);e=a-o.min}if(typeof e=="number"){var l=xn(s.min,s.max,r);n===s&&(l-=e),n.min=j2(n.min,e,t,l,i),n.max=j2(n.max,e,t,l,i)}}function W2(n,e,t,r,i){var s=wn(t,3),o=s[0],a=s[1],l=s[2];SG(n,e[o],e[a],e[l],e.scale,r,i)}var bG=["x","scaleX","originX"],MG=["y","scaleY","originY"];function $2(n,e,t,r){W2(n.x,e,bG,t==null?void 0:t.x,r==null?void 0:r.x),W2(n.y,e,MG,t==null?void 0:t.y,r==null?void 0:r.y)}var q2=function(){return{translate:0,scale:1,origin:0,originPoint:0}},oh=function(){return{x:q2(),y:q2()}},X2=function(){return{min:0,max:0}},vr=function(){return{x:X2(),y:X2()}};function Y2(n){return n.translate===0&&n.scale===1}function Ik(n){return Y2(n.x)&&Y2(n.y)}function Dk(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}var TG=function(){function n(){this.members=[]}return n.prototype.add=function(e){ET(this.members,e),e.scheduleRender()},n.prototype.remove=function(e){if(AT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},n.prototype.relegate=function(e){var t=this.members.findIndex(function(o){return e===o});if(t===0)return!1;for(var r,i=t;i>=0;i--){var s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1},n.prototype.promote=function(e,t){var r,i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues,e.snapshot.isShared=!0),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);var s=e.options.crossfade;s===!1&&i.hide()}},n.prototype.exitAnimationComplete=function(){this.members.forEach(function(e){var t,r,i,s,o;(r=(t=e.options).onExitComplete)===null||r===void 0||r.call(t),(o=(i=e.resumingFrom)===null||i===void 0?void 0:(s=i.options).onExitComplete)===null||o===void 0||o.call(s)})},n.prototype.scheduleRender=function(){this.members.forEach(function(e){e.instance&&e.scheduleRender(!1)})},n.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},n}(),A0={};function EG(n){Object.assign(A0,n)}var AG="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function K2(n,e,t){var r=n.x.translate/e.x,i=n.y.translate/e.y,s="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(s+="scale(".concat(1/e.x,", ").concat(1/e.y,") "),t){var o=t.rotate,a=t.rotateX,l=t.rotateY;o&&(s+="rotate(".concat(o,"deg) ")),a&&(s+="rotateX(".concat(a,"deg) ")),l&&(s+="rotateY(".concat(l,"deg) "))}var u=n.x.scale*e.x,f=n.y.scale*e.y;return s+="scale(".concat(u,", ").concat(f,")"),s===AG?"none":s}function ks(n){return[n("x"),n("y")]}var US=["","X","Y","Z"],CG=["translate","scale","rotate","skew"],Hh=["transformPerspective","x","y","z"];CG.forEach(function(n){return US.forEach(function(e){return Hh.push(n+e)})});function PG(n,e){return Hh.indexOf(n)-Hh.indexOf(e)}var RG=new Set(Hh);function Ep(n){return RG.has(n)}var LG=new Set(["originX","originY","originZ"]);function Nk(n){return LG.has(n)}var OG=function(n,e){return n.depth-e.depth},IG=function(){function n(){this.children=[],this.isDirty=!1}return n.prototype.add=function(e){ET(this.children,e),this.isDirty=!0},n.prototype.remove=function(e){AT(this.children,e),this.isDirty=!0},n.prototype.forEach=function(e){this.isDirty&&this.children.sort(OG),this.isDirty=!1,this.children.forEach(e)},n}();function Dv(n){var e=Uo(n)?n.get():n;return oG(e)?e.toValue():e}var J2=1e3,ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function kk(n){var e=n.attachResizeListener,t=n.defaultParent,r=n.measureScroll,i=n.resetTransform;return function(){function s(o,a,l){var u=this;a===void 0&&(a={}),l===void 0&&(l=t==null?void 0:t()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){u.isUpdating&&(u.isUpdating=!1,u.clearAllSnapshots())},this.updateProjection=function(){u.nodes.forEach(UG),u.nodes.forEach(BG)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?hs(hs([],wn(l.path),!1),[l],!1):[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(var f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new IG)}return s.prototype.addEventListener=function(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new rh),this.eventHandlers.get(o).add(a)},s.prototype.notifyListeners=function(o){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];var u=this.eventHandlers.get(o);u==null||u.notify.apply(u,hs([],wn(a),!1))},s.prototype.hasListeners=function(o){return this.eventHandlers.has(o)},s.prototype.registerPotentialNode=function(o,a){this.potentialNodes.set(o,a)},s.prototype.mount=function(o,a){var l=this,u;if(a===void 0&&(a=!1),!this.instance){this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;var f=this.options,h=f.layoutId,p=f.layout,m=f.visualElement;if(m&&!m.getInstance()&&m.mount(o),this.root.nodes.add(this),(u=this.parent)===null||u===void 0||u.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),a&&(p||h)&&(this.isLayoutDirty=!0),e){var g,v=function(){return l.root.updateBlockedByResize=!1};e(o,function(){l.root.updateBlockedByResize=!0,clearTimeout(g),g=window.setTimeout(v,250),ah.hasAnimatedSinceResize&&(ah.hasAnimatedSinceResize=!1,l.nodes.forEach(zG))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",function(_){var y,w,S,M,T,P=_.delta,L=_.hasLayoutChanged,A=_.hasRelativeTargetChanged,R=_.layout;if(l.isTreeAnimationBlocked()){l.target=void 0,l.relativeTarget=void 0;return}var k=(w=(y=l.options.transition)!==null&&y!==void 0?y:m.getDefaultTransition())!==null&&w!==void 0?w:WG,G=m.getProps(),Z=G.onLayoutAnimationStart,W=G.onLayoutAnimationComplete,O=!l.targetLayout||!Dk(l.targetLayout,R)||A,j=!L&&A;if(((S=l.resumeFrom)===null||S===void 0?void 0:S.instance)||j||L&&(O||!l.currentAnimation)){l.resumeFrom&&(l.resumingFrom=l.resumeFrom,l.resumingFrom.resumingFrom=void 0),l.setAnimationOrigin(P,j);var $=Le(Le({},RT(k,"layout")),{onPlay:Z,onComplete:W});m.shouldReduceMotion&&($.delay=0,$.type=!1),l.startAnimation($)}else!L&&l.animationProgress===0&&l.finishAnimation(),l.isLead()&&((T=(M=l.options).onExitComplete)===null||T===void 0||T.call(M));l.targetLayout=R})}},s.prototype.unmount=function(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,cf.preRender(this.updateProjection)},s.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},s.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},s.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},s.prototype.isTreeAnimationBlocked=function(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1},s.prototype.startUpdate=function(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(VG))},s.prototype.willUpdate=function(o){var a,l,u;if(o===void 0&&(o=!0),this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var f=0;f<this.path.length;f++){var h=this.path[f];h.shouldResetTransform=!0,h.updateScroll()}var p=this.options,m=p.layoutId,g=p.layout;if(!(m===void 0&&!g)){var v=(u=this.options.visualElement)===null||u===void 0?void 0:u.getProps().transformTemplate;this.prevTransformTemplateValue=v==null?void 0:v(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}}},s.prototype.didUpdate=function(){var o=this.isUpdateBlocked();if(o){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Z2);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach($G),this.potentialNodes.clear()),this.nodes.forEach(FG),this.nodes.forEach(DG),this.nodes.forEach(NG),this.clearAllSnapshots(),Jx.update(),Jx.preRender(),Jx.render())},s.prototype.clearAllSnapshots=function(){this.nodes.forEach(kG),this.sharedNodes.forEach(HG)},s.prototype.scheduleUpdateProjection=function(){ps.preRender(this.updateProjection,!1,!0)},s.prototype.scheduleCheckAfterUnmount=function(){var o=this;ps.postRender(function(){o.isLayoutDirty?o.root.didUpdate():o.root.checkUpdateFailed()})},s.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var o=this.measure(),a=this.removeTransform(this.removeElementScroll(o));nR(a),this.snapshot={measured:o,layout:a,latestValues:{}}}},s.prototype.updateLayout=function(){var o;if(!!this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var a=0;a<this.path.length;a++){var l=this.path[a];l.updateScroll()}var u=this.measure();nR(u);var f=this.layout;this.layout={measured:u,actual:this.removeElementScroll(u)},this.layoutCorrected=vr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(o=this.options.visualElement)===null||o===void 0||o.notifyLayoutMeasure(this.layout.actual,f==null?void 0:f.actual)}},s.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=r(this.instance))},s.prototype.resetTransform=function(){var o;if(!!i){var a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Ik(this.projectionDelta),u=(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate,f=u==null?void 0:u(this.latestValues,""),h=f!==this.prevTransformTemplateValue;a&&(l||va(this.latestValues)||h)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}},s.prototype.measure=function(){var o=this.options.visualElement;if(!o)return vr();var a=o.measureViewportBox(),l=this.root.scroll;return l&&(zc(a.x,l.x),zc(a.y,l.y)),a},s.prototype.removeElementScroll=function(o){var a=vr();Os(a,o);for(var l=0;l<this.path.length;l++){var u=this.path[l],f=u.scroll,h=u.options;u!==this.root&&f&&h.layoutScroll&&(zc(a.x,f.x),zc(a.y,f.y))}return a},s.prototype.applyTransform=function(o,a){a===void 0&&(a=!1);var l=vr();Os(l,o);for(var u=0;u<this.path.length;u++){var f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Uc(l,{x:-f.scroll.x,y:-f.scroll.y}),va(f.latestValues)&&Uc(l,f.latestValues)}return va(this.latestValues)&&Uc(l,this.latestValues),l},s.prototype.removeTransform=function(o){var a,l=vr();Os(l,o);for(var u=0;u<this.path.length;u++){var f=this.path[u];if(!!f.instance&&!!va(f.latestValues)){Lk(f.latestValues)&&f.updateSnapshot();var h=vr(),p=f.measure();Os(h,p),$2(l,f.latestValues,(a=f.snapshot)===null||a===void 0?void 0:a.layout,h)}}return va(this.latestValues)&&$2(l,this.latestValues),l},s.prototype.setTargetDelta=function(o){this.targetDelta=o,this.root.scheduleUpdateProjection()},s.prototype.setOptions=function(o){var a;this.options=Le(Le(Le({},this.options),o),{crossfade:(a=o.crossfade)!==null&&a!==void 0?a:!0})},s.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},s.prototype.resolveTargetDelta=function(){var o,a=this.options,l=a.layout,u=a.layoutId;!this.layout||!(l||u)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),sh(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),Os(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vr(),this.targetWithTransforms=vr()),this.relativeTarget&&this.relativeTargetOrigin&&((o=this.relativeParent)===null||o===void 0?void 0:o.target)?wG(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):Os(this.target,this.layout.actual),Ok(this.target,this.targetDelta)):Os(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=vr(),this.relativeTargetOrigin=vr(),sh(this.relativeTargetOrigin,this.target,this.relativeParent.target),Os(this.relativeTarget,this.relativeTargetOrigin)))))},s.prototype.getClosestProjectingParent=function(){if(!(!this.parent||va(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},s.prototype.calcProjection=function(){var o,a=this.options,l=a.layout,u=a.layoutId;if(this.isTreeAnimating=Boolean(((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(l||u))){var f=this.getLead();Os(this.layoutCorrected,this.layout.actual),yG(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==f);var h=f.target;if(!!h){this.projectionDelta||(this.projectionDelta=oh(),this.projectionDeltaWithTransform=oh());var p=this.treeScale.x,m=this.treeScale.y,g=this.projectionTransform;ih(this.projectionDelta,this.layoutCorrected,h,this.latestValues),this.projectionTransform=K2(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}}},s.prototype.hide=function(){this.isVisible=!1},s.prototype.show=function(){this.isVisible=!0},s.prototype.scheduleRender=function(o){var a,l,u;o===void 0&&(o=!0),(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),o&&((u=this.getStack())===null||u===void 0||u.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},s.prototype.setAnimationOrigin=function(o,a){var l=this,u;a===void 0&&(a=!1);var f=this.snapshot,h=(f==null?void 0:f.latestValues)||{},p=Le({},this.latestValues),m=oh();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!a;var g=vr(),v=f==null?void 0:f.isShared,_=(((u=this.getStack())===null||u===void 0?void 0:u.members.length)||0)<=1,y=Boolean(v&&!_&&this.options.crossfade===!0&&!this.path.some(jG));this.animationProgress=0,this.mixTargetDelta=function(w){var S,M=w/1e3;Q2(m.x,o.x,M),Q2(m.y,o.y,M),l.setTargetDelta(m),l.relativeTarget&&l.relativeTargetOrigin&&l.layout&&((S=l.relativeParent)===null||S===void 0?void 0:S.layout)&&(sh(g,l.layout.actual,l.relativeParent.layout.actual),GG(l.relativeTarget,l.relativeTargetOrigin,g,M)),v&&(l.animationValues=p,mG(p,h,l.latestValues,M,y,_)),l.root.scheduleUpdateProjection(),l.scheduleRender(),l.animationProgress=M},this.mixTargetDelta(0)},s.prototype.startAnimation=function(o){var a=this,l,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)===null||l===void 0||l.stop(),this.resumingFrom&&((u=this.resumingFrom.currentAnimation)===null||u===void 0||u.stop()),this.pendingAnimation&&(cf.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ps.update(function(){ah.hasAnimatedSinceResize=!0,a.currentAnimation=hG(0,J2,Le(Le({},o),{onUpdate:function(f){var h;a.mixTargetDelta(f),(h=o.onUpdate)===null||h===void 0||h.call(o,f)},onComplete:function(){var f;(f=o.onComplete)===null||f===void 0||f.call(o),a.completeAnimation()}})),a.resumingFrom&&(a.resumingFrom.currentAnimation=a.currentAnimation),a.pendingAnimation=void 0})},s.prototype.completeAnimation=function(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},s.prototype.finishAnimation=function(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,J2),this.currentAnimation.stop()),this.completeAnimation()},s.prototype.applyTransformsToTarget=function(){var o=this.getLead(),a=o.targetWithTransforms,l=o.target,u=o.layout,f=o.latestValues;!a||!l||!u||(Os(a,l),Uc(a,f),ih(this.projectionDeltaWithTransform,this.layoutCorrected,a,f))},s.prototype.registerSharedNode=function(o,a){var l,u,f;this.sharedNodes.has(o)||this.sharedNodes.set(o,new TG);var h=this.sharedNodes.get(o);h.add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(f=(u=a.options.initialPromotionConfig)===null||u===void 0?void 0:u.shouldPreserveFollowOpacity)===null||f===void 0?void 0:f.call(u,a)})},s.prototype.isLead=function(){var o=this.getStack();return o?o.lead===this:!0},s.prototype.getLead=function(){var o,a=this.options.layoutId;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this},s.prototype.getPrevLead=function(){var o,a=this.options.layoutId;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0},s.prototype.getStack=function(){var o=this.options.layoutId;if(o)return this.root.sharedNodes.get(o)},s.prototype.promote=function(o){var a=o===void 0?{}:o,l=a.needsReset,u=a.transition,f=a.preserveFollowOpacity,h=this.getStack();h&&h.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})},s.prototype.relegate=function(){var o=this.getStack();return o?o.relegate(this):!1},s.prototype.resetRotation=function(){var o=this.options.visualElement;if(!!o){for(var a=!1,l={},u=0;u<US.length;u++){var f=US[u],h="rotate"+f;!o.getStaticValue(h)||(a=!0,l[h]=o.getStaticValue(h),o.setStaticValue(h,0))}if(!!a){o==null||o.syncRender();for(var h in l)o.setStaticValue(h,l[h]);o.scheduleRender()}}},s.prototype.getProjectionStyles=function(o){var a,l,u,f,h,p;o===void 0&&(o={});var m={};if(!this.instance||this.isSVG)return m;if(this.isVisible)m.visibility="";else return{visibility:"hidden"};var g=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Dv(o.pointerEvents)||"",m.transform=g?g(this.latestValues,""):"none",m;var v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){var _={};return this.options.layoutId&&(_.opacity=(l=this.latestValues.opacity)!==null&&l!==void 0?l:1,_.pointerEvents=Dv(o.pointerEvents)||""),this.hasProjected&&!va(this.latestValues)&&(_.transform=g?g({},""):"none",this.hasProjected=!1),_}var y=v.animationValues||v.latestValues;this.applyTransformsToTarget(),m.transform=K2(this.projectionDeltaWithTransform,this.treeScale,y),g&&(m.transform=g(y,m.transform));var w=this.projectionDelta,S=w.x,M=w.y;m.transformOrigin="".concat(S.origin*100,"% ").concat(M.origin*100,"% 0"),v.animationValues?m.opacity=v===this?(f=(u=y.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:m.opacity=v===this?(h=y.opacity)!==null&&h!==void 0?h:"":(p=y.opacityExit)!==null&&p!==void 0?p:0;for(var T in A0)if(y[T]!==void 0){var P=A0[T],L=P.correct,A=P.applyTo,R=L(y[T],v);if(A)for(var k=A.length,G=0;G<k;G++)m[A[G]]=R;else m[T]=R}return this.options.layoutId&&(m.pointerEvents=v===this?Dv(o.pointerEvents)||"":"none"),m},s.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},s.prototype.resetTree=function(){this.root.nodes.forEach(function(o){var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Z2),this.root.sharedNodes.clear()},s}()}function DG(n){n.updateLayout()}function NG(n){var e,t,r,i,s=(t=(e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)!==null&&t!==void 0?t:n.snapshot;if(n.isLead()&&n.layout&&s&&n.hasListeners("didUpdate")){var o=n.layout,a=o.actual,l=o.measured;n.options.animationType==="size"?ks(function(w){var S=s.isShared?s.measured[w]:s.layout[w],M=Bo(S);S.min=a[w].min,S.max=S.min+M}):n.options.animationType==="position"&&ks(function(w){var S=s.isShared?s.measured[w]:s.layout[w],M=Bo(a[w]);S.max=S.min+M});var u=oh();ih(u,a,s.layout);var f=oh();s.isShared?ih(f,n.applyTransform(l,!0),s.measured):ih(f,a,s.layout);var h=!Ik(u),p=!1;if(!n.resumeFrom&&(n.relativeParent=n.getClosestProjectingParent(),n.relativeParent&&!n.relativeParent.resumeFrom)){var m=n.relativeParent,g=m.snapshot,v=m.layout;if(g&&v){var _=vr();sh(_,s.layout,g.layout);var y=vr();sh(y,a,v.actual),Dk(_,y)||(p=!0)}}n.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:f,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else n.isLead()&&((i=(r=n.options).onExitComplete)===null||i===void 0||i.call(r));n.options.transition=void 0}function kG(n){n.clearSnapshot()}function Z2(n){n.clearMeasurements()}function FG(n){var e=n.options.visualElement;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notifyBeforeLayoutMeasure(),n.resetTransform()}function zG(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function UG(n){n.resolveTargetDelta()}function BG(n){n.calcProjection()}function VG(n){n.resetRotation()}function HG(n){n.removeLeadSnapshot()}function Q2(n,e,t){n.translate=xn(e.translate,0,t),n.scale=xn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function eR(n,e,t,r){n.min=xn(e.min,t.min,r),n.max=xn(e.max,t.max,r)}function GG(n,e,t,r){eR(n.x,e.x,t.x,r),eR(n.y,e.y,t.y,r)}function jG(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}var WG={duration:.45,ease:[.4,0,.1,1]};function $G(n,e){for(var t=n.root,r=n.path.length-1;r>=0;r--)if(Boolean(n.path[r].instance)){t=n.path[r];break}var i=t&&t!==n.root?t.instance:document,s=i.querySelector('[data-projection-id="'.concat(e,'"]'));s&&n.mount(s,!0)}function tR(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function nR(n){tR(n.x),tR(n.y)}var qG=1;function XG(){return Sp(function(){if(ah.hasEverUpdated)return qG++})}var OT=z.exports.createContext({}),Fk=z.exports.createContext({});function YG(n,e,t,r){var i,s=e.layoutId,o=e.layout,a=e.drag,l=e.dragConstraints,u=e.layoutScroll,f=z.exports.useContext(Fk);!r||!t||(t==null?void 0:t.projection)||(t.projection=new r(n,t.getLatestValues(),(i=t.parent)===null||i===void 0?void 0:i.projection),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:Boolean(a)||l&&Fc(l),visualElement:t,scheduleRender:function(){return t.scheduleRender()},animationType:typeof o=="string"?o:"both",initialPromotionConfig:f,layoutScroll:u}))}var KG=function(n){$N(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},e.prototype.componentDidUpdate=function(){},e.prototype.updateProps=function(){var t=this.props,r=t.visualElement,i=t.props;r&&r.setProps(i)},e.prototype.render=function(){return this.props.children},e}(Wa.Component);function JG(n){var e=n.preloadedFeatures,t=n.createVisualElement,r=n.projectionNodeConstructor,i=n.useRender,s=n.useVisualState,o=n.Component;e&&AH(e);function a(l,u){var f=ZG(l);l=Le(Le({},l),{layoutId:f});var h=z.exports.useContext(yT),p=null,m=BH(l),g=h.isStatic?void 0:XG(),v=s(l,h.isStatic);return!h.isStatic&&Lf&&(m.visualElement=NH(o,v,Le(Le({},h),l),t),YG(g,l,m.visualElement,r||Fh.projectionNodeConstructor),p=RH(l,m.visualElement,e)),lt(KG,{visualElement:m.visualElement,props:Le(Le({},h),l),children:[p,ne(fy.Provider,{value:m,children:i(o,l,g,kH(v,m.visualElement,u),v,h.isStatic,m.visualElement)})]})}return z.exports.forwardRef(a)}function ZG(n){var e,t=n.layoutId,r=(e=z.exports.useContext(OT))===null||e===void 0?void 0:e.id;return r&&t!==void 0?r+"-"+t:t}function QG(n){function e(r,i){return i===void 0&&(i={}),JG(n(r,i))}if(typeof Proxy>"u")return e;var t=new Map;return new Proxy(e,{get:function(r,i){return t.has(i)||t.set(i,e(i)),t.get(i)}})}var ej=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function IT(n){return typeof n!="string"||n.includes("-")?!1:!!(ej.indexOf(n)>-1||/[A-Z]/.test(n))}function zk(n,e){var t=e.layout,r=e.layoutId;return Ep(n)||Nk(n)||(t||r!==void 0)&&(!!A0[n]||n==="opacity")}var tj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function nj(n,e,t,r){var i=n.transform,s=n.transformKeys,o=e.enableHardwareAcceleration,a=o===void 0?!0:o,l=e.allowTransformNone,u=l===void 0?!0:l,f="";s.sort(PG);for(var h=!1,p=s.length,m=0;m<p;m++){var g=s[m];f+="".concat(tj[g]||g,"(").concat(i[g],") "),g==="z"&&(h=!0)}return!h&&a?f+="translateZ(0)":f=f.trim(),r?f=r(i,t?"":f):u&&t&&(f="none"),f}function rj(n){var e=n.originX,t=e===void 0?"50%":e,r=n.originY,i=r===void 0?"50%":r,s=n.originZ,o=s===void 0?0:s;return"".concat(t," ").concat(i," ").concat(o)}function Uk(n){return n.startsWith("--")}var ij=function(n,e){return e&&typeof n=="number"?e.transform(n):n};function DT(n,e,t,r){var i,s=n.style,o=n.vars,a=n.transform,l=n.transformKeys,u=n.transformOrigin;l.length=0;var f=!1,h=!1,p=!0;for(var m in e){var g=e[m];if(Uk(m)){o[m]=g;continue}var v=Ak[m],_=ij(g,v);if(Ep(m)){if(f=!0,a[m]=_,l.push(m),!p)continue;g!==((i=v.default)!==null&&i!==void 0?i:0)&&(p=!1)}else Nk(m)?(u[m]=_,h=!0):s[m]=_}f?s.transform=nj(n,t,p,r):r?s.transform=r({},""):!e.transform&&s.transform&&(s.transform="none"),h&&(s.transformOrigin=rj(u))}var NT=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Bk(n,e,t){for(var r in e)!Uo(e[r])&&!zk(r,t)&&(n[r]=e[r])}function sj(n,e,t){var r=n.transformTemplate;return z.exports.useMemo(function(){var i=NT();DT(i,e,{enableHardwareAcceleration:!t},r);var s=i.vars,o=i.style;return Le(Le({},s),o)},[e])}function oj(n,e,t){var r=n.style||{},i={};return Bk(i,r,n),Object.assign(i,sj(n,e,t)),n.transformValues&&(i=n.transformValues(i)),i}function aj(n,e,t){var r={},i=oj(n,e,t);return Boolean(n.drag)&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":"pan-".concat(n.drag==="x"?"y":"x")),r.style=i,r}var lj=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function C0(n){return lj.has(n)}var Vk=function(n){return!C0(n)};function uj(n){!n||(Vk=function(e){return e.startsWith("on")?!C0(e):n(e)})}try{uj(require("@emotion/is-prop-valid").default)}catch{}function cj(n,e,t){var r={};for(var i in n)(Vk(i)||t===!0&&C0(i)||!e&&!C0(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function rR(n,e,t){return typeof n=="string"?n:ot.transform(e+t*n)}function fj(n,e,t){var r=rR(e,n.x,n.width),i=rR(t,n.y,n.height);return"".concat(r," ").concat(i)}var dj={offset:"stroke-dashoffset",array:"stroke-dasharray"},hj={offset:"strokeDashoffset",array:"strokeDasharray"};function pj(n,e,t,r,i){t===void 0&&(t=1),r===void 0&&(r=0),i===void 0&&(i=!0),n.pathLength=1;var s=i?dj:hj;n[s.offset]=ot.transform(-r);var o=ot.transform(e),a=ot.transform(t);n[s.array]="".concat(o," ").concat(a)}function kT(n,e,t,r){var i=e.attrX,s=e.attrY,o=e.originX,a=e.originY,l=e.pathLength,u=e.pathSpacing,f=u===void 0?1:u,h=e.pathOffset,p=h===void 0?0:h,m=Qs(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);DT(n,m,t,r),n.attrs=n.style,n.style={};var g=n.attrs,v=n.style,_=n.dimensions;g.transform&&(_&&(v.transform=g.transform),delete g.transform),_&&(o!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=fj(_,o!==void 0?o:.5,a!==void 0?a:.5)),i!==void 0&&(g.x=i),s!==void 0&&(g.y=s),l!==void 0&&pj(g,l,f,p,!1)}var Hk=function(){return Le(Le({},NT()),{attrs:{}})};function mj(n,e){var t=z.exports.useMemo(function(){var i=Hk();return kT(i,e,{enableHardwareAcceleration:!1},n.transformTemplate),Le(Le({},i.attrs),{style:Le({},i.style)})},[e]);if(n.style){var r={};Bk(r,n.style,n),t.style=Le(Le({},r),t.style)}return t}function gj(n){n===void 0&&(n=!1);var e=function(t,r,i,s,o,a){var l=o.latestValues,u=IT(t)?mj:aj,f=u(r,l,a),h=cj(r,typeof t=="string",n),p=Le(Le(Le({},h),f),{ref:s});return i&&(p["data-projection-id"]=i),z.exports.createElement(t,p)};return e}var vj=/([a-z])([A-Z])/g,yj="$1-$2",Gk=function(n){return n.replace(vj,yj).toLowerCase()};function jk(n,e,t,r){var i=e.style,s=e.vars;Object.assign(n.style,i,r&&r.getProjectionStyles(t));for(var o in s)n.style.setProperty(o,s[o])}var Wk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function $k(n,e,t,r){jk(n,e,void 0,r);for(var i in e.attrs)n.setAttribute(Wk.has(i)?i:Gk(i),e.attrs[i])}function FT(n){var e=n.style,t={};for(var r in e)(Uo(e[r])||zk(r,n))&&(t[r]=e[r]);return t}function qk(n){var e=FT(n);for(var t in n)if(Uo(n[t])){var r=t==="x"||t==="y"?"attr"+t.toUpperCase():t;e[r]=n[t]}return e}function zT(n){return typeof n=="object"&&typeof n.start=="function"}function iR(n,e,t,r){var i=n.scrapeMotionValuesFromProps,s=n.createRenderState,o=n.onMount,a={latestValues:_j(e,t,r,i),renderState:s()};return o&&(a.mount=function(l){return o(e,l,a)}),a}var Xk=function(n){return function(e,t){var r=z.exports.useContext(fy),i=z.exports.useContext(wp);return t?iR(n,e,r,i):Sp(function(){return iR(n,e,r,i)})}};function _j(n,e,t,r){var i={},s=(t==null?void 0:t.initial)===!1,o=r(n);for(var a in o)i[a]=Dv(o[a]);var l=n.initial,u=n.animate,f=hy(n),h=ZN(n);e&&h&&!f&&n.inherit!==!1&&(l!=null||(l=e.initial),u!=null||(u=e.animate));var p=s||l===!1,m=p?u:l;if(m&&typeof m!="boolean"&&!zT(m)){var g=Array.isArray(m)?m:[m];g.forEach(function(v){var _=JN(n,v);if(!!_){var y=_.transitionEnd;_.transition;var w=Qs(_,["transitionEnd","transition"]);for(var S in w){var M=w[S];if(Array.isArray(M)){var T=p?M.length-1:0;M=M[T]}M!==null&&(i[S]=M)}for(var S in y)i[S]=y[S]}})}return i}var xj={useVisualState:Xk({scrapeMotionValuesFromProps:qk,createRenderState:Hk,onMount:function(n,e,t){var r=t.renderState,i=t.latestValues;try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}kT(r,i,{enableHardwareAcceleration:!1},n.transformTemplate),$k(e,r)}})},wj={useVisualState:Xk({scrapeMotionValuesFromProps:FT,createRenderState:NT})};function Sj(n,e,t,r,i){var s=e.forwardMotionProps,o=s===void 0?!1:s,a=IT(n)?xj:wj;return Le(Le({},a),{preloadedFeatures:t,useRender:gj(o),createVisualElement:r,projectionNodeConstructor:i,Component:n})}var Jt;(function(n){n.Animate="animate",n.Hover="whileHover",n.Tap="whileTap",n.Drag="whileDrag",n.Focus="whileFocus",n.InView="whileInView",n.Exit="exit"})(Jt||(Jt={}));function vy(n,e,t,r){return r===void 0&&(r={passive:!0}),n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t)}}function BS(n,e,t,r){z.exports.useEffect(function(){var i=n.current;if(t&&i)return vy(i,e,t,r)},[n,e,t,r])}function bj(n){var e=n.whileFocus,t=n.visualElement,r=function(){var s;(s=t.animationState)===null||s===void 0||s.setActive(Jt.Focus,!0)},i=function(){var s;(s=t.animationState)===null||s===void 0||s.setActive(Jt.Focus,!1)};BS(t,"focus",e?r:void 0),BS(t,"blur",e?i:void 0)}function Yk(n){return typeof PointerEvent<"u"&&n instanceof PointerEvent?n.pointerType==="mouse":n instanceof MouseEvent}function Kk(n){var e=!!n.touches;return e}function Mj(n){return function(e){var t=e instanceof MouseEvent,r=!t||t&&e.button===0;r&&n(e)}}var Tj={pageX:0,pageY:0};function Ej(n,e){e===void 0&&(e="page");var t=n.touches[0]||n.changedTouches[0],r=t||Tj;return{x:r[e+"X"],y:r[e+"Y"]}}function Aj(n,e){return e===void 0&&(e="page"),{x:n[e+"X"],y:n[e+"Y"]}}function UT(n,e){return e===void 0&&(e="page"),{point:Kk(n)?Ej(n,e):Aj(n,e)}}var Jk=function(n,e){e===void 0&&(e=!1);var t=function(r){return n(r,UT(r))};return e?Mj(t):t},Cj=function(){return Lf&&window.onpointerdown===null},Pj=function(){return Lf&&window.ontouchstart===null},Rj=function(){return Lf&&window.onmousedown===null},Lj={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Oj={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Zk(n){return Cj()?n:Pj()?Oj[n]:Rj()?Lj[n]:n}function Zc(n,e,t,r){return vy(n,Zk(e),Jk(t,e==="pointerdown"),r)}function P0(n,e,t,r){return BS(n,Zk(e),t&&Jk(t,e==="pointerdown"),r)}function Qk(n){var e=null;return function(){var t=function(){e=null};return e===null?(e=n,t):!1}}var sR=Qk("dragHorizontal"),oR=Qk("dragVertical");function eF(n){var e=!1;if(n==="y")e=oR();else if(n==="x")e=sR();else{var t=sR(),r=oR();t&&r?e=function(){t(),r()}:(t&&t(),r&&r())}return e}function tF(){var n=eF(!0);return n?(n(),!1):!0}function aR(n,e,t){return function(r,i){var s;!Yk(r)||tF()||((s=n.animationState)===null||s===void 0||s.setActive(Jt.Hover,e),t==null||t(r,i))}}function Ij(n){var e=n.onHoverStart,t=n.onHoverEnd,r=n.whileHover,i=n.visualElement;P0(i,"pointerenter",e||r?aR(i,!0,e):void 0,{passive:!e}),P0(i,"pointerleave",t||r?aR(i,!1,t):void 0,{passive:!t})}var nF=function(n,e){return e?n===e?!0:nF(n,e.parentElement):!1};function BT(n){return z.exports.useEffect(function(){return function(){return n()}},[])}function Dj(n){var e=n.onTap,t=n.onTapStart,r=n.onTapCancel,i=n.whileTap,s=n.visualElement,o=e||t||r||i,a=z.exports.useRef(!1),l=z.exports.useRef(null),u={passive:!(t||e||r||g)};function f(){var v;(v=l.current)===null||v===void 0||v.call(l),l.current=null}function h(){var v;return f(),a.current=!1,(v=s.animationState)===null||v===void 0||v.setActive(Jt.Tap,!1),!tF()}function p(v,_){!h()||(nF(s.getInstance(),v.target)?e==null||e(v,_):r==null||r(v,_))}function m(v,_){!h()||r==null||r(v,_)}function g(v,_){var y;f(),!a.current&&(a.current=!0,l.current=my(Zc(window,"pointerup",p,u),Zc(window,"pointercancel",m,u)),(y=s.animationState)===null||y===void 0||y.setActive(Jt.Tap,!0),t==null||t(v,_))}P0(s,"pointerdown",o?g:void 0,u),BT(f)}var lR=new Set;function Nj(n,e,t){n||lR.has(e)||(console.warn(e),t&&console.warn(t),lR.add(e))}var VS=new WeakMap,r1=new WeakMap,kj=function(n){var e;(e=VS.get(n.target))===null||e===void 0||e(n)},Fj=function(n){n.forEach(kj)};function zj(n){var e=n.root,t=Qs(n,["root"]),r=e||document;r1.has(r)||r1.set(r,{});var i=r1.get(r),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(Fj,Le({root:e},t))),i[s]}function Uj(n,e,t){var r=zj(e);return VS.set(n,t),r.observe(n),function(){VS.delete(n),r.unobserve(n)}}function Bj(n){var e=n.visualElement,t=n.whileInView,r=n.onViewportEnter,i=n.onViewportLeave,s=n.viewport,o=s===void 0?{}:s,a=z.exports.useRef({hasEnteredView:!1,isInView:!1}),l=Boolean(t||r||i);o.once&&a.current.hasEnteredView&&(l=!1);var u=typeof IntersectionObserver>"u"?Gj:Hj;u(l,a.current,e,o)}var Vj={some:0,all:1};function Hj(n,e,t,r){var i=r.root,s=r.margin,o=r.amount,a=o===void 0?"some":o,l=r.once;z.exports.useEffect(function(){if(!!n){var u={root:i==null?void 0:i.current,rootMargin:s,threshold:typeof a=="number"?a:Vj[a]},f=function(h){var p,m=h.isIntersecting;if(e.isInView!==m&&(e.isInView=m,!(l&&!m&&e.hasEnteredView))){m&&(e.hasEnteredView=!0),(p=t.animationState)===null||p===void 0||p.setActive(Jt.InView,m);var g=t.getProps(),v=m?g.onViewportEnter:g.onViewportLeave;v==null||v(h)}};return Uj(t.getInstance(),u,f)}},[n,i,s,a])}function Gj(n,e,t,r){var i=r.fallback,s=i===void 0?!0:i;z.exports.useEffect(function(){!n||!s||(vT!=="production"&&Nj(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(function(){var o;e.hasEnteredView=!0;var a=t.getProps().onViewportEnter;a==null||a(null),(o=t.animationState)===null||o===void 0||o.setActive(Jt.InView,!0)}))},[n])}var Pa=function(n){return function(e){return n(e),null}},jj={inView:Pa(Bj),tap:Pa(Dj),focus:Pa(bj),hover:Pa(Ij)},Wj=0,$j=function(){return Wj++},rF=function(){return Sp($j)};function iF(){var n=z.exports.useContext(wp);if(n===null)return[!0,null];var e=n.isPresent,t=n.onExitComplete,r=n.register,i=rF();z.exports.useEffect(function(){return r(i)},[]);var s=function(){return t==null?void 0:t(i)};return!e&&t?[!1,s]:[!0]}function sF(n,e){if(!Array.isArray(e))return!1;var t=e.length;if(t!==n.length)return!1;for(var r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}var qj=function(n){return/^\-?\d*\.?\d+$/.test(n)},Xj=function(n){return/^0[^.\s]+$/.test(n)},oF=function(n){return function(e){return e.test(n)}},Yj={test:function(n){return n==="auto"},parse:function(n){return n}},aF=[Pu,ot,qs,ga,r8,n8,Yj],wd=function(n){return aF.find(oF(n))},Kj=hs(hs([],wn(aF),!1),[Ar,zo],!1),Jj=function(n){return Kj.find(oF(n))};function Zj(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ff(t))}function Qj(n,e){var t=dy(n,e),r=t?n.makeTargetAnimatable(t,!1):{},i=r.transitionEnd,s=i===void 0?{}:i;r.transition;var o=Qs(r,["transitionEnd","transition"]);o=Le(Le({},o),s);for(var a in o){var l=Ck(o[a]);Zj(n,a,l)}}function eW(n,e,t){var r,i,s,o,a=Object.keys(e).filter(function(m){return!n.hasValue(m)}),l=a.length;if(!!l)for(var u=0;u<l;u++){var f=a[u],h=e[f],p=null;Array.isArray(h)&&(p=h[0]),p===null&&(p=(i=(r=t[f])!==null&&r!==void 0?r:n.readValue(f))!==null&&i!==void 0?i:e[f]),p!=null&&(typeof p=="string"&&(qj(p)||Xj(p))?p=parseFloat(p):!Jj(p)&&zo.test(h)&&(p=PT(f,h)),n.addValue(f,ff(p)),(s=(o=t)[f])!==null&&s!==void 0||(o[f]=p),n.setBaseTarget(f,p))}}function tW(n,e){if(!!e){var t=e[n]||e.default||e;return t.from}}function nW(n,e,t){var r,i,s={};for(var o in n)s[o]=(r=tW(o,e))!==null&&r!==void 0?r:(i=t.getValue(o))===null||i===void 0?void 0:i.get();return s}function rW(n,e,t){t===void 0&&(t={}),n.notifyAnimationStart(e);var r;if(Array.isArray(e)){var i=e.map(function(o){return HS(n,o,t)});r=Promise.all(i)}else if(typeof e=="string")r=HS(n,e,t);else{var s=typeof e=="function"?dy(n,e,t.custom):e;r=lF(n,s,t)}return r.then(function(){return n.notifyAnimationComplete(e)})}function HS(n,e,t){var r;t===void 0&&(t={});var i=dy(n,e,t.custom),s=(i||{}).transition,o=s===void 0?n.getDefaultTransition()||{}:s;t.transitionOverride&&(o=t.transitionOverride);var a=i?function(){return lF(n,i,t)}:function(){return Promise.resolve()},l=!((r=n.variantChildren)===null||r===void 0)&&r.size?function(m){m===void 0&&(m=0);var g=o.delayChildren,v=g===void 0?0:g,_=o.staggerChildren,y=o.staggerDirection;return iW(n,e,v+m,_,y,t)}:function(){return Promise.resolve()},u=o.when;if(u){var f=wn(u==="beforeChildren"?[a,l]:[l,a],2),h=f[0],p=f[1];return h().then(p)}else return Promise.all([a(),l(t.delay)])}function lF(n,e,t){var r,i=t===void 0?{}:t,s=i.delay,o=s===void 0?0:s,a=i.transitionOverride,l=i.type,u=n.makeTargetAnimatable(e),f=u.transition,h=f===void 0?n.getDefaultTransition():f,p=u.transitionEnd,m=Qs(u,["transition","transitionEnd"]);a&&(h=a);var g=[],v=l&&((r=n.animationState)===null||r===void 0?void 0:r.getState()[l]);for(var _ in m){var y=n.getValue(_),w=m[_];if(!(!y||w===void 0||v&&oW(v,_))){var S=Le({delay:o},h);n.shouldReduceMotion&&Ep(_)&&(S=Le(Le({},S),{type:!1,delay:0}));var M=LT(_,y,w,S);g.push(M)}}return Promise.all(g).then(function(){p&&Qj(n,p)})}function iW(n,e,t,r,i,s){t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=1);var o=[],a=(n.variantChildren.size-1)*r,l=i===1?function(u){return u===void 0&&(u=0),u*r}:function(u){return u===void 0&&(u=0),a-u*r};return Array.from(n.variantChildren).sort(sW).forEach(function(u,f){o.push(HS(u,e,Le(Le({},s),{delay:t+l(f)})).then(function(){return u.notifyAnimationComplete(e)}))}),Promise.all(o)}function sW(n,e){return n.sortNodePosition(e)}function oW(n,e){var t=n.protectedKeys,r=n.needsAnimating,i=t.hasOwnProperty(e)&&r[e]!==!0;return r[e]=!1,i}var VT=[Jt.Animate,Jt.InView,Jt.Focus,Jt.Hover,Jt.Tap,Jt.Drag,Jt.Exit],aW=hs([],wn(VT),!1).reverse(),lW=VT.length;function uW(n){return function(e){return Promise.all(e.map(function(t){var r=t.animation,i=t.options;return rW(n,r,i)}))}}function cW(n){var e=uW(n),t=dW(),r={},i=!0,s=function(f,h){var p=dy(n,h);if(p){p.transition;var m=p.transitionEnd,g=Qs(p,["transition","transitionEnd"]);f=Le(Le(Le({},f),g),m)}return f};function o(f){return r[f]!==void 0}function a(f){e=f(n)}function l(f,h){for(var p,m=n.getProps(),g=n.getVariantContext(!0)||{},v=[],_=new Set,y={},w=1/0,S=function(L){var A=aW[L],R=t[A],k=(p=m[A])!==null&&p!==void 0?p:g[A],G=as(k),Z=A===h?R.isActive:null;Z===!1&&(w=L);var W=k===g[A]&&k!==m[A]&&G;if(W&&i&&n.manuallyAnimateOnMount&&(W=!1),R.protectedKeys=Le({},y),!R.isActive&&Z===null||!k&&!R.prevProp||zT(k)||typeof k=="boolean")return"continue";var O=fW(R.prevProp,k),j=O||A===h&&R.isActive&&!W&&G||L>w&&G,$=Array.isArray(k)?k:[k],ie=$.reduce(s,{});Z===!1&&(ie={});var I=R.prevResolvedValues,N=I===void 0?{}:I,U=Le(Le({},N),ie),X=function(ge){j=!0,_.delete(ge),R.needsAnimating[ge]=!0};for(var Y in U){var ae=ie[Y],se=N[Y];y.hasOwnProperty(Y)||(ae!==se?Vh(ae)&&Vh(se)?!sF(ae,se)||O?X(Y):R.protectedKeys[Y]=!0:ae!==void 0?X(Y):_.add(Y):ae!==void 0&&_.has(Y)?X(Y):R.protectedKeys[Y]=!0)}R.prevProp=k,R.prevResolvedValues=ie,R.isActive&&(y=Le(Le({},y),ie)),i&&n.blockInitialAnimation&&(j=!1),j&&!W&&v.push.apply(v,hs([],wn($.map(function(ge){return{animation:ge,options:Le({type:A},f)}})),!1))},M=0;M<lW;M++)S(M);if(r=Le({},y),_.size){var T={};_.forEach(function(L){var A=n.getBaseTarget(L);A!==void 0&&(T[L]=A)}),v.push({animation:T})}var P=Boolean(v.length);return i&&m.initial===!1&&!n.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(v):Promise.resolve()}function u(f,h,p){var m;if(t[f].isActive===h)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(function(_){var y;return(y=_.animationState)===null||y===void 0?void 0:y.setActive(f,h)}),t[f].isActive=h;var g=l(p,f);for(var v in t)t[v].protectedKeys={};return g}return{isAnimated:o,animateChanges:l,setActive:u,setAnimateFunction:a,getState:function(){return t}}}function fW(n,e){return typeof e=="string"?e!==n:KN(e)?!sF(e,n):!1}function bl(n){return n===void 0&&(n=!1),{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dW(){var n;return n={},n[Jt.Animate]=bl(!0),n[Jt.InView]=bl(),n[Jt.Hover]=bl(),n[Jt.Tap]=bl(),n[Jt.Drag]=bl(),n[Jt.Focus]=bl(),n[Jt.Exit]=bl(),n}var hW={animation:Pa(function(n){var e=n.visualElement,t=n.animate;e.animationState||(e.animationState=cW(e)),zT(t)&&z.exports.useEffect(function(){return t.subscribe(e)},[t])}),exit:Pa(function(n){var e=n.custom,t=n.visualElement,r=wn(iF(),2),i=r[0],s=r[1],o=z.exports.useContext(wp);z.exports.useEffect(function(){var a,l;t.isPresent=i;var u=(a=t.animationState)===null||a===void 0?void 0:a.setActive(Jt.Exit,!i,{custom:(l=o==null?void 0:o.custom)!==null&&l!==void 0?l:e});!i&&(u==null||u.then(s))},[i])})},uF=function(){function n(e,t,r){var i=this,s=r===void 0?{}:r,o=s.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(!!(i.lastMoveEvent&&i.lastMoveEventInfo)){var p=s1(i.lastMoveEventInfo,i.history),m=i.startEvent!==null,g=Sk(p.offset,{x:0,y:0})>=3;if(!(!m&&!g)){var v=p.point,_=w0().timestamp;i.history.push(Le(Le({},v),{timestamp:_}));var y=i.handlers,w=y.onStart,S=y.onMove;m||(w&&w(i.lastMoveEvent,p),i.startEvent=i.lastMoveEvent),S&&S(i.lastMoveEvent,p)}}},this.handlePointerMove=function(p,m){if(i.lastMoveEvent=p,i.lastMoveEventInfo=i1(m,i.transformPagePoint),Yk(p)&&p.buttons===0){i.handlePointerUp(p,m);return}ps.update(i.updatePoint,!0)},this.handlePointerUp=function(p,m){i.end();var g=i.handlers,v=g.onEnd,_=g.onSessionEnd,y=s1(i1(m,i.transformPagePoint),i.history);i.startEvent&&v&&v(p,y),_&&_(p,y)},!(Kk(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=o;var a=UT(e),l=i1(a,this.transformPagePoint),u=l.point,f=w0().timestamp;this.history=[Le(Le({},u),{timestamp:f})];var h=t.onSessionStart;h&&h(e,s1(l,this.history)),this.removeListeners=my(Zc(window,"pointermove",this.handlePointerMove),Zc(window,"pointerup",this.handlePointerUp),Zc(window,"pointercancel",this.handlePointerUp))}}return n.prototype.updateHandlers=function(e){this.handlers=e},n.prototype.end=function(){this.removeListeners&&this.removeListeners(),cf.update(this.updatePoint)},n}();function i1(n,e){return e?{point:e(n.point)}:n}function uR(n,e){return{x:n.x-e.x,y:n.y-e.y}}function s1(n,e){var t=n.point;return{point:t,delta:uR(t,cF(e)),offset:uR(t,pW(e)),velocity:mW(e,.1)}}function pW(n){return n[0]}function cF(n){return n[n.length-1]}function mW(n,e){if(n.length<2)return{x:0,y:0};for(var t=n.length-1,r=null,i=cF(n);t>=0&&(r=n[t],!(i.timestamp-r.timestamp>T0(e)));)t--;if(!r)return{x:0,y:0};var s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};var o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gW(n,e,t){var r=e.min,i=e.max;return r!==void 0&&n<r?n=t?xn(r,n,t.min):Math.max(n,r):i!==void 0&&n>i&&(n=t?xn(i,n,t.max):Math.min(n,i)),n}function cR(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function vW(n,e){var t=e.top,r=e.left,i=e.bottom,s=e.right;return{x:cR(n.x,r,s),y:cR(n.y,t,i)}}function fR(n,e){var t,r=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&(t=wn([i,r],2),r=t[0],i=t[1]),{min:r,max:i}}function yW(n,e){return{x:fR(n.x,e.x),y:fR(n.y,e.y)}}function _W(n,e){var t=.5,r=Bo(n),i=Bo(e);return i>r?t=Uh(e.min,e.max-r,n.min):r>i&&(t=Uh(n.min,n.max-i,e.min)),S0(0,1,t)}function xW(n,e){var t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}var GS=.35;function wW(n){return n===void 0&&(n=GS),n===!1?n=0:n===!0&&(n=GS),{x:dR(n,"left","right"),y:dR(n,"top","bottom")}}function dR(n,e,t){return{min:hR(n,e),max:hR(n,t)}}function hR(n,e){var t;return typeof n=="number"?n:(t=n[e])!==null&&t!==void 0?t:0}function fF(n){var e=n.top,t=n.left,r=n.right,i=n.bottom;return{x:{min:t,max:r},y:{min:e,max:i}}}function SW(n){var e=n.x,t=n.y;return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function bW(n,e){if(!e)return n;var t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function dF(n,e){return fF(bW(n.getBoundingClientRect(),e))}function MW(n,e,t){var r=dF(n,t),i=e.scroll;return i&&(zc(r.x,i.x),zc(r.y,i.y)),r}var TW=new WeakMap,EW=function(){function n(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vr(),this.visualElement=e}return n.prototype.start=function(e,t){var r=this,i=t===void 0?{}:t,s=i.snapToCursor,o=s===void 0?!1:s;if(this.visualElement.isPresent!==!1){var a=function(h){r.stopAnimation(),o&&r.snapToCursor(UT(h,"page").point)},l=function(h,p){var m,g=r.getProps(),v=g.drag,_=g.dragPropagation,y=g.onDragStart;v&&!_&&(r.openGlobalLock&&r.openGlobalLock(),r.openGlobalLock=eF(v),!r.openGlobalLock)||(r.isDragging=!0,r.currentDirection=null,r.resolveConstraints(),r.visualElement.projection&&(r.visualElement.projection.isAnimationBlocked=!0,r.visualElement.projection.target=void 0),ks(function(w){var S,M,T=r.getAxisMotionValue(w).get()||0;if(qs.test(T)){var P=(M=(S=r.visualElement.projection)===null||S===void 0?void 0:S.layout)===null||M===void 0?void 0:M.actual[w];if(P){var L=Bo(P);T=L*(parseFloat(T)/100)}}r.originPoint[w]=T}),y==null||y(h,p),(m=r.visualElement.animationState)===null||m===void 0||m.setActive(Jt.Drag,!0))},u=function(h,p){var m=r.getProps(),g=m.dragPropagation,v=m.dragDirectionLock,_=m.onDirectionLock,y=m.onDrag;if(!(!g&&!r.openGlobalLock)){var w=p.offset;if(v&&r.currentDirection===null){r.currentDirection=AW(w),r.currentDirection!==null&&(_==null||_(r.currentDirection));return}r.updateAxis("x",p.point,w),r.updateAxis("y",p.point,w),r.visualElement.syncRender(),y==null||y(h,p)}},f=function(h,p){return r.stop(h,p)};this.panSession=new uF(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:f},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},n.prototype.stop=function(e,t){var r=this.isDragging;if(this.cancel(),!!r){var i=t.velocity;this.startAnimation(i);var s=this.getProps().onDragEnd;s==null||s(e,t)}},n.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;var r=this.getProps().dragPropagation;!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(t=this.visualElement.animationState)===null||t===void 0||t.setActive(Jt.Drag,!1)},n.prototype.updateAxis=function(e,t,r){var i=this.getProps().drag;if(!(!r||!yg(e,i,this.currentDirection))){var s=this.getAxisMotionValue(e),o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=gW(o,this.constraints[e],this.elastic[e])),s.set(o)}},n.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),r=t.dragConstraints,i=t.dragElastic,s=(this.visualElement.projection||{}).layout,o=this.constraints;r&&Fc(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=vW(s.actual,r):this.constraints=!1,this.elastic=wW(i),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ks(function(a){e.getAxisMotionValue(a)&&(e.constraints[a]=xW(s.actual[a],e.constraints[a]))})},n.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,r=e.onMeasureDragConstraints;if(!t||!Fc(t))return!1;var i=t.current,s=this.visualElement.projection;if(!s||!s.layout)return!1;var o=MW(i,s.root,this.visualElement.getTransformPagePoint()),a=yW(s.layout.actual,o);if(r){var l=r(SW(a));this.hasMutatedConstraints=!!l,l&&(a=fF(l))}return a},n.prototype.startAnimation=function(e){var t=this,r=this.getProps(),i=r.drag,s=r.dragMomentum,o=r.dragElastic,a=r.dragTransition,l=r.dragSnapToOrigin,u=r.onDragTransitionEnd,f=this.constraints||{},h=ks(function(p){var m;if(!!yg(p,i,t.currentDirection)){var g=(m=f==null?void 0:f[p])!==null&&m!==void 0?m:{};l&&(g={min:0,max:0});var v=o?200:1e6,_=o?40:1e7,y=Le(Le({type:"inertia",velocity:s?e[p]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10},a),g);return t.startAxisValueAnimation(p,y)}});return Promise.all(h).then(u)},n.prototype.startAxisValueAnimation=function(e,t){var r=this.getAxisMotionValue(e);return LT(e,r,0,t)},n.prototype.stopAnimation=function(){var e=this;ks(function(t){return e.getAxisMotionValue(t).stop()})},n.prototype.getAxisMotionValue=function(e){var t,r,i="_drag"+e.toUpperCase(),s=this.visualElement.getProps()[i];return s||this.visualElement.getValue(e,(r=(t=this.visualElement.getProps().initial)===null||t===void 0?void 0:t[e])!==null&&r!==void 0?r:0)},n.prototype.snapToCursor=function(e){var t=this;ks(function(r){var i=t.getProps().drag;if(!!yg(r,i,t.currentDirection)){var s=t.visualElement.projection,o=t.getAxisMotionValue(r);if(s&&s.layout){var a=s.layout.actual[r],l=a.min,u=a.max;o.set(e[r]-xn(l,u,.5))}}})},n.prototype.scalePositionWithinConstraints=function(){var e=this,t,r=this.getProps(),i=r.drag,s=r.dragConstraints,o=this.visualElement.projection;if(!(!Fc(s)||!o||!this.constraints)){this.stopAnimation();var a={x:0,y:0};ks(function(u){var f=e.getAxisMotionValue(u);if(f){var h=f.get();a[u]=_W({min:h,max:h},e.constraints[u])}});var l=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=l?l({},""):"none",(t=o.root)===null||t===void 0||t.updateScroll(),o.updateLayout(),this.resolveConstraints(),ks(function(u){if(!!yg(u,i,null)){var f=e.getAxisMotionValue(u),h=e.constraints[u],p=h.min,m=h.max;f.set(xn(p,m,a[u]))}})}},n.prototype.addListeners=function(){var e=this,t;TW.set(this.visualElement,this);var r=this.visualElement.getInstance(),i=Zc(r,"pointerdown",function(u){var f=e.getProps(),h=f.drag,p=f.dragListener,m=p===void 0?!0:p;h&&m&&e.start(u)}),s=function(){var u=e.getProps().dragConstraints;Fc(u)&&(e.constraints=e.resolveRefConstraints())},o=this.visualElement.projection,a=o.addEventListener("measure",s);o&&!o.layout&&((t=o.root)===null||t===void 0||t.updateScroll(),o.updateLayout()),s();var l=vy(window,"resize",function(){return e.scalePositionWithinConstraints()});return o.addEventListener("didUpdate",function(u){var f=u.delta,h=u.hasLayoutChanged;e.isDragging&&h&&(ks(function(p){var m=e.getAxisMotionValue(p);!m||(e.originPoint[p]+=f[p].translate,m.set(m.get()+f[p].translate))}),e.visualElement.syncRender())}),function(){l(),i(),a()}},n.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,r=t===void 0?!1:t,i=e.dragDirectionLock,s=i===void 0?!1:i,o=e.dragPropagation,a=o===void 0?!1:o,l=e.dragConstraints,u=l===void 0?!1:l,f=e.dragElastic,h=f===void 0?GS:f,p=e.dragMomentum,m=p===void 0?!0:p;return Le(Le({},e),{drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:u,dragElastic:h,dragMomentum:m})},n}();function yg(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function AW(n,e){e===void 0&&(e=10);var t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}function CW(n){var e=n.dragControls,t=n.visualElement,r=Sp(function(){return new EW(t)});z.exports.useEffect(function(){return e&&e.subscribe(r)},[r,e]),z.exports.useEffect(function(){return r.addListeners()},[r])}function PW(n){var e=n.onPan,t=n.onPanStart,r=n.onPanEnd,i=n.onPanSessionStart,s=n.visualElement,o=e||t||r||i,a=z.exports.useRef(null),l=z.exports.useContext(yT).transformPagePoint,u={onSessionStart:i,onStart:t,onMove:e,onEnd:function(h,p){a.current=null,r&&r(h,p)}};z.exports.useEffect(function(){a.current!==null&&a.current.updateHandlers(u)});function f(h){a.current=new uF(h,u,{transformPagePoint:l})}P0(s,"pointerdown",o&&f),BT(function(){return a.current&&a.current.end()})}var RW={pan:Pa(PW),drag:Pa(CW)},_g=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function LW(){var n=_g.map(function(){return new rh}),e={},t={clearAllListeners:function(){return n.forEach(function(r){return r.clear()})},updatePropListeners:function(r){_g.forEach(function(i){var s,o="on"+i,a=r[o];(s=e[i])===null||s===void 0||s.call(e),a&&(e[i]=t[o](a))})}};return n.forEach(function(r,i){t["on"+_g[i]]=function(s){return r.add(s)},t["notify"+_g[i]]=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return r.notify.apply(r,hs([],wn(s),!1))}}),t}function OW(n,e,t){var r;for(var i in e){var s=e[i],o=t[i];if(Uo(s))n.addValue(i,s);else if(Uo(o))n.addValue(i,ff(s));else if(o!==s)if(n.hasValue(i)){var a=n.getValue(i);!a.hasAnimated&&a.set(s)}else n.addValue(i,ff((r=n.getStaticValue(i))!==null&&r!==void 0?r:s))}for(var i in t)e[i]===void 0&&n.removeValue(i);return e}var hF=function(n){var e=n.treeType,t=e===void 0?"":e,r=n.build,i=n.getBaseTarget,s=n.makeTargetAnimatable,o=n.measureViewportBox,a=n.render,l=n.readValueFromInstance,u=n.removeValueFromRenderState,f=n.sortNodePosition,h=n.scrapeMotionValuesFromProps;return function(p,m){var g=p.parent,v=p.props,_=p.presenceId,y=p.blockInitialAnimation,w=p.visualState,S=p.shouldReduceMotion;m===void 0&&(m={});var M=!1,T=w.latestValues,P=w.renderState,L,A=LW(),R=new Map,k=new Map,G={},Z=Le({},T),W;function O(){!L||!M||(j(),a(L,P,v.style,ae.projection))}function j(){r(ae,P,T,m,v)}function $(){A.notifyUpdate(T)}function ie(se,ge){var oe=ge.onChange(function(Ue){T[se]=Ue,v.onUpdate&&ps.update($,!1,!0)}),Ne=ge.onRenderRequest(ae.scheduleRender);k.set(se,function(){oe(),Ne()})}var I=h(v);for(var N in I){var U=I[N];T[N]!==void 0&&Uo(U)&&U.set(T[N],!1)}var X=hy(v),Y=ZN(v),ae=Le(Le({treeType:t,current:null,depth:g?g.depth+1:0,parent:g,children:new Set,presenceId:_,shouldReduceMotion:S,variantChildren:Y?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(g==null?void 0:g.isMounted()),blockInitialAnimation:y,isMounted:function(){return Boolean(L)},mount:function(se){M=!0,L=ae.current=se,ae.projection&&ae.projection.mount(se),Y&&g&&!X&&(W=g==null?void 0:g.addVariantChild(ae)),R.forEach(function(ge,oe){return ie(oe,ge)}),g==null||g.children.add(ae),ae.setProps(v)},unmount:function(){var se;(se=ae.projection)===null||se===void 0||se.unmount(),cf.update($),cf.render(O),k.forEach(function(ge){return ge()}),W==null||W(),g==null||g.children.delete(ae),A.clearAllListeners(),L=void 0,M=!1},addVariantChild:function(se){var ge,oe=ae.getClosestVariantNode();if(oe)return(ge=oe.variantChildren)===null||ge===void 0||ge.add(se),function(){return oe.variantChildren.delete(se)}},sortNodePosition:function(se){return!f||t!==se.treeType?0:f(ae.getInstance(),se.getInstance())},getClosestVariantNode:function(){return Y?ae:g==null?void 0:g.getClosestVariantNode()},getLayoutId:function(){return v.layoutId},getInstance:function(){return L},getStaticValue:function(se){return T[se]},setStaticValue:function(se,ge){return T[se]=ge},getLatestValues:function(){return T},setVisibility:function(se){ae.isVisible!==se&&(ae.isVisible=se,ae.scheduleRender())},makeTargetAnimatable:function(se,ge){return ge===void 0&&(ge=!0),s(ae,se,v,ge)},measureViewportBox:function(){return o(L,v)},addValue:function(se,ge){ae.hasValue(se)&&ae.removeValue(se),R.set(se,ge),T[se]=ge.get(),ie(se,ge)},removeValue:function(se){var ge;R.delete(se),(ge=k.get(se))===null||ge===void 0||ge(),k.delete(se),delete T[se],u(se,P)},hasValue:function(se){return R.has(se)},getValue:function(se,ge){var oe=R.get(se);return oe===void 0&&ge!==void 0&&(oe=ff(ge),ae.addValue(se,oe)),oe},forEachValue:function(se){return R.forEach(se)},readValue:function(se){var ge;return(ge=T[se])!==null&&ge!==void 0?ge:l(L,se,m)},setBaseTarget:function(se,ge){Z[se]=ge},getBaseTarget:function(se){if(i){var ge=i(v,se);if(ge!==void 0&&!Uo(ge))return ge}return Z[se]}},A),{build:function(){return j(),P},scheduleRender:function(){ps.render(O,!1,!0)},syncRender:O,setProps:function(se){(se.transformTemplate||v.transformTemplate)&&ae.scheduleRender(),v=se,A.updatePropListeners(se),G=OW(ae,h(v),G)},getProps:function(){return v},getVariant:function(se){var ge;return(ge=v.variants)===null||ge===void 0?void 0:ge[se]},getDefaultTransition:function(){return v.transition},getTransformPagePoint:function(){return v.transformPagePoint},getVariantContext:function(se){if(se===void 0&&(se=!1),se)return g==null?void 0:g.getVariantContext();if(!X){var ge=(g==null?void 0:g.getVariantContext())||{};return v.initial!==void 0&&(ge.initial=v.initial),ge}for(var oe={},Ne=0;Ne<IW;Ne++){var Ue=pF[Ne],He=v[Ue];(as(He)||He===!1)&&(oe[Ue]=He)}return oe}});return ae}},pF=hs(["initial"],wn(VT),!1),IW=pF.length;function jS(n){return typeof n=="string"&&n.startsWith("var(--")}var mF=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function DW(n){var e=mF.exec(n);if(!e)return[,];var t=wn(e,3),r=t[1],i=t[2];return[r,i]}function WS(n,e,t){var r=wn(DW(n),2),i=r[0],s=r[1];if(!!i){var o=window.getComputedStyle(e).getPropertyValue(i);return o?o.trim():jS(s)?WS(s,e):s}}function NW(n,e,t){var r,i=Qs(e,[]),s=n.getInstance();if(!(s instanceof Element))return{target:i,transitionEnd:t};t&&(t=Le({},t)),n.forEachValue(function(u){var f=u.get();if(!!jS(f)){var h=WS(f,s);h&&u.set(h)}});for(var o in i){var a=i[o];if(!!jS(a)){var l=WS(a,s);!l||(i[o]=l,t&&((r=t[o])!==null&&r!==void 0||(t[o]=a)))}}return{target:i,transitionEnd:t}}var kW=new Set(["width","height","top","left","right","bottom","x","y"]),gF=function(n){return kW.has(n)},FW=function(n){return Object.keys(n).some(gF)},vF=function(n,e){n.set(e,!1),n.set(e)},pR=function(n){return n===Pu||n===ot},mR;(function(n){n.width="width",n.height="height",n.left="left",n.right="right",n.top="top",n.bottom="bottom"})(mR||(mR={}));var gR=function(n,e){return parseFloat(n.split(", ")[e])},vR=function(n,e){return function(t,r){var i=r.transform;if(i==="none"||!i)return 0;var s=i.match(/^matrix3d\((.+)\)$/);if(s)return gR(s[1],e);var o=i.match(/^matrix\((.+)\)$/);return o?gR(o[1],n):0}},zW=new Set(["x","y","z"]),UW=Hh.filter(function(n){return!zW.has(n)});function BW(n){var e=[];return UW.forEach(function(t){var r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e.length&&n.syncRender(),e}var yR={width:function(n,e){var t=n.x,r=e.paddingLeft,i=r===void 0?"0":r,s=e.paddingRight,o=s===void 0?"0":s;return t.max-t.min-parseFloat(i)-parseFloat(o)},height:function(n,e){var t=n.y,r=e.paddingTop,i=r===void 0?"0":r,s=e.paddingBottom,o=s===void 0?"0":s;return t.max-t.min-parseFloat(i)-parseFloat(o)},top:function(n,e){var t=e.top;return parseFloat(t)},left:function(n,e){var t=e.left;return parseFloat(t)},bottom:function(n,e){var t=n.y,r=e.top;return parseFloat(r)+(t.max-t.min)},right:function(n,e){var t=n.x,r=e.left;return parseFloat(r)+(t.max-t.min)},x:vR(4,13),y:vR(5,14)},VW=function(n,e,t){var r=e.measureViewportBox(),i=e.getInstance(),s=getComputedStyle(i),o=s.display,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(function(u){a[u]=yR[u](r,s)}),e.syncRender();var l=e.measureViewportBox();return t.forEach(function(u){var f=e.getValue(u);vF(f,a[u]),n[u]=yR[u](l,s)}),n},HW=function(n,e,t,r){t===void 0&&(t={}),r===void 0&&(r={}),e=Le({},e),r=Le({},r);var i=Object.keys(e).filter(gF),s=[],o=!1,a=[];if(i.forEach(function(f){var h=n.getValue(f);if(!!n.hasValue(f)){var p=t[f],m=wd(p),g=e[f],v;if(Vh(g)){var _=g.length,y=g[0]===null?1:0;p=g[y],m=wd(p);for(var w=y;w<_;w++)v?_0(wd(g[w])===v):v=wd(g[w])}else v=wd(g);if(m!==v)if(pR(m)&&pR(v)){var S=h.get();typeof S=="string"&&h.set(parseFloat(S)),typeof g=="string"?e[f]=parseFloat(g):Array.isArray(g)&&v===ot&&(e[f]=g.map(parseFloat))}else(m==null?void 0:m.transform)&&(v==null?void 0:v.transform)&&(p===0||g===0)?p===0?h.set(v.transform(p)):e[f]=m.transform(g):(o||(s=BW(n),o=!0),a.push(f),r[f]=r[f]!==void 0?r[f]:e[f],vF(h,g))}}),a.length){var l=a.indexOf("height")>=0?window.pageYOffset:null,u=VW(e,n,a);return s.length&&s.forEach(function(f){var h=wn(f,2),p=h[0],m=h[1];n.getValue(p).set(m)}),n.syncRender(),l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function GW(n,e,t,r){return FW(e)?HW(n,e,t,r):{target:e,transitionEnd:r}}var jW=function(n,e,t,r){var i=NW(n,e,r);return e=i.target,r=i.transitionEnd,GW(n,e,t,r)};function WW(n){return window.getComputedStyle(n)}var yF={treeType:"dom",readValueFromInstance:function(n,e){if(Ep(e)){var t=CT(e);return t&&t.default||0}else{var r=WW(n);return(Uk(e)?r.getPropertyValue(e):r[e])||0}},sortNodePosition:function(n,e){return n.compareDocumentPosition(e)&2?1:-1},getBaseTarget:function(n,e){var t;return(t=n.style)===null||t===void 0?void 0:t[e]},measureViewportBox:function(n,e){var t=e.transformPagePoint;return dF(n,t)},resetTransform:function(n,e,t){var r=t.transformTemplate;e.style.transform=r?r({},""):"none",n.scheduleRender()},restoreTransform:function(n,e){n.style.transform=e.style.transform},removeValueFromRenderState:function(n,e){var t=e.vars,r=e.style;delete t[n],delete r[n]},makeTargetAnimatable:function(n,e,t,r){var i=t.transformValues;r===void 0&&(r=!0);var s=e.transition,o=e.transitionEnd,a=Qs(e,["transition","transitionEnd"]),l=nW(a,s||{},n);if(i&&(o&&(o=i(o)),a&&(a=i(a)),l&&(l=i(l))),r){eW(n,a,l);var u=jW(n,a,l,o);o=u.transitionEnd,a=u.target}return Le({transition:s,transitionEnd:o},a)},scrapeMotionValuesFromProps:FT,build:function(n,e,t,r,i){n.isVisible!==void 0&&(e.style.visibility=n.isVisible?"visible":"hidden"),DT(e,t,r,i.transformTemplate)},render:jk},$W=hF(yF),qW=hF(Le(Le({},yF),{getBaseTarget:function(n,e){return n[e]},readValueFromInstance:function(n,e){var t;return Ep(e)?((t=CT(e))===null||t===void 0?void 0:t.default)||0:(e=Wk.has(e)?e:Gk(e),n.getAttribute(e))},scrapeMotionValuesFromProps:qk,build:function(n,e,t,r,i){kT(e,t,r,i.transformTemplate)},render:$k})),XW=function(n,e){return IT(n)?qW(e,{enableHardwareAcceleration:!1}):$W(e,{enableHardwareAcceleration:!0})};function _R(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}var Sd={correct:function(n,e){if(!e.target)return n;if(typeof n=="string")if(ot.test(n))n=parseFloat(n);else return n;var t=_R(n,e.target.x),r=_R(n,e.target.y);return"".concat(t,"% ").concat(r,"%")}},xR="_$css",YW={correct:function(n,e){var t=e.treeScale,r=e.projectionDelta,i=n,s=n.includes("var("),o=[];s&&(n=n.replace(mF,function(v){return o.push(v),xR}));var a=zo.parse(n);if(a.length>5)return i;var l=zo.createTransformer(n),u=typeof a[0]!="number"?1:0,f=r.x.scale*t.x,h=r.y.scale*t.y;a[0+u]/=f,a[1+u]/=h;var p=xn(f,h,.5);typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p);var m=l(a);if(s){var g=0;m=m.replace(xR,function(){var v=o[g];return g++,v})}return m}},KW=function(n){$N(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){var t=this,r=this.props,i=r.visualElement,s=r.layoutGroup,o=r.switchLayoutGroup,a=r.layoutId,l=i.projection;EG(ZW),l&&(s!=null&&s.group&&s.group.add(l),(o==null?void 0:o.register)&&a&&o.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",function(){t.safeToRemove()}),l.setOptions(Le(Le({},l.options),{onExitComplete:function(){return t.safeToRemove()}}))),ah.hasEverUpdated=!0},e.prototype.getSnapshotBeforeUpdate=function(t){var r=this,i=this.props,s=i.layoutDependency,o=i.visualElement,a=i.drag,l=i.isPresent,u=o.projection;return u&&(u.isPresent=l,a||t.layoutDependency!==s||s===void 0?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||ps.postRender(function(){var f;!((f=u.getStack())===null||f===void 0)&&f.members.length||r.safeToRemove()}))),null},e.prototype.componentDidUpdate=function(){var t=this.props.visualElement.projection;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())},e.prototype.componentWillUnmount=function(){var t=this.props,r=t.visualElement,i=t.layoutGroup,s=t.switchLayoutGroup,o=r.projection;o&&(o.scheduleCheckAfterUnmount(),i!=null&&i.group&&i.group.remove(o),s!=null&&s.deregister&&s.deregister(o))},e.prototype.safeToRemove=function(){var t=this.props.safeToRemove;t==null||t()},e.prototype.render=function(){return null},e}(Wa.Component);function JW(n){var e=wn(iF(),2),t=e[0],r=e[1],i=z.exports.useContext(OT);return ne(KW,{...Le({},n,{layoutGroup:i,switchLayoutGroup:z.exports.useContext(Fk),isPresent:t,safeToRemove:r})})}var ZW={borderRadius:Le(Le({},Sd),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Sd,borderTopRightRadius:Sd,borderBottomLeftRadius:Sd,borderBottomRightRadius:Sd,boxShadow:YW},QW={measureLayout:JW},e9=kk({attachResizeListener:function(n,e){return vy(n,"resize",e)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),o1={current:void 0},t9=kk({measureScroll:function(n){return{x:n.scrollLeft,y:n.scrollTop}},defaultParent:function(){if(!o1.current){var n=new e9(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),o1.current=n}return o1.current},resetTransform:function(n,e){n.style.transform=e!=null?e:"none"}}),n9=Le(Le(Le(Le({},hW),jj),RW),QW),df=QG(function(n,e){return Sj(n,e,n9,XW,t9)});function _F(){var n=z.exports.useRef(!1);return x0(function(){return n.current=!0,function(){n.current=!1}},[]),n}function r9(){var n=_F(),e=wn(z.exports.useState(0),2),t=e[0],r=e[1],i=z.exports.useCallback(function(){n.current&&r(t+1)},[t]),s=z.exports.useCallback(function(){return ps.postRender(i)},[i]);return[s,t]}var a1=function(n){var e=n.children,t=n.initial,r=n.isPresent,i=n.onExitComplete,s=n.custom,o=n.presenceAffectsLayout,a=Sp(i9),l=rF(),u=z.exports.useMemo(function(){return{id:l,initial:t,isPresent:r,custom:s,onExitComplete:function(f){var h,p;a.set(f,!0);try{for(var m=TH(a.values()),g=m.next();!g.done;g=m.next()){var v=g.value;if(!v)return}}catch(_){h={error:_}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(h)throw h.error}}i==null||i()},register:function(f){return a.set(f,!1),function(){return a.delete(f)}}}},o?void 0:[r]);return z.exports.useMemo(function(){a.forEach(function(f,h){return a.set(h,!1)})},[r]),z.exports.useEffect(function(){!r&&!a.size&&(i==null||i())},[r]),ne(wp.Provider,{value:u,children:e})};function i9(){return new Map}var wc=function(n){return n.key||""};function s9(n,e){n.forEach(function(t){var r=wc(t);e.set(r,t)})}function o9(n){var e=[];return z.exports.Children.forEach(n,function(t){z.exports.isValidElement(t)&&e.push(t)}),e}var a9=function(n){var e=n.children,t=n.custom,r=n.initial,i=r===void 0?!0:r,s=n.onExitComplete,o=n.exitBeforeEnter,a=n.presenceAffectsLayout,l=a===void 0?!0:a,u=wn(r9(),1),f=u[0],h=z.exports.useContext(OT).forceRender;h&&(f=h);var p=_F(),m=o9(e),g=m,v=new Set,_=z.exports.useRef(g),y=z.exports.useRef(new Map).current,w=z.exports.useRef(!0);if(x0(function(){w.current=!1,s9(m,y),_.current=g}),BT(function(){w.current=!0,y.clear(),v.clear()}),w.current)return ne(Yi,{children:g.map(function(A){return ne(a1,{isPresent:!0,initial:i?void 0:!1,presenceAffectsLayout:l,children:A},wc(A))})});g=hs([],wn(g),!1);for(var S=_.current.map(wc),M=m.map(wc),T=S.length,P=0;P<T;P++){var L=S[P];M.indexOf(L)===-1&&v.add(L)}return o&&v.size&&(g=[]),v.forEach(function(A){if(M.indexOf(A)===-1){var R=y.get(A);if(!!R){var k=S.indexOf(A),G=function(){y.delete(A),v.delete(A);var Z=_.current.findIndex(function(W){return W.key===A});if(_.current.splice(Z,1),!v.size){if(_.current=m,p.current===!1)return;f(),s&&s()}};g.splice(k,0,ne(a1,{isPresent:!1,onExitComplete:G,custom:t,presenceAffectsLayout:l,children:R},wc(R)))}}}),g=g.map(function(A){var R=A.key;return v.has(R)?A:ne(a1,{isPresent:!0,presenceAffectsLayout:l,children:A},wc(A))}),vT!=="production"&&o&&g.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),ne(Yi,{children:v.size?g:g.map(function(A){return z.exports.cloneElement(A)})})},xF={};function l9(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function u9(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var c9=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(u9(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=l9(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),gr="-ms-",R0="-moz-",kt="-webkit-",wF="comm",HT="rule",GT="decl",f9="@import",SF="@keyframes",d9=Math.abs,yy=String.fromCharCode,h9=Object.assign;function p9(n,e){return(((e<<2^Vr(n,0))<<2^Vr(n,1))<<2^Vr(n,2))<<2^Vr(n,3)}function bF(n){return n.trim()}function m9(n,e){return(n=e.exec(n))?n[0]:n}function zt(n,e,t){return n.replace(e,t)}function $S(n,e){return n.indexOf(e)}function Vr(n,e){return n.charCodeAt(e)|0}function Gh(n,e,t){return n.slice(e,t)}function zs(n){return n.length}function jT(n){return n.length}function xg(n,e){return e.push(n),n}function g9(n,e){return n.map(e).join("")}var _y=1,hf=1,MF=0,Yr=0,In=0,Of="";function xy(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:_y,column:hf,length:o,return:""}}function bd(n,e){return h9(xy("",null,null,"",null,null,0),n,{length:-n.length},e)}function v9(){return In}function y9(){return In=Yr>0?Vr(Of,--Yr):0,hf--,In===10&&(hf=1,_y--),In}function hi(){return In=Yr<MF?Vr(Of,Yr++):0,hf++,In===10&&(hf=1,_y++),In}function Xs(){return Vr(Of,Yr)}function Nv(){return Yr}function Ap(n,e){return Gh(Of,n,e)}function jh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function TF(n){return _y=hf=1,MF=zs(Of=n),Yr=0,[]}function EF(n){return Of="",n}function kv(n){return bF(Ap(Yr-1,qS(n===91?n+2:n===40?n+1:n)))}function _9(n){for(;(In=Xs())&&In<33;)hi();return jh(n)>2||jh(In)>3?"":" "}function x9(n,e){for(;--e&&hi()&&!(In<48||In>102||In>57&&In<65||In>70&&In<97););return Ap(n,Nv()+(e<6&&Xs()==32&&hi()==32))}function qS(n){for(;hi();)switch(In){case n:return Yr;case 34:case 39:n!==34&&n!==39&&qS(In);break;case 40:n===41&&qS(n);break;case 92:hi();break}return Yr}function w9(n,e){for(;hi()&&n+In!==47+10;)if(n+In===42+42&&Xs()===47)break;return"/*"+Ap(e,Yr-1)+"*"+yy(n===47?n:hi())}function S9(n){for(;!jh(Xs());)hi();return Ap(n,Yr)}function b9(n){return EF(Fv("",null,null,null,[""],n=TF(n),0,[0],n))}function Fv(n,e,t,r,i,s,o,a,l){for(var u=0,f=0,h=o,p=0,m=0,g=0,v=1,_=1,y=1,w=0,S="",M=i,T=s,P=r,L=S;_;)switch(g=w,w=hi()){case 40:if(g!=108&&L.charCodeAt(h-1)==58){$S(L+=zt(kv(w),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:L+=kv(w);break;case 9:case 10:case 13:case 32:L+=_9(g);break;case 92:L+=x9(Nv()-1,7);continue;case 47:switch(Xs()){case 42:case 47:xg(M9(w9(hi(),Nv()),e,t),l);break;default:L+="/"}break;case 123*v:a[u++]=zs(L)*y;case 125*v:case 59:case 0:switch(w){case 0:case 125:_=0;case 59+f:m>0&&zs(L)-h&&xg(m>32?SR(L+";",r,t,h-1):SR(zt(L," ","")+";",r,t,h-2),l);break;case 59:L+=";";default:if(xg(P=wR(L,e,t,u,f,i,a,S,M=[],T=[],h),s),w===123)if(f===0)Fv(L,e,P,P,M,s,h,a,T);else switch(p){case 100:case 109:case 115:Fv(n,P,P,r&&xg(wR(n,P,P,0,0,i,a,S,i,M=[],h),T),i,T,h,a,r?M:T);break;default:Fv(L,P,P,P,[""],T,0,a,T)}}u=f=m=0,v=y=1,S=L="",h=o;break;case 58:h=1+zs(L),m=g;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&y9()==125)continue}switch(L+=yy(w),w*v){case 38:y=f>0?1:(L+="\f",-1);break;case 44:a[u++]=(zs(L)-1)*y,y=1;break;case 64:Xs()===45&&(L+=kv(hi())),p=Xs(),f=h=zs(S=L+=S9(Nv())),w++;break;case 45:g===45&&zs(L)==2&&(v=0)}}return s}function wR(n,e,t,r,i,s,o,a,l,u,f){for(var h=i-1,p=i===0?s:[""],m=jT(p),g=0,v=0,_=0;g<r;++g)for(var y=0,w=Gh(n,h+1,h=d9(v=o[g])),S=n;y<m;++y)(S=bF(v>0?p[y]+" "+w:zt(w,/&\f/g,p[y])))&&(l[_++]=S);return xy(n,e,t,i===0?HT:a,l,u,f)}function M9(n,e,t){return xy(n,e,t,wF,yy(v9()),Gh(n,2,-2),0)}function SR(n,e,t,r){return xy(n,e,t,GT,Gh(n,0,r),Gh(n,r+1,-1),r)}function AF(n,e){switch(p9(n,e)){case 5103:return kt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return kt+n+R0+n+gr+n+n;case 6828:case 4268:return kt+n+gr+n+n;case 6165:return kt+n+gr+"flex-"+n+n;case 5187:return kt+n+zt(n,/(\w+).+(:[^]+)/,kt+"box-$1$2"+gr+"flex-$1$2")+n;case 5443:return kt+n+gr+"flex-item-"+zt(n,/flex-|-self/,"")+n;case 4675:return kt+n+gr+"flex-line-pack"+zt(n,/align-content|flex-|-self/,"")+n;case 5548:return kt+n+gr+zt(n,"shrink","negative")+n;case 5292:return kt+n+gr+zt(n,"basis","preferred-size")+n;case 6060:return kt+"box-"+zt(n,"-grow","")+kt+n+gr+zt(n,"grow","positive")+n;case 4554:return kt+zt(n,/([^-])(transform)/g,"$1"+kt+"$2")+n;case 6187:return zt(zt(zt(n,/(zoom-|grab)/,kt+"$1"),/(image-set)/,kt+"$1"),n,"")+n;case 5495:case 3959:return zt(n,/(image-set\([^]*)/,kt+"$1$`$1");case 4968:return zt(zt(n,/(.+:)(flex-)?(.*)/,kt+"box-pack:$3"+gr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kt+n+n;case 4095:case 3583:case 4068:case 2532:return zt(n,/(.+)-inline(.+)/,kt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zs(n)-1-e>6)switch(Vr(n,e+1)){case 109:if(Vr(n,e+4)!==45)break;case 102:return zt(n,/(.+:)(.+)-([^]+)/,"$1"+kt+"$2-$3$1"+R0+(Vr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~$S(n,"stretch")?AF(zt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Vr(n,e+1)!==115)break;case 6444:switch(Vr(n,zs(n)-3-(~$S(n,"!important")&&10))){case 107:return zt(n,":",":"+kt)+n;case 101:return zt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kt+(Vr(n,14)===45?"inline-":"")+"box$3$1"+kt+"$2$3$1"+gr+"$2box$3")+n}break;case 5936:switch(Vr(n,e+11)){case 114:return kt+n+gr+zt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return kt+n+gr+zt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return kt+n+gr+zt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return kt+n+gr+n+n}return n}function Qc(n,e){for(var t="",r=jT(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function T9(n,e,t,r){switch(n.type){case f9:case GT:return n.return=n.return||n.value;case wF:return"";case SF:return n.return=n.value+"{"+Qc(n.children,r)+"}";case HT:n.value=n.props.join(",")}return zs(t=Qc(n.children,r))?n.return=n.value+"{"+t+"}":""}function E9(n){var e=jT(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function A9(n){return function(e){e.root||(e=e.return)&&n(e)}}function C9(n,e,t,r){if(n.length>-1&&!n.return)switch(n.type){case GT:n.return=AF(n.value,n.length);break;case SF:return Qc([bd(n,{value:zt(n.value,"@","@"+kt)})],r);case HT:if(n.length)return g9(n.props,function(i){switch(m9(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qc([bd(n,{props:[zt(i,/:(read-\w+)/,":"+R0+"$1")]})],r);case"::placeholder":return Qc([bd(n,{props:[zt(i,/:(plac\w+)/,":"+kt+"input-$1")]}),bd(n,{props:[zt(i,/:(plac\w+)/,":"+R0+"$1")]}),bd(n,{props:[zt(i,/:(plac\w+)/,gr+"input-$1")]})],r)}return""})}}var bR=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var i=e(r);return t.set(r,i),i}};function P9(n){var e={};return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var R9=function(e,t,r){for(var i=0,s=0;i=s,s=Xs(),i===38&&s===12&&(t[r]=1),!jh(s);)hi();return Ap(e,Yr)},L9=function(e,t){var r=-1,i=44;do switch(jh(i)){case 0:i===38&&Xs()===12&&(t[r]=1),e[r]+=R9(Yr-1,t,r);break;case 2:e[r]+=kv(i);break;case 4:if(i===44){e[++r]=Xs()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=yy(i)}while(i=hi());return e},O9=function(e,t){return EF(L9(TF(e),t))},MR=new WeakMap,I9=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!MR.get(r))&&!i){MR.set(e,!0);for(var s=[],o=O9(t,s),a=r.props,l=0,u=0;l<o.length;l++)for(var f=0;f<a.length;f++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[f]):a[f]+" "+o[l]}}},D9=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}},N9=[C9],k9=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var _=v.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||N9,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(v){for(var _=v.getAttribute("data-emotion").split(" "),y=1;y<_.length;y++)s[_[y]]=!0;a.push(v)});var l,u=[I9,D9];{var f,h=[T9,A9(function(v){f.insert(v)})],p=E9(u.concat(i,h)),m=function(_){return Qc(b9(_),p)};l=function(_,y,w,S){f=w,m(_?_+"{"+y.styles+"}":y.styles),S&&(g.inserted[y.name]=!0)}}var g={key:t,sheet:new c9({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g};function L0(){return L0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},L0.apply(this,arguments)}var CF={exports:{}},jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var er=typeof Symbol=="function"&&Symbol.for,WT=er?Symbol.for("react.element"):60103,$T=er?Symbol.for("react.portal"):60106,wy=er?Symbol.for("react.fragment"):60107,Sy=er?Symbol.for("react.strict_mode"):60108,by=er?Symbol.for("react.profiler"):60114,My=er?Symbol.for("react.provider"):60109,Ty=er?Symbol.for("react.context"):60110,qT=er?Symbol.for("react.async_mode"):60111,Ey=er?Symbol.for("react.concurrent_mode"):60111,Ay=er?Symbol.for("react.forward_ref"):60112,Cy=er?Symbol.for("react.suspense"):60113,F9=er?Symbol.for("react.suspense_list"):60120,Py=er?Symbol.for("react.memo"):60115,Ry=er?Symbol.for("react.lazy"):60116,z9=er?Symbol.for("react.block"):60121,U9=er?Symbol.for("react.fundamental"):60117,B9=er?Symbol.for("react.responder"):60118,V9=er?Symbol.for("react.scope"):60119;function _i(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case WT:switch(n=n.type,n){case qT:case Ey:case wy:case by:case Sy:case Cy:return n;default:switch(n=n&&n.$$typeof,n){case Ty:case Ay:case Ry:case Py:case My:return n;default:return e}}case $T:return e}}}function PF(n){return _i(n)===Ey}jt.AsyncMode=qT;jt.ConcurrentMode=Ey;jt.ContextConsumer=Ty;jt.ContextProvider=My;jt.Element=WT;jt.ForwardRef=Ay;jt.Fragment=wy;jt.Lazy=Ry;jt.Memo=Py;jt.Portal=$T;jt.Profiler=by;jt.StrictMode=Sy;jt.Suspense=Cy;jt.isAsyncMode=function(n){return PF(n)||_i(n)===qT};jt.isConcurrentMode=PF;jt.isContextConsumer=function(n){return _i(n)===Ty};jt.isContextProvider=function(n){return _i(n)===My};jt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===WT};jt.isForwardRef=function(n){return _i(n)===Ay};jt.isFragment=function(n){return _i(n)===wy};jt.isLazy=function(n){return _i(n)===Ry};jt.isMemo=function(n){return _i(n)===Py};jt.isPortal=function(n){return _i(n)===$T};jt.isProfiler=function(n){return _i(n)===by};jt.isStrictMode=function(n){return _i(n)===Sy};jt.isSuspense=function(n){return _i(n)===Cy};jt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===wy||n===Ey||n===by||n===Sy||n===Cy||n===F9||typeof n=="object"&&n!==null&&(n.$$typeof===Ry||n.$$typeof===Py||n.$$typeof===My||n.$$typeof===Ty||n.$$typeof===Ay||n.$$typeof===U9||n.$$typeof===B9||n.$$typeof===V9||n.$$typeof===z9)};jt.typeOf=_i;(function(n){n.exports=jt})(CF);var XT=CF.exports,H9={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},G9={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},j9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},RF={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},YT={};YT[XT.ForwardRef]=j9;YT[XT.Memo]=RF;function TR(n){return XT.isMemo(n)?RF:YT[n.$$typeof]||H9}var W9=Object.defineProperty,$9=Object.getOwnPropertyNames,ER=Object.getOwnPropertySymbols,q9=Object.getOwnPropertyDescriptor,X9=Object.getPrototypeOf,AR=Object.prototype;function LF(n,e,t){if(typeof e!="string"){if(AR){var r=X9(e);r&&r!==AR&&LF(n,r,t)}var i=$9(e);ER&&(i=i.concat(ER(e)));for(var s=TR(n),o=TR(e),a=0;a<i.length;++a){var l=i[a];if(!G9[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var u=q9(e,l);try{W9(n,l,u)}catch{}}}}return n}var Y9=LF,K9=function(n,e){return Y9(n,e)};const J9=K9;var Z9=!0;function OF(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var KT=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||Z9===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},JT=function(e,t,r){KT(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Q9(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var e$={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},t$=/[A-Z]|^ms/g,n$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,IF=function(e){return e.charCodeAt(1)===45},CR=function(e){return e!=null&&typeof e!="boolean"},l1=P9(function(n){return IF(n)?n:n.replace(t$,"-$&").toLowerCase()}),PR=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(n$,function(r,i,s){return Us={name:i,styles:s,next:Us},i})}return e$[e]!==1&&!IF(e)&&typeof t=="number"&&t!==0?t+"px":t};function Wh(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Us={name:t.name,styles:t.styles,next:Us},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)Us={name:r.name,styles:r.styles,next:Us},r=r.next;var i=t.styles+";";return i}return r$(n,e,t)}case"function":{if(n!==void 0){var s=Us,o=t(n);return Us=s,Wh(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function r$(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Wh(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":CR(o)&&(r+=l1(s)+":"+PR(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)CR(o[a])&&(r+=l1(s)+":"+PR(s,o[a])+";");else{var l=Wh(n,e,o);switch(s){case"animation":case"animationName":{r+=l1(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var RR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Us,Ly=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Us=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Wh(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Wh(r,t,e[a]),i&&(s+=o[a]);RR.lastIndex=0;for(var l="",u;(u=RR.exec(s))!==null;)l+="-"+u[1];var f=Q9(s)+l;return{name:f,styles:s,next:Us}},Cp={}.hasOwnProperty,ZT=z.exports.createContext(typeof HTMLElement<"u"?k9({key:"css"}):null),i$=ZT.Provider,s$=function(){return z.exports.useContext(ZT)},Oy=function(e){return z.exports.forwardRef(function(t,r){var i=z.exports.useContext(ZT);return e(t,i,r)})},Xa=z.exports.createContext({}),o$=function(){return z.exports.useContext(Xa)},a$=function(e,t){if(typeof t=="function"){var r=t(e);return r}return L0({},e,t)},l$=bR(function(n){return bR(function(e){return a$(n,e)})}),u$=function(e){var t=z.exports.useContext(Xa);return e.theme!==t&&(t=l$(t)(e.theme)),z.exports.createElement(Xa.Provider,{value:t},e.children)};function c$(n){var e=n.displayName||n.name||"Component",t=function(s,o){var a=z.exports.useContext(Xa);return z.exports.createElement(n,L0({theme:a,ref:o},s))},r=z.exports.forwardRef(t);return r.displayName="WithTheme("+e+")",J9(r,n)}var f$=pu["useInsertionEffect"]?pu["useInsertionEffect"]:function(e){e()};function DF(n){f$(n)}var XS="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",QT=function(e,t){var r={};for(var i in t)Cp.call(t,i)&&(r[i]=t[i]);return r[XS]=e,r},d$=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return KT(t,r,i),DF(function(){return JT(t,r,i)}),null},eE=Oy(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[XS],s=[r],o="";typeof n.className=="string"?o=OF(e.registered,s,n.className):n.className!=null&&(o=n.className+" ");var a=Ly(s,void 0,z.exports.useContext(Xa));o+=e.key+"-"+a.name;var l={};for(var u in n)Cp.call(n,u)&&u!=="css"&&u!==XS&&(l[u]=n[u]);return l.ref=t,l.className=o,z.exports.createElement(z.exports.Fragment,null,z.exports.createElement(d$,{cache:e,serialized:a,isStringTag:typeof i=="string"}),z.exports.createElement(i,l))}),h$=Yi;function p$(n,e,t){return Cp.call(e,"css")?ne(eE,QT(n,e),t):ne(n,e,t)}function m$(n,e,t){return Cp.call(e,"css")?lt(eE,QT(n,e),t):lt(n,e,t)}const g$=Object.freeze(Object.defineProperty({__proto__:null,Fragment:h$,jsx:p$,jsxs:m$},Symbol.toStringTag,{value:"Module"})),v$=NI(g$);var LR=function(e,t){var r=arguments;if(t==null||!Cp.call(t,"css"))return z.exports.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=eE,s[1]=QT(e,t);for(var o=2;o<i;o++)s[o]=r[o];return z.exports.createElement.apply(null,s)},OR=pu["useInsertionEffect"]?pu["useInsertionEffect"]:z.exports.useLayoutEffect,y$=Oy(function(n,e){var t=n.styles,r=Ly([t],void 0,z.exports.useContext(Xa)),i=z.exports.useRef();return OR(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),OR(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&JT(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function NF(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Ly(e)}var _$=function(){var e=NF.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},x$=function n(e){for(var t=e.length,r=0,i="";r<t;r++){var s=e[r];if(s!=null){var o=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))o=n(s);else{o="";for(var a in s)s[a]&&a&&(o&&(o+=" "),o+=a)}break}default:o=s}o&&(i&&(i+=" "),i+=o)}}return i};function w$(n,e,t){var r=[],i=OF(n,r,t);return r.length<2?t:i+e(r)}var S$=function(e){var t=e.cache,r=e.serializedArr;return DF(function(){for(var i=0;i<r.length;i++)JT(t,r[i],!1)}),null},b$=Oy(function(n,e){var t=!1,r=[],i=function(){for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];var p=Ly(f,e.registered);return r.push(p),KT(e,p,!1),e.key+"-"+p.name},s=function(){for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];return w$(e.registered,i,x$(f))},o={css:i,cx:s,theme:z.exports.useContext(Xa)},a=n.children(o);return t=!0,z.exports.createElement(z.exports.Fragment,null,z.exports.createElement(S$,{cache:e,serializedArr:r}),a)});const M$=Object.freeze(Object.defineProperty({__proto__:null,ClassNames:b$,Global:y$,createElement:LR,css:NF,jsx:LR,keyframes:_$,CacheProvider:i$,ThemeContext:Xa,ThemeProvider:u$,__unsafe_useEmotionCache:s$,useTheme:o$,withEmotionCache:Oy,withTheme:c$},Symbol.toStringTag,{value:"Module"})),T$=NI(M$);var kF={},Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.heightWidthRadiusDefaults=Hs.heightWidthDefaults=Hs.sizeMarginDefaults=Hs.sizeDefaults=void 0;var FF={loading:!0,color:"#000000",css:"",speedMultiplier:1};function zF(n){return Object.assign({},FF,{size:n})}Hs.sizeDefaults=zF;function E$(n){return Object.assign({},zF(n),{margin:2})}Hs.sizeMarginDefaults=E$;function UF(n,e){return Object.assign({},FF,{height:n,width:e})}Hs.heightWidthDefaults=UF;function A$(n,e,t){return t===void 0&&(t=2),Object.assign({},UF(n,e),{radius:t,margin:2})}Hs.heightWidthRadiusDefaults=A$;var Iy={};Object.defineProperty(Iy,"__esModule",{value:!0});Iy.calculateRgba=void 0;var O0;(function(n){n.maroon="#800000",n.red="#FF0000",n.orange="#FFA500",n.yellow="#FFFF00",n.olive="#808000",n.green="#008000",n.purple="#800080",n.fuchsia="#FF00FF",n.lime="#00FF00",n.teal="#008080",n.aqua="#00FFFF",n.blue="#0000FF",n.navy="#000080",n.black="#000000",n.gray="#808080",n.silver="#C0C0C0",n.white="#FFFFFF"})(O0||(O0={}));var C$=function(n,e){if(Object.keys(O0).includes(n)&&(n=O0[n]),n[0]==="#"&&(n=n.slice(1)),n.length===3){var t="";n.split("").forEach(function(i){t+=i,t+=i}),n=t}var r=(n.match(/.{2}/g)||[]).map(function(i){return parseInt(i,16)}).join(", ");return"rgba("+r+", "+e+")"};Iy.calculateRgba=C$;var pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.cssValue=pf.parseLengthAndUnit=void 0;var P$={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function BF(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return P$[r]?{value:e,unit:r}:(console.warn("React Spinners: "+n+" is not a valid css value. Defaulting to "+e+"px."),{value:e,unit:"px"})}pf.parseLengthAndUnit=BF;function R$(n){var e=BF(n);return""+e.value+e.unit}pf.cssValue=R$;(function(n){var e=sr&&sr.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=sr&&sr.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Hs,n),t(Iy,n),t(pf,n)})(kF);var VF=sr&&sr.__makeTemplateObject||function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},L$=sr&&sr.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),YS=sr&&sr.__assign||function(){return YS=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},YS.apply(this,arguments)},O$=sr&&sr.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),I$=sr&&sr.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),D$=sr&&sr.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&O$(e,n,t);return I$(e,n),e};Object.defineProperty(xF,"__esModule",{value:!0});var wg=v$,N$=D$(z.exports),HF=T$,Sg=kF,k$=(0,HF.keyframes)(IR||(IR=VF([`
  50% {transform: scale(0.75);opacity: 0.2}
  100% {transform: scale(1);opacity: 1}
`],[`
  50% {transform: scale(0.75);opacity: 0.2}
  100% {transform: scale(1);opacity: 1}
`]))),F$=function(n){L$(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.style=function(r){var i=t.props,s=i.color,o=i.size,a=i.margin,l=i.speedMultiplier;return(0,HF.css)(DR||(DR=VF([`
      display: inline-block;
      background-color: `,`;
      width: `,`;
      height: `,`;
      margin: `,`;
      border-radius: 100%;
      animation: `," ","s ",` infinite linear;
      animation-fill-mode: both;
    `],[`
      display: inline-block;
      background-color: `,`;
      width: `,`;
      height: `,`;
      margin: `,`;
      border-radius: 100%;
      animation: `," ","s ",` infinite linear;
      animation-fill-mode: both;
    `])),s,(0,Sg.cssValue)(o),(0,Sg.cssValue)(o),(0,Sg.cssValue)(a),k$,.7/l,r%2?"0s":.35/l+"s")},t}return e.prototype.render=function(){var t=this.props,r=t.loading,i=t.css;return r?(0,wg.jsxs)("span",YS({css:[i]},{children:[(0,wg.jsx)("span",{css:this.style(1)},void 0),(0,wg.jsx)("span",{css:this.style(2)},void 0),(0,wg.jsx)("span",{css:this.style(3)},void 0)]}),void 0):null},e.defaultProps=(0,Sg.sizeMarginDefaults)(15),e}(N$.PureComponent),z$=xF.default=F$,IR,DR;const U$="_Button_lmkyj_1",B$={Button:U$},Ya=({loading:n=!1,variant:e="primary",color:t="#6cb928",className:r,children:i,...s})=>(e==="outline"&&(t="#fff"),lt(df.button,{...s,className:`${B$.Button} ${r}`,style:{color:t,backgroundColor:e==="primary"?t:"rgba(255, 255, 255, 0)",border:e==="primary"?0:"1px solid"},whileHover:{filter:"brightness(1.15)",transition:{duration:.1}},children:[ne("div",{style:{opacity:n?0:1,transition:"opacity 0.2s"},children:i}),ne("div",{style:{position:"absolute",opacity:n?1:0,transition:"opacity 0.2s"},children:ne(z$,{size:10,color:"#fff"})})]}));/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function GF(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function jF(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return l([u,f])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(f){u=[6,f],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Gs=function(){},_r=Gs(),lh=Object,Pr=function(n){return n===_r},Ra=function(n){return typeof n=="function"},Vo=function(n,e){return lh.assign({},n,e)},tE="undefined",nE=function(){return typeof window!=tE},V$=function(){return typeof document!=tE},H$=function(){return nE()&&typeof window.requestAnimationFrame!=tE},bg=new WeakMap,G$=0,$h=function(n){var e=typeof n,t=n&&n.constructor,r=t==Date,i,s;if(lh(n)===n&&!r&&t!=RegExp){if(i=bg.get(n),i)return i;if(i=++G$+"~",bg.set(n,i),t==Array){for(i="@",s=0;s<n.length;s++)i+=$h(n[s])+",";bg.set(n,i)}if(t==lh){i="#";for(var o=lh.keys(n).sort();!Pr(s=o.pop());)Pr(n[s])||(i+=s+":"+$h(n[s])+",");bg.set(n,i)}}else i=r?n.toJSON():e=="symbol"?n.toString():e=="string"?JSON.stringify(n):""+n;return i},KS=!0,j$=function(){return KS},WF=nE(),rE=V$(),JS=WF&&window.addEventListener?window.addEventListener.bind(window):Gs,W$=rE?document.addEventListener.bind(document):Gs,ZS=WF&&window.removeEventListener?window.removeEventListener.bind(window):Gs,$$=rE?document.removeEventListener.bind(document):Gs,q$=function(){var n=rE&&document.visibilityState;return Pr(n)||n!=="hidden"},X$=function(n){return W$("visibilitychange",n),JS("focus",n),function(){$$("visibilitychange",n),ZS("focus",n)}},Y$=function(n){var e=function(){KS=!0,n()},t=function(){KS=!1};return JS("online",e),JS("offline",t),function(){ZS("online",e),ZS("offline",t)}},K$={isOnline:j$,isVisible:q$},J$={initFocus:X$,initReconnect:Y$},Dy=!nE()||"Deno"in window,Z$=function(n){return H$()?window.requestAnimationFrame(n):setTimeout(n,1)},uh=Dy?z.exports.useEffect:z.exports.useLayoutEffect,u1=typeof navigator<"u"&&navigator.connection,NR=!Dy&&u1&&(["slow-2g","2g"].includes(u1.effectiveType)||u1.saveData),$F=function(n){if(Ra(n))try{n=n()}catch{n=""}var e=[].concat(n);n=typeof n=="string"?n:(Array.isArray(n)?n.length:n)?$h(n):"";var t=n?"$swr$"+n:"";return[n,e,t]},Zl=new WeakMap,qF=0,XF=1,YF=2,ch=function(n,e,t,r,i,s,o){o===void 0&&(o=!0);var a=Zl.get(n),l=a[0],u=a[1],f=a[3],h=l[e],p=u[e];if(o&&p)for(var m=0;m<p.length;++m)p[m](t,r,i);return s&&(delete f[e],h&&h[0])?h[0](YF).then(function(){return n.get(e)}):n.get(e)},Q$=0,QS=function(){return++Q$},KF=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return GF(void 0,void 0,void 0,function(){var t,r,i,s,o,a,l,u,f,h,p,m,g,v,_,y,w,S,M,T,P;return jF(this,function(L){switch(L.label){case 0:if(t=n[0],r=n[1],i=n[2],s=n[3],o=typeof s=="boolean"?{revalidate:s}:s||{},a=Pr(o.populateCache)?!0:o.populateCache,l=o.revalidate!==!1,u=o.rollbackOnError!==!1,f=o.optimisticData,h=$F(r),p=h[0],m=h[2],!p)return[2];if(g=Zl.get(t),v=g[2],n.length<3)return[2,ch(t,p,t.get(p),_r,_r,l,!0)];if(_=i,w=QS(),v[p]=[w,0],S=!Pr(f),M=t.get(p),S&&(T=Ra(f)?f(M):f,t.set(p,T),ch(t,p,T)),Ra(_))try{_=_(t.get(p))}catch(A){y=A}return _&&Ra(_.then)?[4,_.catch(function(A){y=A})]:[3,2];case 1:if(_=L.sent(),w!==v[p][0]){if(y)throw y;return[2,_]}else y&&S&&u&&(a=!0,_=M,t.set(p,M));L.label=2;case 2:return a&&(y||(Ra(a)&&(_=a(_,M)),t.set(p,_)),t.set(m,Vo(t.get(m),{error:y}))),v[p][1]=QS(),[4,ch(t,p,_,y,_r,l,!!a)];case 3:if(P=L.sent(),y)throw y;return[2,a?P:_]}})})},kR=function(n,e){for(var t in n)n[t][0]&&n[t][0](e)},JF=function(n,e){if(!Zl.has(n)){var t=Vo(J$,e),r={},i=KF.bind(_r,n),s=Gs;if(Zl.set(n,[r,{},{},{},i]),!Dy){var o=t.initFocus(setTimeout.bind(_r,kR.bind(_r,r,qF))),a=t.initReconnect(setTimeout.bind(_r,kR.bind(_r,r,XF)));s=function(){o&&o(),a&&a(),Zl.delete(n)}}return[n,i,s]}return[n,Zl.get(n)[4]]},e7=function(n,e,t,r,i){var s=t.errorRetryCount,o=i.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*t.errorRetryInterval;!Pr(s)&&o>s||setTimeout(r,a,i)},ZF=JF(new Map),QF=ZF[0],ez=ZF[1],tz=Vo({onLoadingSlow:Gs,onSuccess:Gs,onError:Gs,onErrorRetry:e7,onDiscarded:Gs,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:NR?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:NR?5e3:3e3,compare:function(n,e){return $h(n)==$h(e)},isPaused:function(){return!1},cache:QF,mutate:ez,fallback:{}},K$),nz=function(n,e){var t=Vo(n,e);if(e){var r=n.use,i=n.fallback,s=e.use,o=e.fallback;r&&s&&(t.use=r.concat(s)),i&&o&&(t.fallback=Vo(i,o))}return t},eb=z.exports.createContext({}),t7=function(n){var e=n.value,t=nz(z.exports.useContext(eb),e),r=e&&e.provider,i=z.exports.useState(function(){return r?JF(r(t.cache||QF),e):_r})[0];return i&&(t.cache=i[0],t.mutate=i[1]),uh(function(){return i?i[2]:_r},[]),z.exports.createElement(eb.Provider,Vo(n,{value:t}))},n7=function(n,e){var t=z.exports.useState({})[1],r=z.exports.useRef(n),i=z.exports.useRef({data:!1,error:!1,isValidating:!1}),s=z.exports.useCallback(function(o){var a=!1,l=r.current;for(var u in o){var f=u;l[f]!==o[f]&&(l[f]=o[f],i.current[f]&&(a=!0))}a&&!e.current&&t({})},[]);return uh(function(){r.current=n}),[r,i.current,s]},r7=function(n){return Ra(n[1])?[n[0],n[1],n[2]||{}]:[n[0],null,(n[1]===null?n[2]:n[1])||{}]},rz=function(){return Vo(tz,z.exports.useContext(eb))},i7=function(n){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=rz(),s=r7(t),o=s[0],a=s[1],l=s[2],u=nz(i,l),f=n,h=u.use;if(h)for(var p=h.length;p-- >0;)f=h[p](f);return f(o,a||u.fetcher,u)}},FR=function(n,e,t){var r=e[n]||(e[n]=[]);return r.push(t),function(){var i=r.indexOf(t);i>=0&&(r[i]=r[r.length-1],r.pop())}},c1={dedupe:!0},s7=function(n,e,t){var r=t.cache,i=t.compare,s=t.fallbackData,o=t.suspense,a=t.revalidateOnMount,l=t.refreshInterval,u=t.refreshWhenHidden,f=t.refreshWhenOffline,h=Zl.get(r),p=h[0],m=h[1],g=h[2],v=h[3],_=$F(n),y=_[0],w=_[1],S=_[2],M=z.exports.useRef(!1),T=z.exports.useRef(!1),P=z.exports.useRef(y),L=z.exports.useRef(e),A=z.exports.useRef(t),R=function(){return A.current},k=function(){return R().isVisible()&&R().isOnline()},G=function(Ne){return r.set(S,Vo(r.get(S),Ne))},Z=r.get(y),W=Pr(s)?t.fallback[y]:s,O=Pr(Z)?W:Z,j=r.get(S)||{},$=j.error,ie=!M.current,I=function(){return ie&&!Pr(a)?a:R().isPaused()?!1:o?Pr(O)?!1:t.revalidateIfStale:Pr(O)||t.revalidateIfStale},N=function(){return!y||!e?!1:j.isValidating?!0:ie&&I()},U=N(),X=n7({data:O,error:$,isValidating:U},T),Y=X[0],ae=X[1],se=X[2],ge=z.exports.useCallback(function(Ne){return GF(void 0,void 0,void 0,function(){var Ue,He,Pe,Ke,ve,fe,Me,Be,Re,tt,Xe,$e,re;return jF(this,function(Ee){switch(Ee.label){case 0:if(Ue=L.current,!y||!Ue||T.current||R().isPaused())return[2,!1];Ke=!0,ve=Ne||{},fe=!v[y]||!ve.dedupe,Me=function(){return!T.current&&y===P.current&&M.current},Be=function(){var F=v[y];F&&F[1]===Pe&&delete v[y]},Re={isValidating:!1},tt=function(){G({isValidating:!1}),Me()&&se(Re)},G({isValidating:!0}),se({isValidating:!0}),Ee.label=1;case 1:return Ee.trys.push([1,3,,4]),fe&&(ch(r,y,Y.current.data,Y.current.error,!0),t.loadingTimeout&&!r.get(y)&&setTimeout(function(){Ke&&Me()&&R().onLoadingSlow(y,t)},t.loadingTimeout),v[y]=[Ue.apply(void 0,w),QS()]),re=v[y],He=re[0],Pe=re[1],[4,He];case 2:return He=Ee.sent(),fe&&setTimeout(Be,t.dedupingInterval),!v[y]||v[y][1]!==Pe?(fe&&Me()&&R().onDiscarded(y),[2,!1]):(G({error:_r}),Re.error=_r,Xe=g[y],!Pr(Xe)&&(Pe<=Xe[0]||Pe<=Xe[1]||Xe[1]===0)?(tt(),fe&&Me()&&R().onDiscarded(y),[2,!1]):(i(Y.current.data,He)?Re.data=Y.current.data:Re.data=He,i(r.get(y),He)||r.set(y,He),fe&&Me()&&R().onSuccess(He,y,t),[3,4]));case 3:return $e=Ee.sent(),Be(),R().isPaused()||(G({error:$e}),Re.error=$e,fe&&Me()&&(R().onError($e,y,t),(typeof t.shouldRetryOnError=="boolean"&&t.shouldRetryOnError||Ra(t.shouldRetryOnError)&&t.shouldRetryOnError($e))&&k()&&R().onErrorRetry($e,y,t,ge,{retryCount:(ve.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return Ke=!1,tt(),Me()&&fe&&ch(r,y,Re.data,Re.error,!1),[2,!0]}})})},[y]),oe=z.exports.useCallback(KF.bind(_r,r,function(){return P.current}),[]);if(uh(function(){L.current=e,A.current=t}),uh(function(){if(!!y){var Ne=y!==P.current,Ue=ge.bind(_r,c1),He=function(Me,Be,Re){se(Vo({error:Be,isValidating:Re},i(Y.current.data,Me)?_r:{data:Me}))},Pe=0,Ke=function(Me){if(Me==qF){var Be=Date.now();R().revalidateOnFocus&&Be>Pe&&k()&&(Pe=Be+R().focusThrottleInterval,Ue())}else if(Me==XF)R().revalidateOnReconnect&&k()&&Ue();else if(Me==YF)return ge()},ve=FR(y,m,He),fe=FR(y,p,Ke);return T.current=!1,P.current=y,M.current=!0,Ne&&se({data:O,error:$,isValidating:U}),I()&&(Pr(O)||Dy?Ue():Z$(Ue)),function(){T.current=!0,ve(),fe()}}},[y,ge]),uh(function(){var Ne;function Ue(){var Pe=Ra(l)?l(O):l;Pe&&Ne!==-1&&(Ne=setTimeout(He,Pe))}function He(){!Y.current.error&&(u||R().isVisible())&&(f||R().isOnline())?ge(c1).then(Ue):Ue()}return Ue(),function(){Ne&&(clearTimeout(Ne),Ne=-1)}},[l,u,f,ge]),z.exports.useDebugValue(O),o&&Pr(O)&&y)throw L.current=e,A.current=t,T.current=!1,Pr($)?ge(c1):$;return{mutate:oe,get data(){return ae.data=!0,O},get error(){return ae.error=!0,$},get isValidating(){return ae.isValidating=!0,U}}},o7=lh.defineProperty(t7,"default",{value:tz}),iE=i7(s7),iz={exports:{}},sE={exports:{}},sz=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}},a7=sz,oE=Object.prototype.toString,aE=function(n){return function(e){var t=oE.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}}(Object.create(null));function Ru(n){return n=n.toLowerCase(),function(t){return aE(t)===n}}function lE(n){return Array.isArray(n)}function I0(n){return typeof n>"u"}function l7(n){return n!==null&&!I0(n)&&n.constructor!==null&&!I0(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}var oz=Ru("ArrayBuffer");function u7(n){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&oz(n.buffer),e}function c7(n){return typeof n=="string"}function f7(n){return typeof n=="number"}function az(n){return n!==null&&typeof n=="object"}function zv(n){if(aE(n)!=="object")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}var d7=Ru("Date"),h7=Ru("File"),p7=Ru("Blob"),m7=Ru("FileList");function uE(n){return oE.call(n)==="[object Function]"}function g7(n){return az(n)&&uE(n.pipe)}function v7(n){var e="[object FormData]";return n&&(typeof FormData=="function"&&n instanceof FormData||oE.call(n)===e||uE(n.toString)&&n.toString()===e)}var y7=Ru("URLSearchParams");function _7(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function x7(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function cE(n,e){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),lE(n))for(var t=0,r=n.length;t<r;t++)e.call(null,n[t],t,n);else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.call(null,n[i],i,n)}function tb(){var n={};function e(i,s){zv(n[s])&&zv(i)?n[s]=tb(n[s],i):zv(i)?n[s]=tb({},i):lE(i)?n[s]=i.slice():n[s]=i}for(var t=0,r=arguments.length;t<r;t++)cE(arguments[t],e);return n}function w7(n,e,t){return cE(e,function(i,s){t&&typeof i=="function"?n[s]=a7(i,t):n[s]=i}),n}function S7(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}function b7(n,e,t,r){n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,t&&Object.assign(n.prototype,t)}function M7(n,e,t){var r,i,s,o={};e=e||{};do{for(r=Object.getOwnPropertyNames(n),i=r.length;i-- >0;)s=r[i],o[s]||(e[s]=n[s],o[s]=!0);n=Object.getPrototypeOf(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e}function T7(n,e,t){n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return r!==-1&&r===t}function E7(n){if(!n)return null;var e=n.length;if(I0(e))return null;for(var t=new Array(e);e-- >0;)t[e]=n[e];return t}var A7=function(n){return function(e){return n&&e instanceof n}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),lr={isArray:lE,isArrayBuffer:oz,isBuffer:l7,isFormData:v7,isArrayBufferView:u7,isString:c7,isNumber:f7,isObject:az,isPlainObject:zv,isUndefined:I0,isDate:d7,isFile:h7,isBlob:p7,isFunction:uE,isStream:g7,isURLSearchParams:y7,isStandardBrowserEnv:x7,forEach:cE,merge:tb,extend:w7,trim:_7,stripBOM:S7,inherits:b7,toFlatObject:M7,kindOf:aE,kindOfTest:Ru,endsWith:T7,toArray:E7,isTypedArray:A7,isFileList:m7},Zu=lr;function zR(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var lz=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(Zu.isURLSearchParams(t))i=t.toString();else{var s=[];Zu.forEach(t,function(l,u){l===null||typeof l>"u"||(Zu.isArray(l)?u=u+"[]":l=[l],Zu.forEach(l,function(h){Zu.isDate(h)?h=h.toISOString():Zu.isObject(h)&&(h=JSON.stringify(h)),s.push(zR(u)+"="+zR(h))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},C7=lr;function Ny(){this.handlers=[]}Ny.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Ny.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Ny.prototype.forEach=function(e){C7.forEach(this.handlers,function(r){r!==null&&e(r)})};var P7=Ny,R7=lr,L7=function(e,t){R7.forEach(e,function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])})},uz=lr;function mf(n,e,t,r,i){Error.call(this),this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}uz.inherits(mf,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var cz=mf.prototype,fz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(n){fz[n]={value:n}});Object.defineProperties(mf,fz);Object.defineProperty(cz,"isAxiosError",{value:!0});mf.from=function(n,e,t,r,i,s){var o=Object.create(cz);return uz.toFlatObject(n,o,function(l){return l!==Error.prototype}),mf.call(o,n.message,e,t,r,i),o.name=n.name,s&&Object.assign(o,s),o};var If=mf,dz={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ts=lr;function O7(n,e){e=e||new FormData;var t=[];function r(s){return s===null?"":ts.isDate(s)?s.toISOString():ts.isArrayBuffer(s)||ts.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function i(s,o){if(ts.isPlainObject(s)||ts.isArray(s)){if(t.indexOf(s)!==-1)throw Error("Circular reference detected in "+o);t.push(s),ts.forEach(s,function(l,u){if(!ts.isUndefined(l)){var f=o?o+"."+u:u,h;if(l&&!o&&typeof l=="object"){if(ts.endsWith(u,"{}"))l=JSON.stringify(l);else if(ts.endsWith(u,"[]")&&(h=ts.toArray(l))){h.forEach(function(p){!ts.isUndefined(p)&&e.append(f,r(p))});return}}i(l,f)}}),t.pop()}else e.append(o,r(s))}return i(n),e}var hz=O7,f1,UR;function I7(){if(UR)return f1;UR=1;var n=If;return f1=function(t,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):r(new n("Request failed with status code "+i.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},f1}var d1,BR;function D7(){if(BR)return d1;BR=1;var n=lr;return d1=n.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,l){var u=[];u.push(r+"="+encodeURIComponent(i)),n.isNumber(s)&&u.push("expires="+new Date(s).toGMTString()),n.isString(o)&&u.push("path="+o),n.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),d1}var N7=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},k7=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},F7=N7,z7=k7,pz=function(e,t){return e&&!F7(t)?z7(e,t):t},h1,VR;function U7(){if(VR)return h1;VR=1;var n=lr,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return h1=function(r){var i={},s,o,a;return r&&n.forEach(r.split(`
`),function(u){if(a=u.indexOf(":"),s=n.trim(u.substr(0,a)).toLowerCase(),o=n.trim(u.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},h1}var p1,HR;function B7(){if(HR)return p1;HR=1;var n=lr;return p1=n.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var l=n.isString(a)?s(a):a;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),p1}var m1,GR;function ky(){if(GR)return m1;GR=1;var n=If,e=lr;function t(r){n.call(this,r==null?"canceled":r,n.ERR_CANCELED),this.name="CanceledError"}return e.inherits(t,n,{__CANCEL__:!0}),m1=t,m1}var g1,jR;function V7(){return jR||(jR=1,g1=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}),g1}var v1,WR;function $R(){if(WR)return v1;WR=1;var n=lr,e=I7(),t=D7(),r=lz,i=pz,s=U7(),o=B7(),a=dz,l=If,u=ky(),f=V7();return v1=function(p){return new Promise(function(g,v){var _=p.data,y=p.headers,w=p.responseType,S;function M(){p.cancelToken&&p.cancelToken.unsubscribe(S),p.signal&&p.signal.removeEventListener("abort",S)}n.isFormData(_)&&n.isStandardBrowserEnv()&&delete y["Content-Type"];var T=new XMLHttpRequest;if(p.auth){var P=p.auth.username||"",L=p.auth.password?unescape(encodeURIComponent(p.auth.password)):"";y.Authorization="Basic "+btoa(P+":"+L)}var A=i(p.baseURL,p.url);T.open(p.method.toUpperCase(),r(A,p.params,p.paramsSerializer),!0),T.timeout=p.timeout;function R(){if(!!T){var Z="getAllResponseHeaders"in T?s(T.getAllResponseHeaders()):null,W=!w||w==="text"||w==="json"?T.responseText:T.response,O={data:W,status:T.status,statusText:T.statusText,headers:Z,config:p,request:T};e(function($){g($),M()},function($){v($),M()},O),T=null}}if("onloadend"in T?T.onloadend=R:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(R)},T.onabort=function(){!T||(v(new l("Request aborted",l.ECONNABORTED,p,T)),T=null)},T.onerror=function(){v(new l("Network Error",l.ERR_NETWORK,p,T,T)),T=null},T.ontimeout=function(){var W=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded",O=p.transitional||a;p.timeoutErrorMessage&&(W=p.timeoutErrorMessage),v(new l(W,O.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,p,T)),T=null},n.isStandardBrowserEnv()){var k=(p.withCredentials||o(A))&&p.xsrfCookieName?t.read(p.xsrfCookieName):void 0;k&&(y[p.xsrfHeaderName]=k)}"setRequestHeader"in T&&n.forEach(y,function(W,O){typeof _>"u"&&O.toLowerCase()==="content-type"?delete y[O]:T.setRequestHeader(O,W)}),n.isUndefined(p.withCredentials)||(T.withCredentials=!!p.withCredentials),w&&w!=="json"&&(T.responseType=p.responseType),typeof p.onDownloadProgress=="function"&&T.addEventListener("progress",p.onDownloadProgress),typeof p.onUploadProgress=="function"&&T.upload&&T.upload.addEventListener("progress",p.onUploadProgress),(p.cancelToken||p.signal)&&(S=function(Z){!T||(v(!Z||Z&&Z.type?new u:Z),T.abort(),T=null)},p.cancelToken&&p.cancelToken.subscribe(S),p.signal&&(p.signal.aborted?S():p.signal.addEventListener("abort",S))),_||(_=null);var G=f(A);if(G&&["http","https","file"].indexOf(G)===-1){v(new l("Unsupported protocol "+G+":",l.ERR_BAD_REQUEST,p));return}T.send(_)})},v1}var y1,qR;function H7(){return qR||(qR=1,y1=null),y1}var Xn=lr,XR=L7,YR=If,G7=dz,j7=hz,W7={"Content-Type":"application/x-www-form-urlencoded"};function KR(n,e){!Xn.isUndefined(n)&&Xn.isUndefined(n["Content-Type"])&&(n["Content-Type"]=e)}function $7(){var n;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(n=$R()),n}function q7(n,e,t){if(Xn.isString(n))try{return(e||JSON.parse)(n),Xn.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}var Fy={transitional:G7,adapter:$7(),transformRequest:[function(e,t){if(XR(t,"Accept"),XR(t,"Content-Type"),Xn.isFormData(e)||Xn.isArrayBuffer(e)||Xn.isBuffer(e)||Xn.isStream(e)||Xn.isFile(e)||Xn.isBlob(e))return e;if(Xn.isArrayBufferView(e))return e.buffer;if(Xn.isURLSearchParams(e))return KR(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=Xn.isObject(e),i=t&&t["Content-Type"],s;if((s=Xn.isFileList(e))||r&&i==="multipart/form-data"){var o=this.env&&this.env.FormData;return j7(s?{"files[]":e}:e,o&&new o)}else if(r||i==="application/json")return KR(t,"application/json"),q7(e);return e}],transformResponse:[function(e){var t=this.transitional||Fy.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&Xn.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?YR.from(o,YR.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:H7()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Xn.forEach(["delete","get","head"],function(e){Fy.headers[e]={}});Xn.forEach(["post","put","patch"],function(e){Fy.headers[e]=Xn.merge(W7)});var fE=Fy,X7=lr,Y7=fE,K7=function(e,t,r){var i=this||Y7;return X7.forEach(r,function(o){e=o.call(i,e,t)}),e},_1,JR;function mz(){return JR||(JR=1,_1=function(e){return!!(e&&e.__CANCEL__)}),_1}var ZR=lr,x1=K7,J7=mz(),Z7=fE,Q7=ky();function w1(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Q7}var eq=function(e){w1(e),e.headers=e.headers||{},e.data=x1.call(e,e.data,e.headers,e.transformRequest),e.headers=ZR.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),ZR.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var t=e.adapter||Z7.adapter;return t(e).then(function(i){return w1(e),i.data=x1.call(e,i.data,i.headers,e.transformResponse),i},function(i){return J7(i)||(w1(e),i&&i.response&&(i.response.data=x1.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},ni=lr,gz=function(e,t){t=t||{};var r={};function i(f,h){return ni.isPlainObject(f)&&ni.isPlainObject(h)?ni.merge(f,h):ni.isPlainObject(h)?ni.merge({},h):ni.isArray(h)?h.slice():h}function s(f){if(ni.isUndefined(t[f])){if(!ni.isUndefined(e[f]))return i(void 0,e[f])}else return i(e[f],t[f])}function o(f){if(!ni.isUndefined(t[f]))return i(void 0,t[f])}function a(f){if(ni.isUndefined(t[f])){if(!ni.isUndefined(e[f]))return i(void 0,e[f])}else return i(void 0,t[f])}function l(f){if(f in t)return i(e[f],t[f]);if(f in e)return i(void 0,e[f])}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return ni.forEach(Object.keys(e).concat(Object.keys(t)),function(h){var p=u[h]||s,m=p(h);ni.isUndefined(m)&&p!==l||(r[h]=m)}),r},S1,QR;function vz(){return QR||(QR=1,S1={version:"0.27.2"}),S1}var tq=vz().version,wa=If,dE={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){dE[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var e3={};dE.transitional=function(e,t,r){function i(s,o){return"[Axios v"+tq+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,a){if(e===!1)throw new wa(i(o," has been removed"+(t?" in "+t:"")),wa.ERR_DEPRECATED);return t&&!e3[o]&&(e3[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function nq(n,e,t){if(typeof n!="object")throw new wa("options must be an object",wa.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(n),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new wa("option "+s+" must be "+l,wa.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new wa("Unknown option "+s,wa.ERR_BAD_OPTION)}}var rq={assertOptions:nq,validators:dE},yz=lr,iq=lz,t3=P7,n3=eq,zy=gz,sq=pz,_z=rq,Qu=_z.validators;function gf(n){this.defaults=n,this.interceptors={request:new t3,response:new t3}}gf.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=zy(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&_z.assertOptions(r,{silentJSONParsing:Qu.transitional(Qu.boolean),forcedJSONParsing:Qu.transitional(Qu.boolean),clarifyTimeoutError:Qu.transitional(Qu.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(s=s&&m.synchronous,i.unshift(m.fulfilled,m.rejected))});var o=[];this.interceptors.response.forEach(function(m){o.push(m.fulfilled,m.rejected)});var a;if(!s){var l=[n3,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(o),a=Promise.resolve(t);l.length;)a=a.then(l.shift(),l.shift());return a}for(var u=t;i.length;){var f=i.shift(),h=i.shift();try{u=f(u)}catch(p){h(p);break}}try{a=n3(u)}catch(p){return Promise.reject(p)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};gf.prototype.getUri=function(e){e=zy(this.defaults,e);var t=sq(e.baseURL,e.url);return iq(t,e.params,e.paramsSerializer)};yz.forEach(["delete","get","head","options"],function(e){gf.prototype[e]=function(t,r){return this.request(zy(r||{},{method:e,url:t,data:(r||{}).data}))}});yz.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(zy(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}gf.prototype[e]=t(),gf.prototype[e+"Form"]=t(!0)});var oq=gf,b1,r3;function aq(){if(r3)return b1;r3=1;var n=ky();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(!!i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(l){i.subscribe(l),o=l}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},t(function(o){i.reason||(i.reason=new n(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(!!this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},b1=e,b1}var M1,i3;function lq(){return i3||(i3=1,M1=function(e){return function(r){return e.apply(null,r)}}),M1}var T1,s3;function uq(){if(s3)return T1;s3=1;var n=lr;return T1=function(t){return n.isObject(t)&&t.isAxiosError===!0},T1}var o3=lr,cq=sz,Uv=oq,fq=gz,dq=fE;function xz(n){var e=new Uv(n),t=cq(Uv.prototype.request,e);return o3.extend(t,Uv.prototype,e),o3.extend(t,e),t.create=function(i){return xz(fq(n,i))},t}var Kr=xz(dq);Kr.Axios=Uv;Kr.CanceledError=ky();Kr.CancelToken=aq();Kr.isCancel=mz();Kr.VERSION=vz().version;Kr.toFormData=hz;Kr.AxiosError=If;Kr.Cancel=Kr.CanceledError;Kr.all=function(e){return Promise.all(e)};Kr.spread=lq();Kr.isAxiosError=uq();sE.exports=Kr;sE.exports.default=Kr;(function(n){n.exports=sE.exports})(iz);const hq=mp(iz.exports);var wz="en",hE={},nb={};function Sz(){return wz}function pq(n){wz=n}function mq(n){return hE[n]}function gq(n){if(!n)throw new Error("No locale data passed");hE[n.locale]=n,nb[n.locale.toLowerCase()]=n.locale}function a3(n){if(hE[n])return n;if(nb[n.toLowerCase()])return nb[n.toLowerCase()]}function bz(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.localeMatcher||"lookup";switch(t){case"lookup":return l3(n);case"best fit":return l3(n);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(t))}}function l3(n){var e=a3(n);if(e)return e;for(var t=n.split("-");n.length>1;){t.pop(),n=t.join("-");var r=a3(n);if(r)return r}}var Q={af:function(e){return e==1?"one":"other"},am:function(e){return e>=0&&e<=1?"one":"other"},ar:function(e){var t=String(e).split("."),r=Number(t[0])==e,i=r&&t[0].slice(-2);return e==0?"zero":e==1?"one":e==2?"two":i>=3&&i<=10?"few":i>=11&&i<=99?"many":"other"},ast:function(e){var t=String(e).split("."),r=!t[1];return e==1&&r?"one":"other"},be:function(e){var t=String(e).split("."),r=Number(t[0])==e,i=r&&t[0].slice(-1),s=r&&t[0].slice(-2);return i==1&&s!=11?"one":i>=2&&i<=4&&(s<12||s>14)?"few":r&&i==0||i>=5&&i<=9||s>=11&&s<=14?"many":"other"},br:function(e){var t=String(e).split("."),r=Number(t[0])==e,i=r&&t[0].slice(-1),s=r&&t[0].slice(-2),o=r&&t[0].slice(-6);return i==1&&s!=11&&s!=71&&s!=91?"one":i==2&&s!=12&&s!=72&&s!=92?"two":(i==3||i==4||i==9)&&(s<10||s>19)&&(s<70||s>79)&&(s<90||s>99)?"few":e!=0&&r&&o==0?"many":"other"},bs:function(e){var t=String(e).split("."),r=t[0],i=t[1]||"",s=!t[1],o=r.slice(-1),a=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return s&&o==1&&a!=11||l==1&&u!=11?"one":s&&o>=2&&o<=4&&(a<12||a>14)||l>=2&&l<=4&&(u<12||u>14)?"few":"other"},ceb:function(e){var t=String(e).split("."),r=t[0],i=t[1]||"",s=!t[1],o=r.slice(-1),a=i.slice(-1);return s&&(r==1||r==2||r==3)||s&&o!=4&&o!=6&&o!=9||!s&&a!=4&&a!=6&&a!=9?"one":"other"},cs:function(e){var t=String(e).split("."),r=t[0],i=!t[1];return e==1&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"},cy:function(e){return e==0?"zero":e==1?"one":e==2?"two":e==3?"few":e==6?"many":"other"},da:function(e){var t=String(e).split("."),r=t[0],i=Number(t[0])==e;return e==1||!i&&(r==0||r==1)?"one":"other"},dsb:function(e){var t=String(e).split("."),r=t[0],i=t[1]||"",s=!t[1],o=r.slice(-2),a=i.slice(-2);return s&&o==1||a==1?"one":s&&o==2||a==2?"two":s&&(o==3||o==4)||a==3||a==4?"few":"other"},dz:function(e){return"other"},es:function(e){var t=String(e).split("."),r=t[0],i=!t[1],s=r.slice(-6);return e==1?"one":r!=0&&s==0&&i?"many":"other"},ff:function(e){return e>=0&&e<2?"one":"other"},fr:function(e){var t=String(e).split("."),r=t[0],i=!t[1],s=r.slice(-6);return e>=0&&e<2?"one":r!=0&&s==0&&i?"many":"other"},ga:function(e){var t=String(e).split("."),r=Number(t[0])==e;return e==1?"one":e==2?"two":r&&e>=3&&e<=6?"few":r&&e>=7&&e<=10?"many":"other"},gd:function(e){var t=String(e).split("."),r=Number(t[0])==e;return e==1||e==11?"one":e==2||e==12?"two":r&&e>=3&&e<=10||r&&e>=13&&e<=19?"few":"other"},he:function(e){var t=String(e).split("."),r=t[0],i=!t[1],s=Number(t[0])==e,o=s&&t[0].slice(-1);return e==1&&i?"one":r==2&&i?"two":i&&(e<0||e>10)&&s&&o==0?"many":"other"},is:function(e){var t=String(e).split("."),r=t[0],i=Number(t[0])==e,s=r.slice(-1),o=r.slice(-2);return i&&s==1&&o!=11||!i?"one":"other"},it:function(e){var t=String(e).split("."),r=t[0],i=!t[1],s=r.slice(-6);return e==1&&i?"one":r!=0&&s==0&&i?"many":"other"},ksh:function(e){return e==0?"zero":e==1?"one":"other"},lt:function(e){var t=String(e).split("."),r=t[1]||"",i=Number(t[0])==e,s=i&&t[0].slice(-1),o=i&&t[0].slice(-2);return s==1&&(o<11||o>19)?"one":s>=2&&s<=9&&(o<11||o>19)?"few":r!=0?"many":"other"},lv:function(e){var t=String(e).split("."),r=t[1]||"",i=r.length,s=Number(t[0])==e,o=s&&t[0].slice(-1),a=s&&t[0].slice(-2),l=r.slice(-2),u=r.slice(-1);return s&&o==0||a>=11&&a<=19||i==2&&l>=11&&l<=19?"zero":o==1&&a!=11||i==2&&u==1&&l!=11||i!=2&&u==1?"one":"other"},mk:function(e){var t=String(e).split("."),r=t[0],i=t[1]||"",s=!t[1],o=r.slice(-1),a=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return s&&o==1&&a!=11||l==1&&u!=11?"one":"other"},mt:function(e){var t=String(e).split("."),r=Number(t[0])==e,i=r&&t[0].slice(-2);return e==1?"one":e==0||i>=2&&i<=10?"few":i>=11&&i<=19?"many":"other"},pa:function(e){return e==0||e==1?"one":"other"},pl:function(e){var t=String(e).split("."),r=t[0],i=!t[1],s=r.slice(-1),o=r.slice(-2);return e==1&&i?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&r!=1&&(s==0||s==1)||i&&s>=5&&s<=9||i&&o>=12&&o<=14?"many":"other"},pt:function(e){var t=String(e).split("."),r=t[0],i=!t[1],s=r.slice(-6);return r==0||r==1?"one":r!=0&&s==0&&i?"many":"other"},ro:function(e){var t=String(e).split("."),r=!t[1],i=Number(t[0])==e,s=i&&t[0].slice(-2);return e==1&&r?"one":!r||e==0||s>=2&&s<=19?"few":"other"},ru:function(e){var t=String(e).split("."),r=t[0],i=!t[1],s=r.slice(-1),o=r.slice(-2);return i&&s==1&&o!=11?"one":i&&s>=2&&s<=4&&(o<12||o>14)?"few":i&&s==0||i&&s>=5&&s<=9||i&&o>=11&&o<=14?"many":"other"},se:function(e){return e==1?"one":e==2?"two":"other"},si:function(e){var t=String(e).split("."),r=t[0],i=t[1]||"";return e==0||e==1||r==0&&i==1?"one":"other"},sl:function(e){var t=String(e).split("."),r=t[0],i=!t[1],s=r.slice(-2);return i&&s==1?"one":i&&s==2?"two":i&&(s==3||s==4)||!i?"few":"other"}};Q.as=Q.am;Q.az=Q.af;Q.bg=Q.af;Q.bn=Q.am;Q.brx=Q.af;Q.ca=Q.ast;Q.ce=Q.af;Q.chr=Q.af;Q.de=Q.ast;Q.ee=Q.af;Q.el=Q.af;Q.en=Q.ast;Q.et=Q.ast;Q.eu=Q.af;Q.fa=Q.am;Q.fi=Q.ast;Q.fil=Q.ceb;Q.fo=Q.af;Q.fur=Q.af;Q.fy=Q.ast;Q.gl=Q.ast;Q.gu=Q.am;Q.ha=Q.af;Q.hi=Q.am;Q.hr=Q.bs;Q.hsb=Q.dsb;Q.hu=Q.af;Q.hy=Q.ff;Q.ia=Q.ast;Q.id=Q.dz;Q.ig=Q.dz;Q.ja=Q.dz;Q.jgo=Q.af;Q.jv=Q.dz;Q.ka=Q.af;Q.kea=Q.dz;Q.kk=Q.af;Q.kl=Q.af;Q.km=Q.dz;Q.kn=Q.am;Q.ko=Q.dz;Q.ku=Q.af;Q.ky=Q.af;Q.lb=Q.af;Q.lkt=Q.dz;Q.lo=Q.dz;Q.ml=Q.af;Q.mn=Q.af;Q.mr=Q.af;Q.ms=Q.dz;Q.my=Q.dz;Q.nb=Q.af;Q.ne=Q.af;Q.nl=Q.ast;Q.nn=Q.af;Q.no=Q.af;Q.or=Q.af;Q.pcm=Q.am;Q.ps=Q.af;Q.rm=Q.af;Q.sah=Q.dz;Q.sc=Q.ast;Q.sd=Q.af;Q.sk=Q.cs;Q.so=Q.af;Q.sq=Q.af;Q.sr=Q.bs;Q.su=Q.dz;Q.sv=Q.ast;Q.sw=Q.ast;Q.ta=Q.af;Q.te=Q.af;Q.th=Q.dz;Q.ti=Q.pa;Q.tk=Q.af;Q.to=Q.dz;Q.tr=Q.af;Q.ug=Q.af;Q.uk=Q.ru;Q.ur=Q.ast;Q.uz=Q.af;Q.vi=Q.dz;Q.wae=Q.af;Q.wo=Q.dz;Q.yi=Q.ast;Q.yo=Q.dz;Q.yue=Q.dz;Q.zh=Q.dz;Q.zu=Q.am;const u3=Q;function c3(n){return n==="pt-PT"?n:yq(n)}var vq=/^([a-z0-9]+)/i;function yq(n){var e=n.match(vq);if(!e)throw new TypeError("Invalid locale: ".concat(n));return e[1]}function _q(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function f3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function xq(n,e,t){return e&&f3(n.prototype,e),t&&f3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var rb=function(){function n(e,t){_q(this,n);var r=n.supportedLocalesOf(e);if(r.length===0)throw new RangeError("Unsupported locale: "+e);if(t&&t.type!=="cardinal")throw new RangeError('Only "cardinal" "type" is supported');this.$=u3[c3(r[0])]}return xq(n,[{key:"select",value:function(t){return this.$(t)}}],[{key:"supportedLocalesOf",value:function(t){return typeof t=="string"&&(t=[t]),t.filter(function(r){return u3[c3(r)]})}}]),n}();function ib(n){return ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ib(n)}function d3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function h3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?d3(Object(t),!0).forEach(function(r){wq(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):d3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wq(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p3(n,e){return Tq(n)||Mq(n,e)||bq(n,e)||Sq()}function Sq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bq(n,e){if(!!n){if(typeof n=="string")return m3(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m3(n,e)}}function m3(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Mq(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Tq(n){if(Array.isArray(n))return n}function Eq(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function g3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function Aq(n,e,t){return e&&g3(n.prototype,e),t&&g3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var Cq=["second","minute","hour","day","week","month","quarter","year"],Pq=["auto","always"],Rq=["long","short","narrow"],Lq=["lookup","best fit"],Ka=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Eq(this,n);var r=t.numeric,i=t.style,s=t.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",r!==void 0){if(Pq.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(i!==void 0){if(Rq.indexOf(i)<0)throw new RangeError('Invalid "style" option: '.concat(i));this.style=i}if(s!==void 0){if(Lq.indexOf(s)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(s));this.localeMatcher=s}if(typeof e=="string"&&(e=[e]),e.push(Sz()),this.locale=n.supportedLocalesOf(e,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");rb.supportedLocalesOf(this.locale).length>0?this.pluralRules=new rb(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),typeof Intl<"u"&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=bz(this.locale,{localeMatcher:this.localeMatcher})}return Aq(n,[{key:"format",value:function(){var t=v3(arguments),r=p3(t,2),i=r[0],s=r[1];return this.getRule(i,s).replace("{0}",this.formatNumber(Math.abs(i)))}},{key:"formatToParts",value:function(){var t=v3(arguments),r=p3(t,2),i=r[0],s=r[1],o=this.getRule(i,s),a=o.indexOf("{0}");if(a<0)return[{type:"literal",value:o}];var l=[];return a>0&&l.push({type:"literal",value:o.slice(0,a)}),l=l.concat(this.formatNumberToParts(Math.abs(i)).map(function(u){return h3(h3({},u),{},{unit:s})})),a+3<o.length-1&&l.push({type:"literal",value:o.slice(a+3)}),l}},{key:"getRule",value:function(t,r){var i=mq(this.locale)[this.style][r];if(typeof i=="string")return i;if(this.numeric==="auto"){if(t===-2||t===-1){var s=i["previous".concat(t===-1?"":"-"+Math.abs(t))];if(s)return s}else if(t===1||t===2){var o=i["next".concat(t===1?"":"-"+Math.abs(t))];if(o)return o}else if(t===0&&i.current)return i.current}var a=i[kq(t)?"past":"future"];if(typeof a=="string")return a;var l=this.pluralRules&&this.pluralRules.select(Math.abs(t))||"other";return a[l]||a.other}},{key:"formatNumber",value:function(t){return this.numberFormat?this.numberFormat.format(t):String(t)}},{key:"formatNumberToParts",value:function(t){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(t):[{type:"integer",value:this.formatNumber(t)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}]),n}();Ka.supportedLocalesOf=function(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof n=="string")n=[n];else if(!Array.isArray(n))throw new TypeError('Invalid "locales" argument');return n.filter(function(t){return bz(t,e)})};Ka.addLocale=gq;Ka.setDefaultLocale=pq;Ka.getDefaultLocale=Sz;Ka.PluralRules=rb;var E1='Invalid "unit" argument';function Oq(n){if(ib(n)==="symbol")throw new TypeError(E1);if(typeof n!="string")throw new RangeError("".concat(E1,": ").concat(n));if(n[n.length-1]==="s"&&(n=n.slice(0,n.length-1)),Cq.indexOf(n)<0)throw new RangeError("".concat(E1,": ").concat(n));return n}var Iq='Invalid "number" argument';function Dq(n){if(n=Number(n),Number.isFinite&&!Number.isFinite(n))throw new RangeError("".concat(Iq,": ").concat(n));return n}function Nq(n){return 1/n===-1/0}function kq(n){return n<0||n===0&&Nq(n)}function v3(n){if(n.length<2)throw new TypeError('"unit" argument is required');return[Dq(n[0]),Oq(n[1])]}function D0(n){return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(n)}function Fq(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function y3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function zq(n,e,t){return e&&y3(n.prototype,e),t&&y3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var _3=function(){function n(){Fq(this,n),this.cache={}}return zq(n,[{key:"get",value:function(){for(var t=this.cache,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];for(var o=0,a=i;o<a.length;o++){var l=a[o];if(D0(t)!=="object")return;t=t[l]}return t}},{key:"put",value:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var s=r.pop(),o=r.pop(),a=this.cache,l=0,u=r;l<u.length;l++){var f=u[l];D0(a[f])!=="object"&&(a[f]={}),a=a[f]}return a[o]=s}}]),n}();function sb(n){return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb(n)}function Uq(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=Bq(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bq(n,e){if(!!n){if(typeof n=="string")return x3(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x3(n,e)}}function x3(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Vq(n,e){for(var t=Uq(n),r;!(r=t()).done;){var i=r.value;if(e(i))return i;for(var s=i.split("-");s.length>1;)if(s.pop(),i=s.join("-"),e(i))return i}throw new Error("No locale data has been registered for any of the locales: ".concat(n.join(", ")))}function Hq(){var n=(typeof Intl>"u"?"undefined":sb(Intl))==="object";return n&&typeof Intl.DateTimeFormat=="function"}function ob(n){return ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ob(n)}function Gq(n){return Wq(n)&&(Array.isArray(n.steps)||Array.isArray(n.gradation)||Array.isArray(n.flavour)||typeof n.flavour=="string"||Array.isArray(n.labels)||typeof n.labels=="string"||Array.isArray(n.units)||typeof n.custom=="function")}var jq={}.constructor;function Wq(n){return ob(n)!==void 0&&n!==null&&n.constructor===jq}var So=60,N0=60*So,au=24*N0,ab=7*au,lb=30.44*au,Mz=146097/400*au;function ef(n){switch(n){case"second":return 1;case"minute":return So;case"hour":return N0;case"day":return au;case"week":return ab;case"month":return lb;case"year":return Mz}}function Tz(n){return n.factor!==void 0?n.factor:ef(n.unit||n.formatAs)||1}function qh(n){switch(n){case"floor":return Math.floor;default:return Math.round}}function pE(n){switch(n){case"floor":return 1;default:return .5}}function ub(n){return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(n)}function Ez(n,e){var t=e.prevStep,r=e.timestamp,i=e.now,s=e.future,o=e.round,a;return t&&(t.id||t.unit)&&(a=n["threshold_for_".concat(t.id||t.unit)]),a===void 0&&n.threshold!==void 0&&(a=n.threshold,typeof a=="function"&&(a=a(i,s))),a===void 0&&(a=n.minTime),ub(a)==="object"&&(t&&t.id&&a[t.id]!==void 0?a=a[t.id]:a=a.default),typeof a=="function"&&(a=a(r,{future:s,getMinTimeForUnit:function(u,f){return w3(u,f||t&&t.formatAs,{round:o})}})),a===void 0&&n.test&&(n.test(r,{now:i,future:s})?a=0:a=9007199254740991),a===void 0&&(t?n.formatAs&&t.formatAs&&(a=w3(n.formatAs,t.formatAs,{round:o})):a=0),a===void 0&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(n,null,2)),a}function w3(n,e,t){var r=t.round,i=ef(n),s;if(e==="now"?s=ef(n):s=ef(e),i!==void 0&&s!==void 0)return i-s*(1-pE(r))}function S3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function $q(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?S3(Object(t),!0).forEach(function(r){qq(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):S3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qq(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Xq(n,e,t){var r=t.now,i=t.future,s=t.round,o=t.units,a=t.getNextStep;n=Kq(n,o);var l=Yq(n,e,{now:r,future:i,round:s});if(a){if(l){var u=n[n.indexOf(l)-1],f=n[n.indexOf(l)+1];return[u,l,f]}return[void 0,void 0,n[0]]}return l}function Yq(n,e,t){var r=t.now,i=t.future,s=t.round;if(n.length!==0){var o=Az(n,e,{now:r,future:i||e<0,round:s});if(o!==-1){var a=n[o];if(a.granularity){var l=qh(s)(Math.abs(e)/Tz(a)/a.granularity)*a.granularity;if(l===0&&o>0)return n[o-1]}return a}}}function Az(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=Ez(n[r],$q({prevStep:n[r-1],timestamp:t.now-e*1e3},t));return i===void 0||Math.abs(e)<i?r-1:r===n.length-1?r:Az(n,e,t,r+1)}function Kq(n,e){return n.filter(function(t){var r=t.unit,i=t.formatAs;return r=r||i,r?e.indexOf(r)>=0:!0})}function Jq(n,e,t){var r=t.now,i=t.round;if(!!ef(n)){var s=ef(n)*1e3,o=e>r,a=Math.abs(e-r),l=qh(i)(a/s)*s;return o?l>0?a-l+Qq(i,s):a-l+1:-(a-l)+Zq(i,s)}}function Zq(n,e){return pE(n)*e}function Qq(n,e){return(1-pE(n))*e+1}var eX=365*24*60*60*1e3,Cz=1e3*eX;function tX(n,e,t){var r=t.prevStep,i=t.nextStep,s=t.now,o=t.future,a=t.round,l=n.getTime?n.getTime():n,u=function(g){return Jq(g,l,{now:s,round:a})},f=rX(o?e:i,l,{future:o,now:s,round:a,prevStep:o?r:e});if(f!==void 0){var h;if(e&&(e.getTimeToNextUpdate&&(h=e.getTimeToNextUpdate(l,{getTimeToNextUpdateForUnit:u,getRoundFunction:qh,now:s,future:o,round:a})),h===void 0)){var p=e.unit||e.formatAs;p&&(h=u(p))}return h===void 0?f:Math.min(h,f)}}function nX(n,e,t){var r=t.now,i=t.future,s=t.round,o=t.prevStep,a=Ez(n,{timestamp:e,now:r,future:i,round:s,prevStep:o});if(a!==void 0)return i?e-a*1e3+1:a===0&&e===r?Cz:e+a*1e3}function rX(n,e,t){var r=t.now,i=t.future,s=t.round,o=t.prevStep;if(n){var a=nX(n,e,{now:r,future:i,round:s,prevStep:o});return a===void 0?void 0:a-r}else return i?e-r+1:Cz}var Pz={};function Bc(n){return Pz[n]}function Rz(n){if(!n)throw new Error("[javascript-time-ago] No locale data passed.");Pz[n.locale]=n}const iX=[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],cb={steps:iX,labels:"long"};function b3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function M3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(t),!0).forEach(function(r){sX(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sX(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const fb=M3(M3({},cb),{},{steps:cb.steps.filter(function(n){return n.formatAs!=="second"})}),Lz=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:So,unit:"minute"},{threshold:2.5*So,granularity:5,factor:So,unit:"minute"},{threshold:22.5*So,factor:.5*N0,unit:"half-hour"},{threshold:42.5*So,threshold_for_minute:52.5*So,factor:N0,unit:"hour"},{threshold:20.5/24*au,factor:au,unit:"day"},{threshold:5.5*au,factor:ab,unit:"week"},{threshold:3.5*ab,factor:lb,unit:"month"},{threshold:10.5*lb,factor:Mz,unit:"year"}],T3={gradation:Lz,flavour:"long",units:["now","minute","hour","day","week","month","year"]},oX={gradation:Lz,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function Oz(n){return n instanceof Date?n:new Date(n)}var db=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],Vs={},aX={minTime:function(e,t){t.future;var r=t.getMinTimeForUnit;return r("day")},format:function(e,t){return Vs[t]||(Vs[t]={}),Vs[t].dayMonth||(Vs[t].dayMonth=new Intl.DateTimeFormat(t,{month:"short",day:"numeric"})),Vs[t].dayMonth.format(Oz(e))}},lX={minTime:function(e,t){var r=t.future;if(r){var i=new Date(new Date(e).getFullYear(),0).getTime()-1;return(e-i)/1e3}else{var s=new Date(new Date(e).getFullYear()+1,0).getTime();return(s-e)/1e3}},format:function(e,t){return Vs[t]||(Vs[t]={}),Vs[t].dayMonthYear||(Vs[t].dayMonthYear=new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric"})),Vs[t].dayMonthYear.format(Oz(e))}};Hq()?db.push(aX,lX):db.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const xu={steps:db,labels:["mini","short-time","narrow","short"]};function E3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function A3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E3(Object(t),!0).forEach(function(r){uX(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uX(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const cX=A3(A3({},xu),{},{steps:[{formatAs:"now"}].concat(xu.steps)});function C3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function P3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C3(Object(t),!0).forEach(function(r){fX(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):C3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function fX(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const hb=P3(P3({},xu),{},{steps:xu.steps.filter(function(n){return n.formatAs!=="second"})});function R3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function L3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(t),!0).forEach(function(r){dX(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dX(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const hX=L3(L3({},hb),{},{steps:[{formatAs:"now"}].concat(hb.steps)});function O3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Mg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O3(Object(t),!0).forEach(function(r){pX(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function pX(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const mX=Mg(Mg({},xu),{},{steps:xu.steps.filter(function(n){return n.formatAs!=="second"}).map(function(n){return n.formatAs==="minute"?Mg(Mg({},n),{},{minTime:So}):n})}),Xh={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function I3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function D3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I3(Object(t),!0).forEach(function(r){gX(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):I3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gX(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const vX=D3(D3({},Xh),{},{steps:[{formatAs:"now"}].concat(Xh.steps)});function N3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function k3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N3(Object(t),!0).forEach(function(r){yX(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):N3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yX(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const pb=k3(k3({},Xh),{},{steps:Xh.steps.filter(function(n){return n.formatAs!=="second"})});function F3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function z3(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(t),!0).forEach(function(r){_X(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):F3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _X(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const xX=z3(z3({},pb),{},{steps:[{formatAs:"now"}].concat(pb.steps)});function wX(n){switch(n){case"default":case"round":return cb;case"round-minute":return fb;case"approximate":return T3;case"time":case"approximate-time":return oX;case"mini":return Xh;case"mini-now":return vX;case"mini-minute":return pb;case"mini-minute-now":return xX;case"twitter":return xu;case"twitter-now":return cX;case"twitter-minute":return hb;case"twitter-minute-now":return hX;case"twitter-first-minute":return mX;default:return T3}}function k0(n){return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(n)}function SX(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=Iz(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bX(n,e){return EX(n)||TX(n,e)||Iz(n,e)||MX()}function MX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iz(n,e){if(!!n){if(typeof n=="string")return U3(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return U3(n,e)}}function U3(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function TX(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function EX(n){if(Array.isArray(n))return n}function AX(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function B3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function CX(n,e,t){return e&&B3(n.prototype,e),t&&B3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}var ms=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.polyfill;AX(this,n),typeof e=="string"&&(e=[e]),this.locale=Vq(e.concat(n.getDefaultLocale()),Bc),typeof Intl<"u"&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),r===!1?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=Ka,this.IntlPluralRules=Ka.PluralRules),this.relativeTimeFormatCache=new _3,this.pluralRulesCache=new _3}return CX(n,[{key:"format",value:function(t,r,i){i||(r&&!IX(r)?(i=r,r=void 0):i={}),r||(r=fb),typeof r=="string"&&(r=wX(r));var s=PX(t),o=this.getLabels(r.flavour||r.labels),a=o.labels,l=o.labelsType,u;r.now!==void 0&&(u=r.now),u===void 0&&i.now!==void 0&&(u=i.now),u===void 0&&(u=Date.now());var f=(u-s)/1e3,h=i.future||f<0,p=OX(a,Bc(this.locale).now,Bc(this.locale).long,h);if(r.custom){var m=r.custom({now:u,date:new Date(s),time:s,elapsed:f,locale:this.locale});if(m!==void 0)return m}var g=LX(r.units,a,p),v=i.round||r.round,_=Xq(r.gradation||r.steps||fb.steps,f,{now:u,units:g,round:v,future:h,getNextStep:!0}),y=bX(_,3),w=y[0],S=y[1],M=y[2],T=this.formatDateForStep(s,S,f,{labels:a,labelsType:l,nowLabel:p,now:u,future:h,round:v})||"";if(i.getTimeToNextUpdate){var P=tX(s,S,{nextStep:M,prevStep:w,now:u,future:h,round:v});return[T,P]}return T}},{key:"formatDateForStep",value:function(t,r,i,s){var o=this,a=s.labels,l=s.labelsType,u=s.nowLabel,f=s.now,h=s.future,p=s.round;if(!!r){if(r.format)return r.format(t,this.locale,{formatAs:function(y,w){return o.formatValue(w,y,{labels:a,future:h})},now:f,future:h});var m=r.unit||r.formatAs;if(!m)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(r)));if(m==="now")return u;var g=Math.abs(i)/Tz(r);r.granularity&&(g=qh(p)(g/r.granularity)*r.granularity);var v=-1*Math.sign(i)*qh(p)(g);switch(v===0&&(h?v=0:v=-0),l){case"long":case"short":case"narrow":return this.getFormatter(l).format(v,m);default:return this.formatValue(v,m,{labels:a,future:h})}}}},{key:"formatValue",value:function(t,r,i){var s=i.labels,o=i.future;return this.getFormattingRule(s,r,t,{future:o}).replace("{0}",this.formatNumber(Math.abs(t)))}},{key:"getFormattingRule",value:function(t,r,i,s){var o=s.future;if(this.locale,t=t[r],typeof t=="string")return t;var a=i===0?o?"future":"past":i<0?"past":"future",l=t[a]||t;if(typeof l=="string")return l;var u=this.getPluralRules().select(Math.abs(i));return l[u]||l.other}},{key:"formatNumber",value:function(t){return this.numberFormat?this.numberFormat.format(t):String(t)}},{key:"getFormatter",value:function(t){return this.relativeTimeFormatCache.get(this.locale,t)||this.relativeTimeFormatCache.put(this.locale,t,new this.IntlRelativeTimeFormat(this.locale,{style:t}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];typeof t=="string"&&(t=[t]),t=t.map(function(a){switch(a){case"tiny":case"mini-time":return"mini";default:return a}}),t=t.concat("long");for(var r=Bc(this.locale),i=SX(t),s;!(s=i()).done;){var o=s.value;if(r[o])return{labelsType:o,labels:r[o]}}}}]),n}(),Dz="en";ms.getDefaultLocale=function(){return Dz};ms.setDefaultLocale=function(n){return Dz=n};ms.addDefaultLocale=function(n){if(V3)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");V3=!0,ms.setDefaultLocale(n.locale),ms.addLocale(n)};var V3;ms.addLocale=function(n){Rz(n),Ka.addLocale(n)};ms.locale=ms.addLocale;ms.addLabels=function(n,e,t){var r=Bc(n);r||(Rz({locale:n}),r=Bc(n)),r[e]=t};function PX(n){if(n.constructor===Date||RX(n))return n.getTime();if(typeof n=="number")return n;throw new Error("Unsupported relative time formatter input: ".concat(k0(n),", ").concat(n))}function RX(n){return k0(n)==="object"&&typeof n.getTime=="function"}function LX(n,e,t){var r=Object.keys(e);return t&&r.push("now"),n&&(r=n.filter(function(i){return i==="now"||r.indexOf(i)>=0})),r}function OX(n,e,t,r){var i=n.now||e&&e.now;if(i)return typeof i=="string"?i:r?i.future:i.past;if(t&&t.second&&t.second.current)return t.second.current}function IX(n){return typeof n=="string"||Gq(n)}const DX={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}},NX=async(n,e="GET",t)=>{const r={headers:{"Content-Type":"application/json"},withCredentials:!0};return r.method=e,t!=null&&(r.data=JSON.stringify(t)),await hq(n,r).then(i=>(i.statusText!=="OK"&&console.error("handle global error",i.statusText),i.data))};function H3(n,e,t,r,i){const s=Math.abs(n-e);return(n<0?-1:1)*s*(i-r)/(t-e)}ms.addDefaultLocale(DX);const kX=new ms("en-US"),FX="modulepreload",zX=function(n){return"/"+n},G3={},Uy=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=zX(s),s in G3)return;G3[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let f=i.length-1;f>=0;f--){const h=i[f];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":FX,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((f,h)=>{u.addEventListener("load",f),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};var UX=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const BX=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>UX(void 0,void 0,void 0,function*(){return yield(yield Uy(()=>Promise.resolve().then(()=>By),void 0)).fetch(...t)}):e=fetch,(...t)=>e(...t)};class mE extends Error{constructor(e,t="FunctionsError",r){super(e),super.name=t,this.context=r}}class VX extends mE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class HX extends mE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class GX extends mE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jX=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class WX{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=BX(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return jX(this,void 0,void 0,function*(){try{const{headers:i,body:s}=t;let o={},a;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",a=s):typeof s=="string"?(o["Content-Type"]="text/plain",a=s):typeof FormData<"u"&&s instanceof FormData?a=s:(o["Content-Type"]="application/json",a=JSON.stringify(s)));const l=yield this.fetch(`${this.url}/${e}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:a}).catch(p=>{throw new VX(p)}),u=l.headers.get("x-relay-error");if(u&&u==="true")throw new HX(l);if(!l.ok)throw new GX(l);let f=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return f==="application/json"?h=yield l.json():f==="application/octet-stream"?h=yield l.blob():f==="multipart/form-data"?h=yield l.formData():h=yield l.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}}var Yh={exports:{}};(function(n,e){var t=typeof self<"u"?self:sr,r=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(O){return O&&DataView.prototype.isPrototypeOf(O)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(O){return O&&u.indexOf(Object.prototype.toString.call(O))>-1};function h(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(O))throw new TypeError("Invalid character in header field name");return O.toLowerCase()}function p(O){return typeof O!="string"&&(O=String(O)),O}function m(O){var j={next:function(){var $=O.shift();return{done:$===void 0,value:$}}};return a.iterable&&(j[Symbol.iterator]=function(){return j}),j}function g(O){this.map={},O instanceof g?O.forEach(function(j,$){this.append($,j)},this):Array.isArray(O)?O.forEach(function(j){this.append(j[0],j[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(j){this.append(j,O[j])},this)}g.prototype.append=function(O,j){O=h(O),j=p(j);var $=this.map[O];this.map[O]=$?$+", "+j:j},g.prototype.delete=function(O){delete this.map[h(O)]},g.prototype.get=function(O){return O=h(O),this.has(O)?this.map[O]:null},g.prototype.has=function(O){return this.map.hasOwnProperty(h(O))},g.prototype.set=function(O,j){this.map[h(O)]=p(j)},g.prototype.forEach=function(O,j){for(var $ in this.map)this.map.hasOwnProperty($)&&O.call(j,this.map[$],$,this)},g.prototype.keys=function(){var O=[];return this.forEach(function(j,$){O.push($)}),m(O)},g.prototype.values=function(){var O=[];return this.forEach(function(j){O.push(j)}),m(O)},g.prototype.entries=function(){var O=[];return this.forEach(function(j,$){O.push([$,j])}),m(O)},a.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function v(O){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}function _(O){return new Promise(function(j,$){O.onload=function(){j(O.result)},O.onerror=function(){$(O.error)}})}function y(O){var j=new FileReader,$=_(j);return j.readAsArrayBuffer(O),$}function w(O){var j=new FileReader,$=_(j);return j.readAsText(O),$}function S(O){for(var j=new Uint8Array(O),$=new Array(j.length),ie=0;ie<j.length;ie++)$[ie]=String.fromCharCode(j[ie]);return $.join("")}function M(O){if(O.slice)return O.slice(0);var j=new Uint8Array(O.byteLength);return j.set(new Uint8Array(O)),j.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(O){this._bodyInit=O,O?typeof O=="string"?this._bodyText=O:a.blob&&Blob.prototype.isPrototypeOf(O)?this._bodyBlob=O:a.formData&&FormData.prototype.isPrototypeOf(O)?this._bodyFormData=O:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(O)?this._bodyText=O.toString():a.arrayBuffer&&a.blob&&l(O)?(this._bodyArrayBuffer=M(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(O)||f(O))?this._bodyArrayBuffer=M(O):this._bodyText=O=Object.prototype.toString.call(O):this._bodyText="",this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var O=v(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var O=v(this);if(O)return O;if(this._bodyBlob)return w(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(R)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function L(O){var j=O.toUpperCase();return P.indexOf(j)>-1?j:O}function A(O,j){j=j||{};var $=j.body;if(O instanceof A){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,j.headers||(this.headers=new g(O.headers)),this.method=O.method,this.mode=O.mode,this.signal=O.signal,!$&&O._bodyInit!=null&&($=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=j.credentials||this.credentials||"same-origin",(j.headers||!this.headers)&&(this.headers=new g(j.headers)),this.method=L(j.method||this.method||"GET"),this.mode=j.mode||this.mode||null,this.signal=j.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody($)}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function R(O){var j=new FormData;return O.trim().split("&").forEach(function($){if($){var ie=$.split("="),I=ie.shift().replace(/\+/g," "),N=ie.join("=").replace(/\+/g," ");j.append(decodeURIComponent(I),decodeURIComponent(N))}}),j}function k(O){var j=new g,$=O.replace(/\r?\n[\t ]+/g," ");return $.split(/\r?\n/).forEach(function(ie){var I=ie.split(":"),N=I.shift().trim();if(N){var U=I.join(":").trim();j.append(N,U)}}),j}T.call(A.prototype);function G(O,j){j||(j={}),this.type="default",this.status=j.status===void 0?200:j.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in j?j.statusText:"OK",this.headers=new g(j.headers),this.url=j.url||"",this._initBody(O)}T.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},G.error=function(){var O=new G(null,{status:0,statusText:""});return O.type="error",O};var Z=[301,302,303,307,308];G.redirect=function(O,j){if(Z.indexOf(j)===-1)throw new RangeError("Invalid status code");return new G(null,{status:j,headers:{location:O}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(j,$){this.message=j,this.name=$;var ie=Error(j);this.stack=ie.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function W(O,j){return new Promise(function($,ie){var I=new A(O,j);if(I.signal&&I.signal.aborted)return ie(new o.DOMException("Aborted","AbortError"));var N=new XMLHttpRequest;function U(){N.abort()}N.onload=function(){var X={status:N.status,statusText:N.statusText,headers:k(N.getAllResponseHeaders()||"")};X.url="responseURL"in N?N.responseURL:X.headers.get("X-Request-URL");var Y="response"in N?N.response:N.responseText;$(new G(Y,X))},N.onerror=function(){ie(new TypeError("Network request failed"))},N.ontimeout=function(){ie(new TypeError("Network request failed"))},N.onabort=function(){ie(new o.DOMException("Aborted","AbortError"))},N.open(I.method,I.url,!0),I.credentials==="include"?N.withCredentials=!0:I.credentials==="omit"&&(N.withCredentials=!1),"responseType"in N&&a.blob&&(N.responseType="blob"),I.headers.forEach(function(X,Y){N.setRequestHeader(Y,X)}),I.signal&&(I.signal.addEventListener("abort",U),N.onreadystatechange=function(){N.readyState===4&&I.signal.removeEventListener("abort",U)}),N.send(typeof I._bodyInit>"u"?null:I._bodyInit)})}return W.polyfill=!0,s.fetch||(s.fetch=W,s.Headers=g,s.Request=A,s.Response=G),o.Headers=g,o.Request=A,o.Response=G,o.fetch=W,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,n.exports=e})(Yh,Yh.exports);const gE=mp(Yh.exports),By=DI({__proto__:null,default:gE},[Yh.exports]);var $X=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class qX{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.allowEmpty=e.allowEmpty,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=gE:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>$X(this,void 0,void 0,function*(){var o,a,l;let u=null,f=null,h=null,p=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=yield s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=y:f=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&_&&_.length>1&&(h=parseInt(_[1]))}else{const v=yield s.text();try{u=JSON.parse(v)}catch{u={message:v}}if(u&&this.allowEmpty&&((l=u==null?void 0:u.details)===null||l===void 0?void 0:l.includes("Results contain 0 rows"))&&(u=null,p=200,m="OK"),u&&this.shouldThrowOnError)throw u}return{error:u,data:f,count:h,status:p,statusText:m}}));return this.shouldThrowOnError||(i=i.catch(s=>({error:{message:`FetchError: ${s.message}`,details:"",hint:"",code:s.code||""},data:null,count:null,status:0,statusText:""}))),i.then(e,t)}}class XX extends qX{select(e){let t=!1;const r=(e!=null?e:"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Sc extends XX{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=t.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class YX{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=t,this.schema=r,this.fetch=i}select(e,{head:t=!1,count:r}={}){const i=t?"HEAD":"GET";let s=!1;const o=(e!=null?e:"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Sc({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t}={}){const r="POST",i=[],s=e;if(t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Sc({method:r,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i}={}){const s="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];t!==void 0&&this.url.searchParams.set("on_conflict",t);const a=e;return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new Sc({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",i=[],s=e;return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new Sc({method:r,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Sc({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const KX="1.1.0",JX={"X-Client-Info":`postgrest-js/${KX}`};class ZX{constructor(e,{headers:t={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},JX),t),this.schema=r,this.fetch=i}from(e){const t=new URL(`${this.url}/${e}`);return new YX(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,t={},{head:r=!1,count:i}={}){let s;const o=new URL(`${this.url}/rpc/${e}`);let a;r?(s="HEAD",Object.entries(t).forEach(([u,f])=>{o.searchParams.append(u,`${f}`)})):(s="POST",a=t);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Sc({method:s,url:o,headers:l,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}}var A1,j3;function QX(){if(j3)return A1;j3=1;var n=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return A1=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}(),A1}const eY="websocket",tY="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",nY=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],rY="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",iY=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],sY="1.0.34",oY={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},aY="https://github.com/theturtle32/WebSocket-Node",lY={node:">=4.0.0"},uY={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},cY={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},fY={verbose:!1},dY={test:"tape test/unit/*.js",gulp:"gulp"},hY="index",pY={lib:"./lib"},mY="lib/browser.js",gY="Apache-2.0",vY={name:eY,description:tY,keywords:nY,author:rY,contributors:iY,version:sY,repository:oY,homepage:aY,engines:lY,dependencies:uY,devDependencies:cY,config:fY,scripts:dY,main:hY,directories:pY,browser:mY,license:gY};var yY=vY.version,Hl;if(typeof globalThis=="object")Hl=globalThis;else try{Hl=QX()}catch{}finally{if(!Hl&&typeof window<"u"&&(Hl=window),!Hl)throw new Error("Could not determine global this")}var Kh=Hl.WebSocket||Hl.MozWebSocket,_Y=yY;function Nz(n,e){var t;return e?t=new Kh(n,e):t=new Kh(n),t}Kh&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(n){Object.defineProperty(Nz,n,{get:function(){return Kh[n]}})});var xY={w3cwebsocket:Kh?Nz:null,version:_Y};const wY="2.1.0",SY={"X-Client-Info":`realtime-js/${wY}`},bY="1.0.0",kz=1e4,MY=1e3;var fh;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(fh||(fh={}));var si;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(si||(si={}));var ls;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ls||(ls={}));var mb;(function(n){n.websocket="websocket"})(mb||(mb={}));var Gl;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Gl||(Gl={}));class Fz{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class TY{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+i));o=o+i;const l=r.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class C1{constructor(e,t,r={},i=kz){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var W3;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(W3||(W3={}));class dh{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dh.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=dh.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=dh.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(s,(u,f)=>{o[u]||(l[u]=f)}),this.map(o,(u,f)=>{const h=s[u];if(h){const p=f.map(_=>_.presence_ref),m=h.map(_=>_.presence_ref),g=f.filter(_=>m.indexOf(_.presence_ref)<0),v=h.filter(_=>p.indexOf(_.presence_ref)<0);g.length>0&&(a[u]=g),v.length>0&&(l[u]=v)}else a[u]=f}),this.syncDiff(s,{joins:a,leaves:l},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var u;const f=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),f.length>0){const h=e[a].map(m=>m.presence_ref),p=f.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...p)}r(a,f,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const f=l.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,l),u.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Xt||(Xt={}));const $3=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,o)=>(s[o]=EY(o,n,e,i),s),{})},EY=(n,e,t,r)=>{const i=e.find(a=>a.name===n),s=i==null?void 0:i.type,o=t[n];return s&&!r.includes(s)?zz(s,o):gb(o)},zz=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return RY(e,t)}switch(n){case Xt.bool:return AY(e);case Xt.float4:case Xt.float8:case Xt.int2:case Xt.int4:case Xt.int8:case Xt.numeric:case Xt.oid:return CY(e);case Xt.json:case Xt.jsonb:return PY(e);case Xt.timestamp:return LY(e);case Xt.abstime:case Xt.date:case Xt.daterange:case Xt.int4range:case Xt.int8range:case Xt.money:case Xt.reltime:case Xt.text:case Xt.time:case Xt.timestamptz:case Xt.timetz:case Xt.tsrange:case Xt.tstzrange:return gb(e);default:return gb(e)}},gb=n=>n,AY=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},CY=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},PY=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},RY=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const o=n.slice(1,t);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>zz(e,a))}return n},LY=n=>typeof n=="string"?n.replace(" ","T"):n;var q3=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},X3;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(X3||(X3={}));var Y3;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes"})(Y3||(Y3={}));var K3;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(K3||(K3={}));class vE{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=si.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new C1(this,ls.join,this.params,this.timeout),this.rejoinTimer=new Fz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=si.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=si.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=si.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=si.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ls.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new dh(this)}subscribe(e,t=this.timeout){var r,i;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:u})=>{var f;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,m=[];for(let g=0;g<p;g++){const v=h[g],{filter:{event:_,schema:y,table:w,filter:S}}=v,M=u&&u[g];if(M&&M.event===_&&M.schema===y&&M.table===w&&M.filter===S)m.push(Object.assign(Object.assign({},v),{id:M.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,t={}){return q3(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(e={}){return q3(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(e,t={}){return new Promise(r=>{var i,s,o;const a=this._push(e.type,e,t.timeout||this.timeout);a.rateLimited&&r("rate limited"),e.type==="broadcast"&&!(!((o=(s=(i=this.params)===null||i===void 0?void 0:i.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.ack)&&r("ok"),a.receive("ok",()=>r("ok")),a.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=si.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ls.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new C1(this,ls.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new C1(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:f}=ls;if(r&&[a,l,u,f].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var g,v,_;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((_=(v=m.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(m=>m.callback(p,r)):(s=this.bindings[o])===null||s===void 0||s.filter(m=>{var g,v,_,y,w,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const M=m.id,T=(g=m.filter)===null||g===void 0?void 0:g.event;return M&&((v=t.ids)===null||v===void 0?void 0:v.includes(M))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((_=t.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const M=(w=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return M==="*"||M===((S=t==null?void 0:t.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:v,table:_,commit_timestamp:y,type:w,errors:S}=g;p=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:y,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(g))}m.callback(p,r)})}_isClosed(){return this.state===si.closed}_isJoined(){return this.state===si.joined}_isJoining(){return this.state===si.joining}_isLeaving(){return this.state===si.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&vE.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ls.close,{},e)}_onError(e){this._on(ls.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=si.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=$3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=$3(e.columns,e.old_record)),t}}var OY=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const IY=()=>{};class DY{constructor(e,t){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=SY,this.params={},this.timeout=kz,this.transport=xY.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=IY,this.conn=null,this.sendBuffer=[],this.serializer=new TY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${mb.websocket}`,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.transport&&(this.transport=t.transport),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.eventsPerSecond;i&&(this.eventsPerSecondLimitMs=Math.floor(1e3/i)),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,o)=>o(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fz(()=>OY(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t!=null?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return e.unsubscribe().then(t=>(this.channels.length===0&&this.disconnect(),t))}removeAllChannels(){return Promise.all(this.channels.map(e=>e.unsubscribe())).then(e=>(this.disconnect(),e))}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fh.connecting:return Gl.Connecting;case fh.open:return Gl.Open;case fh.closing:return Gl.Closing;default:return Gl.Closed}}isConnected(){return this.connectionState()===Gl.Open}channel(e,t={config:{}}){this.isConnected()||this.connect();const r=new vE(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:s}=e;let o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};if(this.log("push",`${t} ${r} (${s})`,i),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(ls.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bY}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:s,ref:o}=t;(o&&o===this.pendingHeartbeatRef||i===(s==null?void 0:s.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ls.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(MY,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(e(),this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t),!1)}}class Uz extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Br(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class NY extends Uz{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kY extends Uz{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Bz=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const Vz=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Bz(void 0,void 0,void 0,function*(){return yield(yield Uy(()=>Promise.resolve().then(()=>By),void 0)).fetch(...t)}):e=fetch,(...t)=>e(...t)},FY=()=>Bz(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Uy(()=>Promise.resolve().then(()=>By),void 0)).Response:Response});var Df=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const J3=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),zY=(n,e)=>Df(void 0,void 0,void 0,function*(){const t=yield FY();n instanceof t?n.json().then(r=>{e(new NY(J3(r),n.status||500))}):e(new kY(J3(n),n))}),UY=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Vy(n,e,t,r,i,s){return Df(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,UY(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>zY(l,a))})})}function vb(n,e,t,r){return Df(this,void 0,void 0,function*(){return Vy(n,"GET",e,t,r)})}function jl(n,e,t,r,i){return Df(this,void 0,void 0,function*(){return Vy(n,"POST",e,r,i,t)})}function BY(n,e,t,r,i){return Df(this,void 0,void 0,function*(){return Vy(n,"PUT",e,r,i,t)})}function Hz(n,e,t,r,i){return Df(this,void 0,void 0,function*(){return Vy(n,"DELETE",e,r,i,t)})}var Is=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const VY={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HY={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class GY{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Vz(i)}uploadOrUpdate(e,t,r,i){return Is(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},HY),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl)):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),f=yield this.fetch(`${this.url}/object/${u}`,{method:e,body:s,headers:a});return f.ok?{data:{path:l},error:null}:{data:null,error:yield f.json()}}catch(s){if(Br(s))return{data:null,error:s};throw s}})}upload(e,t,r){return Is(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}update(e,t,r){return Is(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return Is(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){if(Br(r))return{data:null,error:r};throw r}})}copy(e,t){return Is(this,void 0,void 0,function*(){try{return{data:{path:(yield jl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(r){if(Br(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,r){return Is(this,void 0,void 0,function*(){try{const i=this._getFinalPath(e);let s=yield jl(this.fetch,`${this.url}/object/sign/${i}`,{expiresIn:t},{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Br(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return Is(this,void 0,void 0,function*(){try{const i=yield jl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Br(i))return{data:null,error:i};throw i}})}download(e){return Is(this,void 0,void 0,function*(){try{const t=this._getFinalPath(e);return{data:yield(yield vb(this.fetch,`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(t){if(Br(t))return{data:null,error:t};throw t}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=t!=null&&t.download?`?download=${t.download===!0?"":t.download}`:"";return{data:{publicUrl:encodeURI(`${this.url}/object/public/${r}${i}`)}}}remove(e){return Is(this,void 0,void 0,function*(){try{return{data:yield Hz(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Br(t))return{data:null,error:t};throw t}})}list(e,t,r){return Is(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},VY),t),{prefix:e||""});return{data:yield jl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Br(i))return{data:null,error:i};throw i}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}const jY="2.0.0",WY={"X-Client-Info":`storage-js/${jY}`};var ec=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};class $Y{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},WY),t),this.fetch=Vz(r)}listBuckets(){return ec(this,void 0,void 0,function*(){try{return{data:yield vb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Br(e))return{data:null,error:e};throw e}})}getBucket(e){return ec(this,void 0,void 0,function*(){try{return{data:yield vb(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Br(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return ec(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(r){if(Br(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return ec(this,void 0,void 0,function*(){try{return{data:yield BY(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(r){if(Br(r))return{data:null,error:r};throw r}})}emptyBucket(e){return ec(this,void 0,void 0,function*(){try{return{data:yield jl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Br(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ec(this,void 0,void 0,function*(){try{return{data:yield Hz(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Br(t))return{data:null,error:t};throw t}})}}class qY extends $Y{constructor(e,t={},r){super(e,t,r)}from(e){return new GY(this.url,this.headers,e,this.fetch)}}const XY="2.1.3",YY={"X-Client-Info":`supabase-js/${XY}`};var KY=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const JY=n=>{let e;return n?e=n:typeof fetch>"u"?e=gE:e=fetch,(...t)=>e(...t)},ZY=()=>typeof Headers>"u"?Yh.exports.Headers:Headers,QY=(n,e,t)=>{const r=JY(t),i=ZY();return(s,o)=>KY(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:n;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",n),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},o),{headers:u}))})};function eK(n){return n.replace(/\/$/,"")}function tK(n,e){const{db:t,auth:r,realtime:i,global:s}=n,{db:o,auth:a,realtime:l,global:u}=e;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s)}}var Hy=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};function nK(n){return Math.round(Date.now()/1e3)+n}function rK(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Ql=()=>typeof window<"u";function Ii(n,e){var t;e||(e=((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.href)||""),n=n.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}const Gz=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Hy(void 0,void 0,void 0,function*(){return yield(yield Uy(()=>Promise.resolve().then(()=>By),void 0)).fetch(...t)}):e=fetch,(...t)=>e(...t)},iK=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",sK=(n,e,t)=>Hy(void 0,void 0,void 0,function*(){yield n.setItem(e,JSON.stringify(t))}),Z3=(n,e)=>Hy(void 0,void 0,void 0,function*(){const t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),oK=(n,e)=>Hy(void 0,void 0,void 0,function*(){yield n.removeItem(e)}),aK=n=>{try{return decodeURIComponent(atob(n.replace(/[-]/g,"+").replace(/[_]/g,"/")).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}catch(e){if(e instanceof ReferenceError)return Buffer.from(n,"base64").toString("utf-8");throw e}};class Gy{constructor(){this.promise=new Gy.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Gy.promiseConstructor=Promise;function Q3(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=n.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(aK(r))}class yE extends Error{constructor(e){super(e),this.__isAuthError=!0,this.name="AuthError"}}function Bt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class lK extends yE{constructor(e,t){super(e),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function uK(n){return Bt(n)&&n.name==="AuthApiError"}class jz extends yE{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class jy extends yE{constructor(e,t,r){super(e),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Md extends jy{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class P1 extends jy{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class ho extends jy{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class F0 extends jy{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}var _E=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},cK=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Tg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),fK=(n,e)=>_E(void 0,void 0,void 0,function*(){const t=[502,503,504];iK(n)?t.includes(n.status)?e(new F0(Tg(n),n.status)):n.json().then(r=>{e(new lK(Tg(r),n.status||500))}).catch(r=>{e(new jz(Tg(r),r))}):e(new F0(Tg(n),0))}),dK=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Kt(n,e,t,r){var i;return _E(this,void 0,void 0,function*(){const s=Object.assign({},r==null?void 0:r.headers);r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield hK(n,e,t+a,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}})}function hK(n,e,t,r,i,s){return _E(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(t,dK(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>fK(l,a))})})}function tc(n){var e;let t=null;gK(n)&&(t=Object.assign({},n),t.expires_at=nK(n.expires_in));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function Wl(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function pK(n){return{data:n,error:null}}function mK(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,o=cK(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function gK(n){return n.access_token&&n.refresh_token&&n.expires_in}var Ds=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})},vK=globalThis&&globalThis.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class yK{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Gz(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return Ds(this,void 0,void 0,function*(){try{return yield Kt(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(t){if(Bt(t))return{data:null,error:t};throw t}})}inviteUserByEmail(e,t={}){return Ds(this,void 0,void 0,function*(){try{return yield Kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Wl})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}})}generateLink(e){return Ds(this,void 0,void 0,function*(){try{const{options:t}=e,r=vK(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),yield Kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:mK,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Bt(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return Ds(this,void 0,void 0,function*(){try{return yield Kt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wl})}catch(t){if(Bt(t))return{data:{user:null},error:t};throw t}})}listUsers(){return Ds(this,void 0,void 0,function*(){try{const{data:e,error:t}=yield Kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers});if(t)throw t;return{data:Object.assign({},e),error:null}}catch(e){if(Bt(e))return{data:{users:[]},error:e};throw e}})}getUserById(e){return Ds(this,void 0,void 0,function*(){try{return yield Kt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wl})}catch(t){if(Bt(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return Ds(this,void 0,void 0,function*(){try{return yield Kt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Wl})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}})}deleteUser(e){return Ds(this,void 0,void 0,function*(){try{return yield Kt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wl})}catch(t){if(Bt(t))return{data:{user:null},error:t};throw t}})}_listFactors(e){return Ds(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers}),error:null}}catch(t){if(Bt(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return Ds(this,void 0,void 0,function*(){try{return{data:yield Kt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Bt(t))return{data:null,error:t};throw t}})}}const _K="2.4.3",xK="http://localhost:9999",wK="supabase.auth.token",SK={"X-Client-Info":`gotrue-js/${_K}`},R1=10,Eg={MAX_RETRIES:10,RETRY_INTERVAL:2},bK={getItem:n=>Ql()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{!Ql()||globalThis.localStorage.setItem(n,e)},removeItem:n=>{!Ql()||globalThis.localStorage.removeItem(n)}};function MK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Ut=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};MK();const TK={url:xK,storageKey:wK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SK};class EK{constructor(e){this.stateChangeEmitters=new Map,this.networkRetries=0,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0;const t=Object.assign(Object.assign({},TK),e);this.inMemorySession=null,this.storageKey=t.storageKey,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.storage=t.storage||bK,this.admin=new yK({url:t.url,headers:t.headers,fetch:t.fetch}),this.url=t.url,this.headers=t.headers,this.fetch=Gz(t.fetch),this.detectSessionInUrl=t.detectSessionInUrl,this.initialize(),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)}}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return Ut(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:e,error:t}=yield this._getSessionFromUrl();if(t)return yield this._removeSession(),{error:t};const{session:r,redirectType:i}=e;return yield this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN",r),i==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY",r),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return Bt(e)?{error:e}:{error:new jz("Unexpected error during initialization",e)}}finally{this._handleVisibilityChange()}})}signUp(e){var t,r;return Ut(this,void 0,void 0,function*(){try{yield this._removeSession();let i;if("email"in e){const{email:u,password:f,options:h}=e;i=yield Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:tc})}else if("phone"in e){const{phone:u,password:f,options:h}=e;i=yield Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:tc})}else throw new P1("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const a=s.session,l=s.user;return s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:l,session:a},error:null}}catch(i){if(Bt(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(e){var t,r;return Ut(this,void 0,void 0,function*(){try{yield this._removeSession();let i;if("email"in e){const{email:a,password:l,options:u}=e;i=yield Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,data:(t=u==null?void 0:u.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:tc})}else if("phone"in e){const{phone:a,password:l,options:u}=e;i=yield Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:tc})}else throw new P1("You must provide either an email or phone number and a password");const{data:s,error:o}=i;return o||!s?{data:{user:null,session:null},error:o}:(s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:o})}catch(i){if(Bt(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithOAuth(e){var t,r,i;return Ut(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams})})}signInWithOtp(e){var t,r,i,s;return Ut(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in e){const{email:o,options:a}=e,{error:l}=yield Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=a==null?void 0:a.data)!==null&&t!==void 0?t:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}if("phone"in e){const{phone:o,options:a}=e,{error:l}=yield Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=a==null?void 0:a.data)!==null&&i!==void 0?i:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null},error:l}}throw new P1("You must provide either an email or phone number.")}catch(o){if(Bt(o))return{data:{user:null,session:null},error:o};throw o}})}verifyOtp(e){var t,r;return Ut(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:i,error:s}=yield Kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:(t=e.options)===null||t===void 0?void 0:t.captchaToken}}),redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,xform:tc});if(s)throw s;if(!i)throw"An error occurred on token verification.";const o=i.session,a=i.user;return o!=null&&o.access_token&&(yield this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:a,session:o},error:null}}catch(i){if(Bt(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(e){var t,r,i;return Ut(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield Kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:pK})}catch(s){if(Bt(s))return{data:null,error:s};throw s}})}getSession(){return Ut(this,void 0,void 0,function*(){yield this.initializePromise;let e=null;if(this.persistSession){const s=yield Z3(this.storage,this.storageKey);s!==null&&(this._isValidSession(s)?e=s:yield this._removeSession())}else e=this.inMemorySession;if(!e)return{data:{session:null},error:null};if(!(e.expires_at?e.expires_at<=Date.now()/1e3:!1))return{data:{session:e},error:null};const{session:r,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}})}getUser(e){var t,r;return Ut(this,void 0,void 0,function*(){try{if(!e){const{data:i,error:s}=yield this.getSession();if(s)throw s;e=(r=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:void 0}return yield Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wl})}catch(i){if(Bt(i))return{data:{user:null},error:i};throw i}})}updateUser(e){return Ut(this,void 0,void 0,function*(){try{const{data:t,error:r}=yield this.getSession();if(r)throw r;if(!t.session)throw new Md;const i=t.session,{data:s,error:o}=yield Kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,body:e,jwt:i.access_token,xform:Wl});if(o)throw o;return i.user=s.user,yield this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}}catch(t){if(Bt(t))return{data:{user:null},error:t};throw t}})}_decodeJWT(e){return Q3(e)}setSession(e){return Ut(this,void 0,void 0,function*(){try{if(!e.access_token||!e.refresh_token)throw new Md;const t=Date.now()/1e3;let r=t,i=!0,s=null;const o=Q3(e.access_token);if(o.exp&&(r=o.exp,i=r<=t),i){const{session:a,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=yield this.getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},yield this._saveSession(s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(Bt(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){var t;return Ut(this,void 0,void 0,function*(){try{if(!e){const{data:s,error:o}=yield this.getSession();if(o)throw o;e=(t=s.session)!==null&&t!==void 0?t:void 0}if(!(e!=null&&e.refresh_token))throw new Md;const{session:r,error:i}=yield this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromUrl(){return Ut(this,void 0,void 0,function*(){try{if(!Ql())throw new ho("No browser detected.");if(!this._isImplicitGrantFlow())throw new ho("Not a valid implicit grant flow url.");const e=Ii("error_description");if(e){const v=Ii("error_code");if(!v)throw new ho("No error_code detected.");const _=Ii("error");throw _?new ho(e,{error:_,code:v}):new ho("No error detected.")}const t=Ii("provider_token"),r=Ii("provider_refresh_token"),i=Ii("access_token");if(!i)throw new ho("No access_token detected.");const s=Ii("expires_in");if(!s)throw new ho("No expires_in detected.");const o=Ii("refresh_token");if(!o)throw new ho("No refresh_token detected.");const a=Ii("token_type");if(!a)throw new ho("No token_type detected.");const u=Math.round(Date.now()/1e3)+parseInt(s),{data:f,error:h}=yield this.getUser(i);if(h)throw h;const p=f.user,m={provider_token:t,provider_refresh_token:r,access_token:i,expires_in:parseInt(s),expires_at:u,refresh_token:o,token_type:a,user:p},g=Ii("type");return window.location.hash="",{data:{session:m,redirectType:g},error:null}}catch(e){if(Bt(e))return{data:{session:null,redirectType:null},error:e};throw e}})}_isImplicitGrantFlow(){return Ql()&&(Boolean(Ii("access_token"))||Boolean(Ii("error_description")))}signOut(){var e;return Ut(this,void 0,void 0,function*(){const{data:t,error:r}=yield this.getSession();if(r)return{error:r};const i=(e=t.session)===null||e===void 0?void 0:e.access_token;if(i){const{error:s}=yield this.admin.signOut(i);if(s&&!(uK(s)&&(s.status===404||s.status===401)))return{error:s}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(e){const t=rK(),r={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),{data:{subscription:r}}}resetPasswordForEmail(e,t={}){return Ut(this,void 0,void 0,function*(){try{return yield Kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}_refreshAccessToken(e){return Ut(this,void 0,void 0,function*(){try{return yield Kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tc})}catch(t){if(Bt(t))return{data:{session:null,user:null},error:t};throw t}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t={}){const r=this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return Ql()&&(window.location.href=r),{data:{provider:e,url:r},error:null}}_recoverAndRefresh(){var e;return Ut(this,void 0,void 0,function*(){try{const t=yield Z3(this.storage,this.storageKey);if(!this._isValidSession(t)){t!==null&&(yield this._removeSession());return}const r=Math.round(Date.now()/1e3);if(((e=t.expires_at)!==null&&e!==void 0?e:1/0)<r+R1)if(this.autoRefreshToken&&t.refresh_token){this.networkRetries++;const{error:i}=yield this._callRefreshToken(t.refresh_token);if(i){if(console.log(i.message),i instanceof F0&&this.networkRetries<Eg.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),Math.pow(Eg.RETRY_INTERVAL,this.networkRetries)*100);return}yield this._removeSession()}this.networkRetries=0}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(t)),this._notifyAllSubscribers("SIGNED_IN",t)}catch(t){console.error(t);return}})}_callRefreshToken(e){var t,r;return Ut(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new Gy,!e)throw new Md;const{data:i,error:s}=yield this._refreshAccessToken(e);if(s)throw s;if(!i.session)throw new Md;yield this._saveSession(i.session),this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(Bt(i)){const s={session:null,error:i};return(t=this.refreshingDeferred)===null||t===void 0||t.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(e,t){this.stateChangeEmitters.forEach(r=>r.callback(e,t))}_saveSession(e){return Ut(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=e);const t=e.expires_at;if(t){const r=Math.round(Date.now()/1e3),i=t-r,s=i>R1?R1:.5;this._startAutoRefreshToken((i-s)*1e3)}this.persistSession&&e.expires_at&&(yield this._persistSession(e))})}_persistSession(e){return sK(this.storage,this.storageKey,e)}_removeSession(){return Ut(this,void 0,void 0,function*(){this.persistSession?yield oK(this.storage,this.storageKey):this.inMemorySession=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer)})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>Ut(this,void 0,void 0,function*(){this.networkRetries++;const{data:{session:t},error:r}=yield this.getSession();if(!r&&t){const{error:i}=yield this._callRefreshToken(t.refresh_token);i||(this.networkRetries=0),i instanceof F0&&this.networkRetries<Eg.MAX_RETRIES&&this._startAutoRefreshToken(Math.pow(Eg.RETRY_INTERVAL,this.networkRetries)*100)}}),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_handleVisibilityChange(){if(!Ql()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("visibilitychange",()=>Ut(this,void 0,void 0,function*(){document.visibilityState==="visible"&&(yield this.initializePromise,yield this._recoverAndRefresh())}))}catch(e){console.error("_handleVisibilityChange",e)}}_getUrlForProvider(e,t){const r=[`provider=${encodeURIComponent(e)}`];if(t!=null&&t.redirectTo&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t!=null&&t.scopes&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),t!=null&&t.queryParams){const i=new URLSearchParams(t.queryParams);r.push(i.toString())}return`${this.url}/authorize?${r.join("&")}`}_unenroll(e){var t;return Ut(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();return i?{data:null,error:i}:yield Kt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token})}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}_enroll(e){var t,r;return Ut(this,void 0,void 0,function*(){try{const{data:i,error:s}=yield this.getSession();if(s)return{data:null,error:s};const{data:o,error:a}=yield Kt(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(t=i==null?void 0:i.session)===null||t===void 0?void 0:t.access_token});return a?{data:null,error:a}:(!((r=o==null?void 0:o.totp)===null||r===void 0)&&r.qr_code&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}catch(i){if(Bt(i))return{data:null,error:i};throw i}})}_verify(e){var t;return Ut(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();if(i)return{data:null,error:i};const{data:s,error:o}=yield Kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}_challenge(e){var t;return Ut(this,void 0,void 0,function*(){try{const{data:r,error:i}=yield this.getSession();return i?{data:null,error:i}:yield Kt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(t=r==null?void 0:r.session)===null||t===void 0?void 0:t.access_token})}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}_challengeAndVerify(e){return Ut(this,void 0,void 0,function*(){const{data:t,error:r}=yield this._challenge({factorId:e.factorId});return r?{data:null,error:r}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return Ut(this,void 0,void 0,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:r,totp:i},error:null}})}_getAuthenticatorAssuranceLevel(){var e,t;return Ut(this,void 0,void 0,function*(){const{data:{session:r},error:i}=yield this.getSession();if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(r.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(a="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}})}}class AK extends EK{constructor(e){super(e)}}var CK=globalThis&&globalThis.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(h){o(h)}}function l(f){try{u(r.throw(f))}catch(h){o(h)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})};const PK={headers:YY},RK={schema:"public"},LK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},OK={};class IK{constructor(e,t,r){var i,s,o,a,l,u,f,h;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const p=eK(e);if(this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,p.match(/(supabase\.co)|(supabase\.in)/)){const y=p.split(".");this.functionsUrl=`${y[0]}.functions.${y[1]}.${y[2]}`}else this.functionsUrl=`${p}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,v={db:RK,realtime:OK,auth:Object.assign(Object.assign({},LK),{storageKey:g}),global:PK},_=tK(r!=null?r:{},v);this.storageKey=(s=(i=_.auth)===null||i===void 0?void 0:i.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=(o=_.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=_.auth)!==null&&l!==void 0?l:{},this.headers,(u=_.global)===null||u===void 0?void 0:u.fetch),this.fetch=QY(t,this._getAccessToken.bind(this),(f=_.global)===null||f===void 0?void 0:f.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},_.realtime)),this.rest=new ZX(`${p}/rest/v1`,{headers:this.headers,schema:(h=_.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new WX(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qY(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,t={},r){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return CK(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s},o,a){const l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AK({url:this.authUrl,headers:Object.assign(Object.assign({},l),o),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,fetch:a})}_initRealtimeClient(e){return new DY(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,r==null?void 0:r.access_token,"CLIENT")})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t!=null?t:null),this.changedAccessToken=t):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut())}}const DK=(n,e,t)=>new IK(n,e,t),NK="https://yhviecivrazplejxqqdw.supabase.co",kK="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlodmllY2l2cmF6cGxlanhxcWR3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NTU1NjMwNDYsImV4cCI6MTk3MTEzOTA0Nn0.b3dA5XQYudEWhBEylwYa4IOenhhHLo5ALEQfYlHe1gs",Ao=DK(NK,kK),Ag="api/user",xE=()=>{const{mutate:n}=rz(),[e,t]=z.exports.useState(!1),[r,i]=z.exports.useState(null),s=f=>{console.error(f),i(f),t(!1)};return{loginWithGoogle:async()=>{t(!0);try{const f=await Ao.auth.signInWithOAuth({provider:"google"});if(f.error){s(f.error.message);return}await n(Ag),i(null),t(!1)}catch(f){s(String(f))}},login:async f=>{var h;t(!0);try{const p=await Ao.auth.signInWithPassword(f);if(await n(Ag),p.error){s((h=p.error)==null?void 0:h.message);return}i(null),t(!1)}catch(p){s(String(p))}},logout:async()=>{t(!0);try{await n(Ag,async()=>(await Ao.auth.signOut(),t(!1),null))}catch(f){s(String(f))}},signUp:async f=>{t(!0);try{const h=await Ao.auth.signUp(f);await n(Ag),h.error&&s(h.error.message),i(null),t(!1)}catch(h){s(String(h))}},isLoading:e,error:r}},FK=({totalSeconds:n,onFinish:e})=>{const[t,r]=z.exports.useState(n),[i,s]=z.exports.useState(!1),o=100/n*t,a=(h=1)=>{r(p=>{let m=p-Math.abs(h);return m<0&&(m=0),m<1&&u(),m})},l=()=>{s(!0),r(n)},u=()=>{s(!1),typeof e<"u"&&e(t)},f=h=>{a(h)};return z.exports.useEffect(()=>{let h=null;return i&&(h=window.setInterval(a,1e3)),()=>window.clearInterval(h)},[i,t]),{start:l,seconds:t,percentage:o,isRunning:i,decrement:f,stop:u}};z.exports.createContext({user:null,session:null});const zK=()=>(xE(),ne("footer",{style:{height:200},className:"bg-black",children:""})),UK="_InputLabel_17tfw_1",BK="_InputText_17tfw_9",eL={InputLabel:UK,InputText:BK},z0=({label:n,...e})=>lt(Yi,{children:[n&&ne("p",{className:eL.InputLabel,children:n}),ne("input",{type:"text",className:eL.InputText,...e})]}),VK="/assets/loader-bg.be35623a.svg",HK="/assets/loader.279a999b.png",GK="_Loader_1yhw2_10",jK="_LoaderCircle_1yhw2_26",WK="_Rotation_1yhw2_1",$K="_LoaderBg_1yhw2_32",L1={Loader:GK,LoaderCircle:jK,Rotation:WK,LoaderBg:$K},qK=()=>lt("div",{className:L1.Loader,children:[ne("div",{className:L1.LoaderCircle,children:ne("img",{src:HK})}),ne("div",{className:L1.LoaderBg,children:ne("img",{src:VK,width:"92"})})]});/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Wy="146",kl={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Fl={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Wz=0,yb=1,$z=2,XK=3,YK=0,wE=1,SE=2,Vc=3,Ja=0,pi=1,js=2,Oo=0,lu=1,_b=2,xb=3,wb=4,qz=5,$l=100,Xz=101,Yz=102,Sb=103,bb=104,Kz=200,Jz=201,Zz=202,Qz=203,bE=204,ME=205,e4=206,t4=207,n4=208,r4=209,i4=210,s4=0,o4=1,a4=2,U0=3,l4=4,u4=5,c4=6,f4=7,Pp=0,d4=1,h4=2,gs=0,p4=1,m4=2,g4=3,TE=4,v4=5,$y=300,Za=301,Qa=302,Jh=303,Zh=304,Nf=306,el=1e3,ir=1001,vf=1002,An=1003,Qh=1004,KK=1004,ep=1005,JK=1005,dn=1006,qy=1007,ZK=1007,Wo=1008,QK=1008,tl=1009,y4=1010,_4=1011,EE=1012,x4=1013,La=1014,Co=1015,yf=1016,w4=1017,S4=1018,uu=1020,b4=1021,M4=1022,ai=1023,T4=1024,E4=1025,Ga=1026,wu=1027,A4=1028,C4=1029,P4=1030,R4=1031,L4=1033,Bv=33776,Vv=33777,Hv=33778,Gv=33779,Mb=35840,Tb=35841,Eb=35842,Ab=35843,O4=36196,Cb=37492,Pb=37496,Rb=37808,Lb=37809,Ob=37810,Ib=37811,Db=37812,Nb=37813,kb=37814,Fb=37815,zb=37816,Ub=37817,Bb=37818,Vb=37819,Hb=37820,Gb=37821,jb=36492,I4=2200,D4=2201,N4=2202,_f=2300,Su=2301,jv=2302,eu=2400,tu=2401,tp=2402,Xy=2500,AE=2501,eJ=0,k4=1,CE=2,Ho=3e3,Nt=3001,F4=3200,z4=3201,$o=0,U4=1,tJ="",Fs="srgb",Oa="srgb-linear",nJ=0,Wv=7680,rJ=7681,iJ=7682,sJ=7683,oJ=34055,aJ=34056,lJ=5386,uJ=512,cJ=513,fJ=514,dJ=515,hJ=516,pJ=517,mJ=518,B4=519,np=35044,gJ=35048,vJ=35040,yJ=35045,_J=35049,xJ=35041,wJ=35046,SJ=35050,bJ=35042,MJ="100",Wb="300 es",B0=1035;class eo{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const mr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let tL=1234567;const cu=Math.PI/180,rp=180/Math.PI;function mi(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(mr[n&255]+mr[n>>8&255]+mr[n>>16&255]+mr[n>>24&255]+"-"+mr[e&255]+mr[e>>8&255]+"-"+mr[e>>16&15|64]+mr[e>>24&255]+"-"+mr[t&63|128]+mr[t>>8&255]+"-"+mr[t>>16&255]+mr[t>>24&255]+mr[r&255]+mr[r>>8&255]+mr[r>>16&255]+mr[r>>24&255]).toLowerCase()}function Cn(n,e,t){return Math.max(e,Math.min(t,n))}function PE(n,e){return(n%e+e)%e}function TJ(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function EJ(n,e,t){return n!==e?(t-n)/(e-n):0}function hh(n,e,t){return(1-t)*n+t*e}function AJ(n,e,t,r){return hh(n,e,1-Math.exp(-t*r))}function CJ(n,e=1){return e-Math.abs(PE(n,e*2)-e)}function PJ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function RJ(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function LJ(n,e){return n+Math.floor(Math.random()*(e-n+1))}function OJ(n,e){return n+Math.random()*(e-n)}function IJ(n){return n*(.5-Math.random())}function DJ(n){n!==void 0&&(tL=n);let e=tL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function NJ(n){return n*cu}function kJ(n){return n*rp}function $b(n){return(n&n-1)===0&&n!==0}function V4(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function V0(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function FJ(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),u=s((e+r)/2),f=o((e+r)/2),h=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*f,l*h,l*p,a*u);break;case"YZY":n.set(l*p,a*f,l*h,a*u);break;case"ZXZ":n.set(l*h,l*p,a*f,a*u);break;case"XZX":n.set(a*f,l*g,l*m,a*u);break;case"YXY":n.set(l*m,a*f,l*g,a*u);break;case"ZYZ":n.set(l*g,l*m,a*f,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Po(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function qt(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var H4=Object.freeze({__proto__:null,DEG2RAD:cu,RAD2DEG:rp,generateUUID:mi,clamp:Cn,euclideanModulo:PE,mapLinear:TJ,inverseLerp:EJ,lerp:hh,damp:AJ,pingpong:CJ,smoothstep:PJ,smootherstep:RJ,randInt:LJ,randFloat:OJ,randFloatSpread:IJ,seededRandom:DJ,degToRad:NJ,radToDeg:kJ,isPowerOfTwo:$b,ceilPowerOfTwo:V4,floorPowerOfTwo:V0,setQuaternionFromProperEuler:FJ,normalize:qt,denormalize:Po});class we{constructor(e=0,t=0){we.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class jr{constructor(){jr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,s,o,a,l,u){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=t,f[4]=s,f[5]=l,f[6]=r,f[7]=o,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],f=r[4],h=r[7],p=r[2],m=r[5],g=r[8],v=i[0],_=i[3],y=i[6],w=i[1],S=i[4],M=i[7],T=i[2],P=i[5],L=i[8];return s[0]=o*v+a*w+l*T,s[3]=o*_+a*S+l*P,s[6]=o*y+a*M+l*L,s[1]=u*v+f*w+h*T,s[4]=u*_+f*S+h*P,s[7]=u*y+f*M+h*L,s[2]=p*v+m*w+g*T,s[5]=p*_+m*S+g*P,s[8]=p*y+m*M+g*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8];return t*o*f-t*a*u-r*s*f+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],h=f*o-a*u,p=a*l-f*s,m=u*s-o*l,g=t*h+r*p+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=h*v,e[1]=(i*u-f*r)*v,e[2]=(a*r-i*o)*v,e[3]=p*v,e[4]=(f*t-i*l)*v,e[5]=(i*s-a*t)*v,e[6]=m*v,e[7]=(r*l-u*t)*v,e[8]=(o*t-r*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],u=i[4],f=i[7];return i[0]=t*s+r*l,i[3]=t*o+r*u,i[6]=t*a+r*f,i[1]=-r*s+t*l,i[4]=-r*o+t*u,i[7]=-r*a+t*f,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function G4(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const zJ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Hc(n,e){return new zJ[n](e)}function ip(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function fu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function $v(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const O1={[Fs]:{[Oa]:fu},[Oa]:{[Fs]:$v}},ki={legacyMode:!0,get workingColorSpace(){return Oa},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(O1[e]&&O1[e][t]!==void 0){const r=O1[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},j4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fn={r:0,g:0,b:0},ns={h:0,s:0,l:0},Cg={h:0,s:0,l:0};function I1(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Pg(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}class ze{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Fs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ki.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Oa){return this.r=e,this.g=t,this.b=r,ki.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Oa){if(e=PE(e,1),t=Cn(t,0,1),r=Cn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=I1(o,s,e+1/3),this.g=I1(o,s,e),this.b=I1(o,s,e-1/3)}return ki.toWorkingColorSpace(this,i),this}setStyle(e,t=Fs){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,ki.toWorkingColorSpace(this,t),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,ki.toWorkingColorSpace(this,t),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseFloat(s[2])/100,f=parseFloat(s[3])/100;return r(s[4]),this.setHSL(l,u,f,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,ki.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,ki.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Fs){const r=j4[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=fu(e.r),this.g=fu(e.g),this.b=fu(e.b),this}copyLinearToSRGB(e){return this.r=$v(e.r),this.g=$v(e.g),this.b=$v(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Fs){return ki.fromWorkingColorSpace(Pg(this,Fn),e),Cn(Fn.r*255,0,255)<<16^Cn(Fn.g*255,0,255)<<8^Cn(Fn.b*255,0,255)<<0}getHexString(e=Fs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Oa){ki.fromWorkingColorSpace(Pg(this,Fn),t);const r=Fn.r,i=Fn.g,s=Fn.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const f=(a+o)/2;if(a===o)l=0,u=0;else{const h=o-a;switch(u=f<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,t=Oa){return ki.fromWorkingColorSpace(Pg(this,Fn),t),e.r=Fn.r,e.g=Fn.g,e.b=Fn.b,e}getStyle(e=Fs){return ki.fromWorkingColorSpace(Pg(this,Fn),e),e!==Fs?`color(${e} ${Fn.r} ${Fn.g} ${Fn.b})`:`rgb(${Fn.r*255|0},${Fn.g*255|0},${Fn.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(ns),ns.h+=e,ns.s+=t,ns.l+=r,this.setHSL(ns.h,ns.s,ns.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ns),e.getHSL(Cg);const r=hh(ns.h,Cg.h,t),i=hh(ns.s,Cg.s,t),s=hh(ns.l,Cg.l,t);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}ze.NAMES=j4;let nc;class RE{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{nc===void 0&&(nc=ip("canvas")),nc.width=e.width,nc.height=e.height;const r=nc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=nc}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ip("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=fu(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(fu(t[r]/255)*255):t[r]=fu(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class nu{constructor(e=null){this.isSource=!0,this.uuid=mi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(D1(i[o].image)):s.push(D1(i[o]))}else s=D1(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function D1(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?RE.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let UJ=0;class Sn extends eo{constructor(e=Sn.DEFAULT_IMAGE,t=Sn.DEFAULT_MAPPING,r=ir,i=ir,s=dn,o=Wo,a=ai,l=tl,u=1,f=Ho){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:UJ++}),this.uuid=mi(),this.name="",this.source=new nu(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new we(0,0),this.repeat=new we(1,1),this.center=new we(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==$y)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case el:e.x=e.x-Math.floor(e.x);break;case ir:e.x=e.x<0?0:1;break;case vf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case el:e.y=e.y-Math.floor(e.y);break;case ir:e.y=e.y<0?0:1;break;case vf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Sn.DEFAULT_IMAGE=null;Sn.DEFAULT_MAPPING=$y;class Vt{constructor(e=0,t=0,r=0,i=1){Vt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,u=l[0],f=l[4],h=l[8],p=l[1],m=l[5],g=l[9],v=l[2],_=l[6],y=l[10];if(Math.abs(f-p)<.01&&Math.abs(h-v)<.01&&Math.abs(g-_)<.01){if(Math.abs(f+p)<.1&&Math.abs(h+v)<.1&&Math.abs(g+_)<.1&&Math.abs(u+m+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(u+1)/2,M=(m+1)/2,T=(y+1)/2,P=(f+p)/4,L=(h+v)/4,A=(g+_)/4;return S>M&&S>T?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=P/r,s=L/r):M>T?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=P/i,s=A/i):T<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(T),r=L/s,i=A/s),this.set(r,i,s,t),this}let w=Math.sqrt((_-g)*(_-g)+(h-v)*(h-v)+(p-f)*(p-f));return Math.abs(w)<.001&&(w=1),this.x=(_-g)/w,this.y=(h-v)/w,this.z=(p-f)/w,this.w=Math.acos((u+m+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ki extends eo{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Vt(0,0,e,t),this.scissorTest=!1,this.viewport=new Vt(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new Sn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:dn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new nu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Rp extends Sn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=An,this.minFilter=An,this.wrapR=ir,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class BJ extends Ki{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Rp(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class Yy extends Sn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=An,this.minFilter=An,this.wrapR=ir,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class VJ extends Ki{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Yy(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class HJ extends Ki{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Zn{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],u=r[i+1],f=r[i+2],h=r[i+3];const p=s[o+0],m=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[t+0]=l,e[t+1]=u,e[t+2]=f,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=g,e[t+3]=v;return}if(h!==v||l!==p||u!==m||f!==g){let _=1-a;const y=l*p+u*m+f*g+h*v,w=y>=0?1:-1,S=1-y*y;if(S>Number.EPSILON){const T=Math.sqrt(S),P=Math.atan2(T,y*w);_=Math.sin(_*P)/T,a=Math.sin(a*P)/T}const M=a*w;if(l=l*_+p*M,u=u*_+m*M,f=f*_+g*M,h=h*_+v*M,_===1-a){const T=1/Math.sqrt(l*l+u*u+f*f+h*h);l*=T,u*=T,f*=T,h*=T}}e[t]=l,e[t+1]=u,e[t+2]=f,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],f=r[i+3],h=s[o],p=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+f*h+l*m-u*p,e[t+1]=l*g+f*p+u*h-a*m,e[t+2]=u*g+f*m+a*p-l*h,e[t+3]=f*g-a*h-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),f=a(i/2),h=a(s/2),p=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=p*f*h+u*m*g,this._y=u*m*h-p*f*g,this._z=u*f*g+p*m*h,this._w=u*f*h-p*m*g;break;case"YXZ":this._x=p*f*h+u*m*g,this._y=u*m*h-p*f*g,this._z=u*f*g-p*m*h,this._w=u*f*h+p*m*g;break;case"ZXY":this._x=p*f*h-u*m*g,this._y=u*m*h+p*f*g,this._z=u*f*g+p*m*h,this._w=u*f*h-p*m*g;break;case"ZYX":this._x=p*f*h-u*m*g,this._y=u*m*h+p*f*g,this._z=u*f*g-p*m*h,this._w=u*f*h+p*m*g;break;case"YZX":this._x=p*f*h+u*m*g,this._y=u*m*h+p*f*g,this._z=u*f*g-p*m*h,this._w=u*f*h-p*m*g;break;case"XZY":this._x=p*f*h-u*m*g,this._y=u*m*h-p*f*g,this._z=u*f*g+p*m*h,this._w=u*f*h+p*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],u=t[2],f=t[6],h=t[10],p=r+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(f-l)*m,this._y=(s-u)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(f-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+u)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+u)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Cn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,u=t._z,f=t._w;return this._x=r*f+o*a+i*u-s*l,this._y=i*f+o*l+s*a-r*u,this._z=s*f+o*u+r*l-i*a,this._w=o*f-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),f=Math.atan2(u,a),h=Math.sin((1-t)*f)/u,p=Math.sin(t*f)/u;return this._w=o*h+this._w*p,this._x=r*h+this._x*p,this._y=i*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class B{constructor(e=0,t=0,r=0){B.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(nL.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(nL.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*t+o*i-a*r,f=l*r+a*t-s*i,h=l*i+s*r-o*t,p=-s*t-o*r-a*i;return this.x=u*l+p*-s+f*-a-h*-o,this.y=f*l+p*-o+h*-s-u*-a,this.z=h*l+p*-a+u*-o-f*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return N1.copy(this).projectOnVector(e),this.sub(N1)}reflect(e){return this.sub(N1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Cn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const N1=new B,nL=new Zn;class ll{constructor(e=new B(1/0,1/0,1/0),t=new B(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const f=e[l],h=e[l+1],p=e[l+2];f<t&&(t=f),h<r&&(r=h),p<i&&(i=p),f>s&&(s=f),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const f=e.getX(l),h=e.getY(l),p=e.getZ(l);f<t&&(t=f),h<r&&(r=h),p<i&&(i=p),f>s&&(s=f),h>o&&(o=h),p>a&&(a=p)}return this.min.set(t,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Ml.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Ml.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ml)}else r.boundingBox===null&&r.computeBoundingBox(),k1.copy(r.boundingBox),k1.applyMatrix4(e.matrixWorld),this.union(k1);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ml),Ml.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Td),Rg.subVectors(this.max,Td),rc.subVectors(e.a,Td),ic.subVectors(e.b,Td),sc.subVectors(e.c,Td),aa.subVectors(ic,rc),la.subVectors(sc,ic),Tl.subVectors(rc,sc);let t=[0,-aa.z,aa.y,0,-la.z,la.y,0,-Tl.z,Tl.y,aa.z,0,-aa.x,la.z,0,-la.x,Tl.z,0,-Tl.x,-aa.y,aa.x,0,-la.y,la.x,0,-Tl.y,Tl.x,0];return!F1(t,rc,ic,sc,Rg)||(t=[1,0,0,0,1,0,0,0,1],!F1(t,rc,ic,sc,Rg))?!1:(Lg.crossVectors(aa,la),t=[Lg.x,Lg.y,Lg.z],F1(t,rc,ic,sc,Rg))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ml.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Ml).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(po[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),po[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),po[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),po[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),po[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),po[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),po[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),po[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(po),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const po=[new B,new B,new B,new B,new B,new B,new B,new B],Ml=new B,k1=new ll,rc=new B,ic=new B,sc=new B,aa=new B,la=new B,Tl=new B,Td=new B,Rg=new B,Lg=new B,El=new B;function F1(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){El.fromArray(n,s);const a=i.x*Math.abs(El.x)+i.y*Math.abs(El.y)+i.z*Math.abs(El.z),l=e.dot(El),u=t.dot(El),f=r.dot(El);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>a)return!1}return!0}const GJ=new ll,Ed=new B,z1=new B;class ul{constructor(e=new B,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):GJ.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ed.subVectors(e,this.center);const t=Ed.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(Ed,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(z1.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ed.copy(e.center).add(z1)),this.expandByPoint(Ed.copy(e.center).sub(z1))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const mo=new B,U1=new B,Og=new B,ua=new B,B1=new B,Ig=new B,V1=new B;class Lp{constructor(e=new B,t=new B(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,mo)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=mo.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(mo.copy(this.direction).multiplyScalar(t).add(this.origin),mo.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){U1.copy(e).add(t).multiplyScalar(.5),Og.copy(t).sub(e).normalize(),ua.copy(this.origin).sub(U1);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Og),a=ua.dot(this.direction),l=-ua.dot(Og),u=ua.lengthSq(),f=Math.abs(1-o*o);let h,p,m,g;if(f>0)if(h=o*l-a,p=o*a-l,g=s*f,h>=0)if(p>=-g)if(p<=g){const v=1/f;h*=v,p*=v,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+u}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;else p<=-g?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u):p<=g?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+u):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+u);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(h).add(this.origin),i&&i.copy(Og).multiplyScalar(p).add(U1),m}intersectSphere(e,t){mo.subVectors(e.center,this.origin);const r=mo.dot(this.direction),i=mo.dot(mo)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const u=1/this.direction.x,f=1/this.direction.y,h=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),f>=0?(s=(e.min.y-p.y)*f,o=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,o=(e.min.y-p.y)*f),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,mo)!==null}intersectTriangle(e,t,r,i,s){B1.subVectors(t,e),Ig.subVectors(r,e),V1.crossVectors(B1,Ig);let o=this.direction.dot(V1),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;ua.subVectors(this.origin,e);const l=a*this.direction.dot(Ig.crossVectors(ua,Ig));if(l<0)return null;const u=a*this.direction.dot(B1.cross(ua));if(u<0||l+u>o)return null;const f=-a*ua.dot(V1);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class ut{constructor(){ut.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,s,o,a,l,u,f,h,p,m,g,v,_){const y=this.elements;return y[0]=e,y[4]=t,y[8]=r,y[12]=i,y[1]=s,y[5]=o,y[9]=a,y[13]=l,y[2]=u,y[6]=f,y[10]=h,y[14]=p,y[3]=m,y[7]=g,y[11]=v,y[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ut().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/oc.setFromMatrixColumn(e,0).length(),s=1/oc.setFromMatrixColumn(e,1).length(),o=1/oc.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),f=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*f,m=o*h,g=a*f,v=a*h;t[0]=l*f,t[4]=-l*h,t[8]=u,t[1]=m+g*u,t[5]=p-v*u,t[9]=-a*l,t[2]=v-p*u,t[6]=g+m*u,t[10]=o*l}else if(e.order==="YXZ"){const p=l*f,m=l*h,g=u*f,v=u*h;t[0]=p+v*a,t[4]=g*a-m,t[8]=o*u,t[1]=o*h,t[5]=o*f,t[9]=-a,t[2]=m*a-g,t[6]=v+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*f,m=l*h,g=u*f,v=u*h;t[0]=p-v*a,t[4]=-o*h,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*f,t[9]=v-p*a,t[2]=-o*u,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*f,m=o*h,g=a*f,v=a*h;t[0]=l*f,t[4]=g*u-m,t[8]=p*u+v,t[1]=l*h,t[5]=v*u+p,t[9]=m*u-g,t[2]=-u,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,g=a*l,v=a*u;t[0]=l*f,t[4]=v-p*h,t[8]=g*h+m,t[1]=h,t[5]=o*f,t[9]=-a*f,t[2]=-u*f,t[6]=m*h+g,t[10]=p-v*h}else if(e.order==="XZY"){const p=o*l,m=o*u,g=a*l,v=a*u;t[0]=l*f,t[4]=-h,t[8]=u*f,t[1]=p*h+v,t[5]=o*f,t[9]=m*h-g,t[2]=g*h-m,t[6]=a*f,t[10]=v*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(jJ,e,WJ)}lookAt(e,t,r){const i=this.elements;return ri.subVectors(e,t),ri.lengthSq()===0&&(ri.z=1),ri.normalize(),ca.crossVectors(r,ri),ca.lengthSq()===0&&(Math.abs(r.z)===1?ri.x+=1e-4:ri.z+=1e-4,ri.normalize(),ca.crossVectors(r,ri)),ca.normalize(),Dg.crossVectors(ri,ca),i[0]=ca.x,i[4]=Dg.x,i[8]=ri.x,i[1]=ca.y,i[5]=Dg.y,i[9]=ri.y,i[2]=ca.z,i[6]=Dg.z,i[10]=ri.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],f=r[1],h=r[5],p=r[9],m=r[13],g=r[2],v=r[6],_=r[10],y=r[14],w=r[3],S=r[7],M=r[11],T=r[15],P=i[0],L=i[4],A=i[8],R=i[12],k=i[1],G=i[5],Z=i[9],W=i[13],O=i[2],j=i[6],$=i[10],ie=i[14],I=i[3],N=i[7],U=i[11],X=i[15];return s[0]=o*P+a*k+l*O+u*I,s[4]=o*L+a*G+l*j+u*N,s[8]=o*A+a*Z+l*$+u*U,s[12]=o*R+a*W+l*ie+u*X,s[1]=f*P+h*k+p*O+m*I,s[5]=f*L+h*G+p*j+m*N,s[9]=f*A+h*Z+p*$+m*U,s[13]=f*R+h*W+p*ie+m*X,s[2]=g*P+v*k+_*O+y*I,s[6]=g*L+v*G+_*j+y*N,s[10]=g*A+v*Z+_*$+y*U,s[14]=g*R+v*W+_*ie+y*X,s[3]=w*P+S*k+M*O+T*I,s[7]=w*L+S*G+M*j+T*N,s[11]=w*A+S*Z+M*$+T*U,s[15]=w*R+S*W+M*ie+T*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],f=e[2],h=e[6],p=e[10],m=e[14],g=e[3],v=e[7],_=e[11],y=e[15];return g*(+s*l*h-i*u*h-s*a*p+r*u*p+i*a*m-r*l*m)+v*(+t*l*m-t*u*p+s*o*p-i*o*m+i*u*f-s*l*f)+_*(+t*u*h-t*a*m-s*o*h+r*o*m+s*a*f-r*u*f)+y*(-i*a*f-t*l*h+t*a*p+i*o*h-r*o*p+r*l*f)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],h=e[9],p=e[10],m=e[11],g=e[12],v=e[13],_=e[14],y=e[15],w=h*_*u-v*p*u+v*l*m-a*_*m-h*l*y+a*p*y,S=g*p*u-f*_*u-g*l*m+o*_*m+f*l*y-o*p*y,M=f*v*u-g*h*u+g*a*m-o*v*m-f*a*y+o*h*y,T=g*h*l-f*v*l-g*a*p+o*v*p+f*a*_-o*h*_,P=t*w+r*S+i*M+s*T;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/P;return e[0]=w*L,e[1]=(v*p*s-h*_*s-v*i*m+r*_*m+h*i*y-r*p*y)*L,e[2]=(a*_*s-v*l*s+v*i*u-r*_*u-a*i*y+r*l*y)*L,e[3]=(h*l*s-a*p*s-h*i*u+r*p*u+a*i*m-r*l*m)*L,e[4]=S*L,e[5]=(f*_*s-g*p*s+g*i*m-t*_*m-f*i*y+t*p*y)*L,e[6]=(g*l*s-o*_*s-g*i*u+t*_*u+o*i*y-t*l*y)*L,e[7]=(o*p*s-f*l*s+f*i*u-t*p*u-o*i*m+t*l*m)*L,e[8]=M*L,e[9]=(g*h*s-f*v*s-g*r*m+t*v*m+f*r*y-t*h*y)*L,e[10]=(o*v*s-g*a*s+g*r*u-t*v*u-o*r*y+t*a*y)*L,e[11]=(f*a*s-o*h*s-f*r*u+t*h*u+o*r*m-t*a*m)*L,e[12]=T*L,e[13]=(f*v*i-g*h*i+g*r*p-t*v*p-f*r*_+t*h*_)*L,e[14]=(g*a*i-o*v*i-g*r*l+t*v*l+o*r*_-t*a*_)*L,e[15]=(o*h*i-f*a*i+f*r*l-t*h*l-o*r*p+t*a*p)*L,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,f=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,f*a+r,f*l-i*o,0,u*l-i*a,f*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,u=s+s,f=o+o,h=a+a,p=s*u,m=s*f,g=s*h,v=o*f,_=o*h,y=a*h,w=l*u,S=l*f,M=l*h,T=r.x,P=r.y,L=r.z;return i[0]=(1-(v+y))*T,i[1]=(m+M)*T,i[2]=(g-S)*T,i[3]=0,i[4]=(m-M)*P,i[5]=(1-(p+y))*P,i[6]=(_+w)*P,i[7]=0,i[8]=(g+S)*L,i[9]=(_-w)*L,i[10]=(1-(p+v))*L,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=oc.set(i[0],i[1],i[2]).length();const o=oc.set(i[4],i[5],i[6]).length(),a=oc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],rs.copy(this);const u=1/s,f=1/o,h=1/a;return rs.elements[0]*=u,rs.elements[1]*=u,rs.elements[2]*=u,rs.elements[4]*=f,rs.elements[5]*=f,rs.elements[6]*=f,rs.elements[8]*=h,rs.elements[9]*=h,rs.elements[10]*=h,t.setFromRotationMatrix(rs),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o){const a=this.elements,l=2*s/(t-e),u=2*s/(r-i),f=(t+e)/(t-e),h=(r+i)/(r-i),p=-(o+s)/(o-s),m=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=u,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=p,a[14]=m,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,r,i,s,o){const a=this.elements,l=1/(t-e),u=1/(r-i),f=1/(o-s),h=(t+e)*l,p=(r+i)*u,m=(o+s)*f;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-p,a[2]=0,a[6]=0,a[10]=-2*f,a[14]=-m,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const oc=new B,rs=new ut,jJ=new B(0,0,0),WJ=new B(1,1,1),ca=new B,Dg=new B,ri=new B,rL=new ut,iL=new Zn;class kf{constructor(e=0,t=0,r=0,i=kf.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],f=i[9],h=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(Cn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Cn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Cn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Cn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Cn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Cn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return rL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(rL,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return iL.setFromEuler(this),this.setFromQuaternion(iL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}kf.DefaultOrder="XYZ";kf.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class du{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let $J=0;const sL=new B,ac=new Zn,go=new ut,Ng=new B,Ad=new B,qJ=new B,XJ=new Zn,oL=new B(1,0,0),aL=new B(0,1,0),lL=new B(0,0,1),YJ={type:"added"},uL={type:"removed"};class Ct extends eo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:$J++}),this.uuid=mi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ct.DefaultUp.clone();const e=new B,t=new kf,r=new Zn,i=new B(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ut},normalMatrix:{value:new jr}}),this.matrix=new ut,this.matrixWorld=new ut,this.matrixAutoUpdate=Ct.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Ct.DefaultMatrixWorldAutoUpdate,this.layers=new du,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ac.setFromAxisAngle(e,t),this.quaternion.multiply(ac),this}rotateOnWorldAxis(e,t){return ac.setFromAxisAngle(e,t),this.quaternion.premultiply(ac),this}rotateX(e){return this.rotateOnAxis(oL,e)}rotateY(e){return this.rotateOnAxis(aL,e)}rotateZ(e){return this.rotateOnAxis(lL,e)}translateOnAxis(e,t){return sL.copy(e).applyQuaternion(this.quaternion),this.position.add(sL.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(oL,e)}translateY(e){return this.translateOnAxis(aL,e)}translateZ(e){return this.translateOnAxis(lL,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(go.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Ng.copy(e):Ng.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ad.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?go.lookAt(Ad,Ng,this.up):go.lookAt(Ng,Ad,this.up),this.quaternion.setFromRotationMatrix(go),i&&(go.extractRotation(i.matrixWorld),ac.setFromRotationMatrix(go),this.quaternion.premultiply(ac.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(YJ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(uL)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(uL)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),go.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),go.multiply(e.parent.matrixWorld)),e.applyMatrix4(go),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ad,e,qJ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ad,XJ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const h=l[u];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),f=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const u in a){const f=a[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ct.DefaultUp=new B(0,1,0);Ct.DefaultMatrixAutoUpdate=!0;Ct.DefaultMatrixWorldAutoUpdate=!0;const is=new B,vo=new B,H1=new B,yo=new B,lc=new B,uc=new B,cL=new B,G1=new B,j1=new B,W1=new B;class ji{constructor(e=new B,t=new B,r=new B){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),is.subVectors(e,t),i.cross(is);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){is.subVectors(i,t),vo.subVectors(r,t),H1.subVectors(e,t);const o=is.dot(is),a=is.dot(vo),l=is.dot(H1),u=vo.dot(vo),f=vo.dot(H1),h=o*u-a*a;if(h===0)return s.set(-2,-1,-1);const p=1/h,m=(u*l-a*f)*p,g=(o*f-a*l)*p;return s.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,yo),yo.x>=0&&yo.y>=0&&yo.x+yo.y<=1}static getUV(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,yo),l.set(0,0),l.addScaledVector(s,yo.x),l.addScaledVector(o,yo.y),l.addScaledVector(a,yo.z),l}static isFrontFacing(e,t,r,i){return is.subVectors(r,t),vo.subVectors(e,t),is.cross(vo).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return is.subVectors(this.c,this.b),vo.subVectors(this.a,this.b),is.cross(vo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ji.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ji.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return ji.getUV(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return ji.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ji.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;lc.subVectors(i,r),uc.subVectors(s,r),G1.subVectors(e,r);const l=lc.dot(G1),u=uc.dot(G1);if(l<=0&&u<=0)return t.copy(r);j1.subVectors(e,i);const f=lc.dot(j1),h=uc.dot(j1);if(f>=0&&h<=f)return t.copy(i);const p=l*h-f*u;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(r).addScaledVector(lc,o);W1.subVectors(e,s);const m=lc.dot(W1),g=uc.dot(W1);if(g>=0&&m<=g)return t.copy(s);const v=m*u-l*g;if(v<=0&&u>=0&&g<=0)return a=u/(u-g),t.copy(r).addScaledVector(uc,a);const _=f*g-m*h;if(_<=0&&h-f>=0&&m-g>=0)return cL.subVectors(s,i),a=(h-f)/(h-f+(m-g)),t.copy(i).addScaledVector(cL,a);const y=1/(_+v+p);return o=v*y,a=p*y,t.copy(r).addScaledVector(lc,o).addScaledVector(uc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let KJ=0;class Nn extends eo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:KJ++}),this.uuid=mi(),this.name="",this.type="Material",this.blending=lu,this.side=Ja,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=bE,this.blendDst=ME,this.blendEquation=$l,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=U0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=B4,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wv,this.stencilZFail=Wv,this.stencilZPass=Wv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==lu&&(r.blending=this.blending),this.side!==Ja&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ui extends Nn{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ln=new B,kg=new we;class Gt{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=np,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)kg.fromBufferAttribute(this,t),kg.applyMatrix3(e),this.setXY(t,kg.x,kg.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Ln.fromBufferAttribute(this,t),Ln.applyMatrix3(e),this.setXYZ(t,Ln.x,Ln.y,Ln.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ln.fromBufferAttribute(this,t),Ln.applyMatrix4(e),this.setXYZ(t,Ln.x,Ln.y,Ln.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ln.fromBufferAttribute(this,t),Ln.applyNormalMatrix(e),this.setXYZ(t,Ln.x,Ln.y,Ln.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ln.fromBufferAttribute(this,t),Ln.transformDirection(e),this.setXYZ(t,Ln.x,Ln.y,Ln.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Po(t,this.array)),t}setX(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Po(t,this.array)),t}setY(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Po(t,this.array)),t}setZ(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Po(t,this.array)),t}setW(e,t){return this.normalized&&(t=qt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=qt(t,this.array),r=qt(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=qt(t,this.array),r=qt(r,this.array),i=qt(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=qt(t,this.array),r=qt(r,this.array),i=qt(i,this.array),s=qt(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==np&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class JJ extends Gt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class ZJ extends Gt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class QJ extends Gt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class eZ extends Gt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class LE extends Gt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class tZ extends Gt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class OE extends Gt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class nZ extends Gt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}}class Ye extends Gt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class rZ extends Gt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let iZ=0;const Di=new ut,$1=new Ct,cc=new B,ii=new ll,Cd=new ll,qn=new B;class mt extends eo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:iZ++}),this.uuid=mi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(G4(e)?OE:LE)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new jr().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Di.makeRotationFromQuaternion(e),this.applyMatrix4(Di),this}rotateX(e){return Di.makeRotationX(e),this.applyMatrix4(Di),this}rotateY(e){return Di.makeRotationY(e),this.applyMatrix4(Di),this}rotateZ(e){return Di.makeRotationZ(e),this.applyMatrix4(Di),this}translate(e,t,r){return Di.makeTranslation(e,t,r),this.applyMatrix4(Di),this}scale(e,t,r){return Di.makeScale(e,t,r),this.applyMatrix4(Di),this}lookAt(e){return $1.lookAt(e),$1.updateMatrix(),this.applyMatrix4($1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(cc).negate(),this.translate(cc.x,cc.y,cc.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ye(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ll);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new B(-1/0,-1/0,-1/0),new B(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];ii.setFromBufferAttribute(s),this.morphTargetsRelative?(qn.addVectors(this.boundingBox.min,ii.min),this.boundingBox.expandByPoint(qn),qn.addVectors(this.boundingBox.max,ii.max),this.boundingBox.expandByPoint(qn)):(this.boundingBox.expandByPoint(ii.min),this.boundingBox.expandByPoint(ii.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ul);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new B,1/0);return}if(e){const r=this.boundingSphere.center;if(ii.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Cd.setFromBufferAttribute(a),this.morphTargetsRelative?(qn.addVectors(ii.min,Cd.min),ii.expandByPoint(qn),qn.addVectors(ii.max,Cd.max),ii.expandByPoint(qn)):(ii.expandByPoint(Cd.min),ii.expandByPoint(Cd.max))}ii.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)qn.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(qn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let u=0,f=a.count;u<f;u++)qn.fromBufferAttribute(a,u),l&&(cc.fromBufferAttribute(e,u),qn.add(cc)),i=Math.max(i,r.distanceToSquared(qn))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Gt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],f=[];for(let k=0;k<a;k++)u[k]=new B,f[k]=new B;const h=new B,p=new B,m=new B,g=new we,v=new we,_=new we,y=new B,w=new B;function S(k,G,Z){h.fromArray(i,k*3),p.fromArray(i,G*3),m.fromArray(i,Z*3),g.fromArray(o,k*2),v.fromArray(o,G*2),_.fromArray(o,Z*2),p.sub(h),m.sub(h),v.sub(g),_.sub(g);const W=1/(v.x*_.y-_.x*v.y);!isFinite(W)||(y.copy(p).multiplyScalar(_.y).addScaledVector(m,-v.y).multiplyScalar(W),w.copy(m).multiplyScalar(v.x).addScaledVector(p,-_.x).multiplyScalar(W),u[k].add(y),u[G].add(y),u[Z].add(y),f[k].add(w),f[G].add(w),f[Z].add(w))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let k=0,G=M.length;k<G;++k){const Z=M[k],W=Z.start,O=Z.count;for(let j=W,$=W+O;j<$;j+=3)S(r[j+0],r[j+1],r[j+2])}const T=new B,P=new B,L=new B,A=new B;function R(k){L.fromArray(s,k*3),A.copy(L);const G=u[k];T.copy(G),T.sub(L.multiplyScalar(L.dot(G))).normalize(),P.crossVectors(A,G);const W=P.dot(f[k])<0?-1:1;l[k*4]=T.x,l[k*4+1]=T.y,l[k*4+2]=T.z,l[k*4+3]=W}for(let k=0,G=M.length;k<G;++k){const Z=M[k],W=Z.start,O=Z.count;for(let j=W,$=W+O;j<$;j+=3)R(r[j+0]),R(r[j+1]),R(r[j+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Gt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new B,s=new B,o=new B,a=new B,l=new B,u=new B,f=new B,h=new B;if(e)for(let p=0,m=e.count;p<m;p+=3){const g=e.getX(p+0),v=e.getX(p+1),_=e.getX(p+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,v),o.fromBufferAttribute(t,_),f.subVectors(o,s),h.subVectors(i,s),f.cross(h),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),u.fromBufferAttribute(r,_),a.add(f),l.add(f),u.add(f),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(_,u.x,u.y,u.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),f.subVectors(o,s),h.subVectors(i,s),f.cross(h),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)qn.fromBufferAttribute(e,t),qn.normalize(),e.setXYZ(t,qn.x,qn.y,qn.z)}toNonIndexed(){function e(a,l){const u=a.array,f=a.itemSize,h=a.normalized,p=new u.constructor(l.length*f);let m=0,g=0;for(let v=0,_=l.length;v<_;v++){a.isInterleavedBufferAttribute?m=l[v]*a.data.stride+a.offset:m=l[v]*f;for(let y=0;y<f;y++)p[g++]=u[m++]}return new Gt(p,f,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new mt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);t.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let f=0,h=u.length;f<h;f++){const p=u[f],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let h=0,p=u.length;h<p;h++){const m=u[h];f.push(m.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const u in i){const f=i[u];this.setAttribute(u,f.clone(t))}const s=e.morphAttributes;for(const u in s){const f=[],h=s[u];for(let p=0,m=h.length;p<m;p++)f.push(h[p].clone(t));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,f=o.length;u<f;u++){const h=o[u];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const fL=new ut,fc=new Lp,q1=new ul,fa=new B,da=new B,ha=new B,X1=new B,Y1=new B,K1=new B,Fg=new B,zg=new B,Ug=new B,Bg=new we,Vg=new we,Hg=new we,J1=new B,Gg=new B;class Kn extends Ct{constructor(e=new mt,t=new ui){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),q1.copy(r.boundingSphere),q1.applyMatrix4(s),e.ray.intersectsSphere(q1)===!1)||(fL.copy(s).invert(),fc.copy(e.ray).applyMatrix4(fL),r.boundingBox!==null&&fc.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,u=r.morphAttributes.position,f=r.morphTargetsRelative,h=r.attributes.uv,p=r.attributes.uv2,m=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,_=m.length;v<_;v++){const y=m[v],w=i[y.materialIndex],S=Math.max(y.start,g.start),M=Math.min(a.count,Math.min(y.start+y.count,g.start+g.count));for(let T=S,P=M;T<P;T+=3){const L=a.getX(T),A=a.getX(T+1),R=a.getX(T+2);o=jg(this,w,e,fc,l,u,f,h,p,L,A,R),o&&(o.faceIndex=Math.floor(T/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),_=Math.min(a.count,g.start+g.count);for(let y=v,w=_;y<w;y+=3){const S=a.getX(y),M=a.getX(y+1),T=a.getX(y+2);o=jg(this,i,e,fc,l,u,f,h,p,S,M,T),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,_=m.length;v<_;v++){const y=m[v],w=i[y.materialIndex],S=Math.max(y.start,g.start),M=Math.min(l.count,Math.min(y.start+y.count,g.start+g.count));for(let T=S,P=M;T<P;T+=3){const L=T,A=T+1,R=T+2;o=jg(this,w,e,fc,l,u,f,h,p,L,A,R),o&&(o.faceIndex=Math.floor(T/3),o.face.materialIndex=y.materialIndex,t.push(o))}}else{const v=Math.max(0,g.start),_=Math.min(l.count,g.start+g.count);for(let y=v,w=_;y<w;y+=3){const S=y,M=y+1,T=y+2;o=jg(this,i,e,fc,l,u,f,h,p,S,M,T),o&&(o.faceIndex=Math.floor(y/3),t.push(o))}}}}function sZ(n,e,t,r,i,s,o,a){let l;if(e.side===pi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==js,a),l===null)return null;Gg.copy(a),Gg.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(Gg);return u<t.near||u>t.far?null:{distance:u,point:Gg.clone(),object:n}}function jg(n,e,t,r,i,s,o,a,l,u,f,h){fa.fromBufferAttribute(i,u),da.fromBufferAttribute(i,f),ha.fromBufferAttribute(i,h);const p=n.morphTargetInfluences;if(s&&p){Fg.set(0,0,0),zg.set(0,0,0),Ug.set(0,0,0);for(let g=0,v=s.length;g<v;g++){const _=p[g],y=s[g];_!==0&&(X1.fromBufferAttribute(y,u),Y1.fromBufferAttribute(y,f),K1.fromBufferAttribute(y,h),o?(Fg.addScaledVector(X1,_),zg.addScaledVector(Y1,_),Ug.addScaledVector(K1,_)):(Fg.addScaledVector(X1.sub(fa),_),zg.addScaledVector(Y1.sub(da),_),Ug.addScaledVector(K1.sub(ha),_)))}fa.add(Fg),da.add(zg),ha.add(Ug)}n.isSkinnedMesh&&(n.boneTransform(u,fa),n.boneTransform(f,da),n.boneTransform(h,ha));const m=sZ(n,e,t,r,fa,da,ha,J1);if(m){a&&(Bg.fromBufferAttribute(a,u),Vg.fromBufferAttribute(a,f),Hg.fromBufferAttribute(a,h),m.uv=ji.getUV(J1,fa,da,ha,Bg,Vg,Hg,new we)),l&&(Bg.fromBufferAttribute(l,u),Vg.fromBufferAttribute(l,f),Hg.fromBufferAttribute(l,h),m.uv2=ji.getUV(J1,fa,da,ha,Bg,Vg,Hg,new we));const g={a:u,b:f,c:h,normal:new B,materialIndex:0};ji.getNormal(fa,da,ha,g.normal),m.face=g}return m}class cl extends mt{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],f=[],h=[];let p=0,m=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Ye(u,3)),this.setAttribute("normal",new Ye(f,3)),this.setAttribute("uv",new Ye(h,2));function g(v,_,y,w,S,M,T,P,L,A,R){const k=M/L,G=T/A,Z=M/2,W=T/2,O=P/2,j=L+1,$=A+1;let ie=0,I=0;const N=new B;for(let U=0;U<$;U++){const X=U*G-W;for(let Y=0;Y<j;Y++){const ae=Y*k-Z;N[v]=ae*w,N[_]=X*S,N[y]=O,u.push(N.x,N.y,N.z),N[v]=0,N[_]=0,N[y]=P>0?1:-1,f.push(N.x,N.y,N.z),h.push(Y/L),h.push(1-U/A),ie+=1}}for(let U=0;U<A;U++)for(let X=0;X<L;X++){const Y=p+X+j*U,ae=p+X+j*(U+1),se=p+(X+1)+j*(U+1),ge=p+(X+1)+j*U;l.push(Y,ae,ge),l.push(ae,se,ge),I+=6}a.addGroup(m,I,R),m+=I,p+=ie}}static fromJSON(e){return new cl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function xf(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Er(n){const e={};for(let t=0;t<n.length;t++){const r=xf(n[t]);for(const i in r)e[i]=r[i]}return e}function oZ(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const W4={clone:xf,merge:Er};var aZ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,lZ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Zs extends Nn{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=aZ,this.fragmentShader=lZ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=xf(e.uniforms),this.uniformsGroups=oZ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Op extends Ct{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ut,this.projectionMatrix=new ut,this.projectionMatrixInverse=new ut}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class nn extends Op{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=rp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(cu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return rp*2*Math.atan(Math.tan(cu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(cu*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const dc=90,hc=1;class $4 extends Ct{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;const i=new nn(dc,hc,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new B(1,0,0)),this.add(i);const s=new nn(dc,hc,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new B(-1,0,0)),this.add(s);const o=new nn(dc,hc,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new B(0,1,0)),this.add(o);const a=new nn(dc,hc,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new B(0,-1,0)),this.add(a);const l=new nn(dc,hc,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new B(0,0,1)),this.add(l);const u=new nn(dc,hc,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new B(0,0,-1)),this.add(u)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,f=e.getRenderTarget(),h=e.toneMapping,p=e.xr.enabled;e.toneMapping=gs,e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,s),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,a),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=m,e.setRenderTarget(r,5),e.render(t,u),e.setRenderTarget(f),e.toneMapping=h,e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class Ip extends Sn{constructor(e,t,r,i,s,o,a,l,u,f){e=e!==void 0?e:[],t=t!==void 0?t:Za,super(e,t,r,i,s,o,a,l,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class q4 extends Ki{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Ip(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:dn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new cl(5,5,5),s=new Zs({name:"CubemapFromEquirect",uniforms:xf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:pi,blending:Oo});s.uniforms.tEquirect.value=t;const o=new Kn(i,s),a=t.minFilter;return t.minFilter===Wo&&(t.minFilter=dn),new $4(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const Z1=new B,uZ=new B,cZ=new jr;class Sa{constructor(e=new B(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=Z1.subVectors(r,t).cross(uZ.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(Z1),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||cZ.getNormalMatrix(e),i=this.coplanarPoint(Z1).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const pc=new ul,Wg=new B;class Ky{constructor(e=new Sa,t=new Sa,r=new Sa,i=new Sa,s=new Sa,o=new Sa){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],f=r[6],h=r[7],p=r[8],m=r[9],g=r[10],v=r[11],_=r[12],y=r[13],w=r[14],S=r[15];return t[0].setComponents(a-i,h-l,v-p,S-_).normalize(),t[1].setComponents(a+i,h+l,v+p,S+_).normalize(),t[2].setComponents(a+s,h+u,v+m,S+y).normalize(),t[3].setComponents(a-s,h-u,v-m,S-y).normalize(),t[4].setComponents(a-o,h-f,v-g,S-w).normalize(),t[5].setComponents(a+o,h+f,v+g,S+w).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),pc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(pc)}intersectsSprite(e){return pc.center.set(0,0,0),pc.radius=.7071067811865476,pc.applyMatrix4(e.matrixWorld),this.intersectsSphere(pc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(Wg.x=i.normal.x>0?e.max.x:e.min.x,Wg.y=i.normal.y>0?e.max.y:e.min.y,Wg.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Wg)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function X4(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function fZ(n,e){const t=e.isWebGL2,r=new WeakMap;function i(u,f){const h=u.array,p=u.usage,m=n.createBuffer();n.bindBuffer(f,m),n.bufferData(f,h,p),u.onUploadCallback();let g;if(h instanceof Float32Array)g=5126;else if(h instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(t)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(h instanceof Int16Array)g=5122;else if(h instanceof Uint32Array)g=5125;else if(h instanceof Int32Array)g=5124;else if(h instanceof Int8Array)g=5120;else if(h instanceof Uint8Array)g=5121;else if(h instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:g,bytesPerElement:h.BYTES_PER_ELEMENT,version:u.version}}function s(u,f,h){const p=f.array,m=f.updateRange;n.bindBuffer(h,u),m.count===-1?n.bufferSubData(h,0,p):(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1)}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f&&(n.deleteBuffer(f.buffer),r.delete(u))}function l(u,f){if(u.isGLBufferAttribute){const p=r.get(u);(!p||p.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h===void 0?r.set(u,i(u,f)):h.version<u.version&&(s(h.buffer,u,f),h.version=u.version)}return{get:o,remove:a,update:l}}class Ff extends mt{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),u=a+1,f=l+1,h=e/a,p=t/l,m=[],g=[],v=[],_=[];for(let y=0;y<f;y++){const w=y*p-o;for(let S=0;S<u;S++){const M=S*h-s;g.push(M,-w,0),v.push(0,0,1),_.push(S/a),_.push(1-y/l)}}for(let y=0;y<l;y++)for(let w=0;w<a;w++){const S=w+u*y,M=w+u*(y+1),T=w+1+u*(y+1),P=w+1+u*y;m.push(S,M,P),m.push(M,T,P)}this.setIndex(m),this.setAttribute("position",new Ye(g,3)),this.setAttribute("normal",new Ye(v,3)),this.setAttribute("uv",new Ye(_,2))}static fromJSON(e){return new Ff(e.width,e.height,e.widthSegments,e.heightSegments)}}var dZ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,hZ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,pZ=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,mZ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,gZ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,vZ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,yZ="vec3 transformed = vec3( position );",_Z=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,xZ=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,wZ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,SZ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,bZ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,MZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,TZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,EZ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,AZ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,CZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,PZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,RZ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,LZ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,OZ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,IZ=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,DZ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,NZ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,kZ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,FZ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,zZ="gl_FragColor = linearToOutputTexel( gl_FragColor );",UZ=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,BZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,VZ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,HZ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,GZ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,jZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,WZ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,$Z=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,qZ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,XZ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,YZ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,KZ=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,JZ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,ZZ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,QZ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert
#define Material_LightProbeLOD( material )	(0)`,eQ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,tQ=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,nQ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,rQ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,iQ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,sQ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,oQ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,aQ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lQ=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,uQ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cQ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,fQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,dQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,pQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,mQ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,gQ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,vQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,yQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,_Q=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,xQ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,wQ=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,SQ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,bQ=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,MQ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,TQ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,EQ=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,AQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,CQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,PQ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,RQ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,LQ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,OQ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,IQ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,DQ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,NQ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,kQ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,FQ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,zQ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,UQ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,BQ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,VQ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,HQ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,GQ=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,jQ=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,WQ=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,$Q=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,qQ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,XQ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,YQ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,KQ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,JQ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ZQ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,QQ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,eee=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tee=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,nee=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,ree=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,iee=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,see=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,oee=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,aee=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,lee=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,uee=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const cee=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fee=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,dee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hee=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,pee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,mee=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,gee=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,vee=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,yee=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,_ee=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,xee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,wee=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,See=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bee=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Mee=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Tee=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Eee=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Aee=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cee=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Pee=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ree=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Lee=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Oee=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Iee=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dee=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Nee=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kee=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Fee=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zee=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Uee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Bee=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Vee=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Hee=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Gee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,yt={alphamap_fragment:dZ,alphamap_pars_fragment:hZ,alphatest_fragment:pZ,alphatest_pars_fragment:mZ,aomap_fragment:gZ,aomap_pars_fragment:vZ,begin_vertex:yZ,beginnormal_vertex:_Z,bsdfs:xZ,iridescence_fragment:wZ,bumpmap_pars_fragment:SZ,clipping_planes_fragment:bZ,clipping_planes_pars_fragment:MZ,clipping_planes_pars_vertex:TZ,clipping_planes_vertex:EZ,color_fragment:AZ,color_pars_fragment:CZ,color_pars_vertex:PZ,color_vertex:RZ,common:LZ,cube_uv_reflection_fragment:OZ,defaultnormal_vertex:IZ,displacementmap_pars_vertex:DZ,displacementmap_vertex:NZ,emissivemap_fragment:kZ,emissivemap_pars_fragment:FZ,encodings_fragment:zZ,encodings_pars_fragment:UZ,envmap_fragment:BZ,envmap_common_pars_fragment:VZ,envmap_pars_fragment:HZ,envmap_pars_vertex:GZ,envmap_physical_pars_fragment:tQ,envmap_vertex:jZ,fog_vertex:WZ,fog_pars_vertex:$Z,fog_fragment:qZ,fog_pars_fragment:XZ,gradientmap_pars_fragment:YZ,lightmap_fragment:KZ,lightmap_pars_fragment:JZ,lights_lambert_fragment:ZZ,lights_lambert_pars_fragment:QZ,lights_pars_begin:eQ,lights_toon_fragment:nQ,lights_toon_pars_fragment:rQ,lights_phong_fragment:iQ,lights_phong_pars_fragment:sQ,lights_physical_fragment:oQ,lights_physical_pars_fragment:aQ,lights_fragment_begin:lQ,lights_fragment_maps:uQ,lights_fragment_end:cQ,logdepthbuf_fragment:fQ,logdepthbuf_pars_fragment:dQ,logdepthbuf_pars_vertex:hQ,logdepthbuf_vertex:pQ,map_fragment:mQ,map_pars_fragment:gQ,map_particle_fragment:vQ,map_particle_pars_fragment:yQ,metalnessmap_fragment:_Q,metalnessmap_pars_fragment:xQ,morphcolor_vertex:wQ,morphnormal_vertex:SQ,morphtarget_pars_vertex:bQ,morphtarget_vertex:MQ,normal_fragment_begin:TQ,normal_fragment_maps:EQ,normal_pars_fragment:AQ,normal_pars_vertex:CQ,normal_vertex:PQ,normalmap_pars_fragment:RQ,clearcoat_normal_fragment_begin:LQ,clearcoat_normal_fragment_maps:OQ,clearcoat_pars_fragment:IQ,iridescence_pars_fragment:DQ,output_fragment:NQ,packing:kQ,premultiplied_alpha_fragment:FQ,project_vertex:zQ,dithering_fragment:UQ,dithering_pars_fragment:BQ,roughnessmap_fragment:VQ,roughnessmap_pars_fragment:HQ,shadowmap_pars_fragment:GQ,shadowmap_pars_vertex:jQ,shadowmap_vertex:WQ,shadowmask_pars_fragment:$Q,skinbase_vertex:qQ,skinning_pars_vertex:XQ,skinning_vertex:YQ,skinnormal_vertex:KQ,specularmap_fragment:JQ,specularmap_pars_fragment:ZQ,tonemapping_fragment:QQ,tonemapping_pars_fragment:eee,transmission_fragment:tee,transmission_pars_fragment:nee,uv_pars_fragment:ree,uv_pars_vertex:iee,uv_vertex:see,uv2_pars_fragment:oee,uv2_pars_vertex:aee,uv2_vertex:lee,worldpos_vertex:uee,background_vert:cee,background_frag:fee,backgroundCube_vert:dee,backgroundCube_frag:hee,cube_vert:pee,cube_frag:mee,depth_vert:gee,depth_frag:vee,distanceRGBA_vert:yee,distanceRGBA_frag:_ee,equirect_vert:xee,equirect_frag:wee,linedashed_vert:See,linedashed_frag:bee,meshbasic_vert:Mee,meshbasic_frag:Tee,meshlambert_vert:Eee,meshlambert_frag:Aee,meshmatcap_vert:Cee,meshmatcap_frag:Pee,meshnormal_vert:Ree,meshnormal_frag:Lee,meshphong_vert:Oee,meshphong_frag:Iee,meshphysical_vert:Dee,meshphysical_frag:Nee,meshtoon_vert:kee,meshtoon_frag:Fee,points_vert:zee,points_frag:Uee,shadow_vert:Bee,shadow_frag:Vee,sprite_vert:Hee,sprite_frag:Gee},Fe={common:{diffuse:{value:new ze(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new jr},uv2Transform:{value:new jr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new we(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ze(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ze(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new jr}},sprite:{diffuse:{value:new ze(16777215)},opacity:{value:1},center:{value:new we(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new jr}}},cs={basic:{uniforms:Er([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.fog]),vertexShader:yt.meshbasic_vert,fragmentShader:yt.meshbasic_frag},lambert:{uniforms:Er([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new ze(0)}}]),vertexShader:yt.meshlambert_vert,fragmentShader:yt.meshlambert_frag},phong:{uniforms:Er([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new ze(0)},specular:{value:new ze(1118481)},shininess:{value:30}}]),vertexShader:yt.meshphong_vert,fragmentShader:yt.meshphong_frag},standard:{uniforms:Er([Fe.common,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.roughnessmap,Fe.metalnessmap,Fe.fog,Fe.lights,{emissive:{value:new ze(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag},toon:{uniforms:Er([Fe.common,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.gradientmap,Fe.fog,Fe.lights,{emissive:{value:new ze(0)}}]),vertexShader:yt.meshtoon_vert,fragmentShader:yt.meshtoon_frag},matcap:{uniforms:Er([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,{matcap:{value:null}}]),vertexShader:yt.meshmatcap_vert,fragmentShader:yt.meshmatcap_frag},points:{uniforms:Er([Fe.points,Fe.fog]),vertexShader:yt.points_vert,fragmentShader:yt.points_frag},dashed:{uniforms:Er([Fe.common,Fe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yt.linedashed_vert,fragmentShader:yt.linedashed_frag},depth:{uniforms:Er([Fe.common,Fe.displacementmap]),vertexShader:yt.depth_vert,fragmentShader:yt.depth_frag},normal:{uniforms:Er([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,{opacity:{value:1}}]),vertexShader:yt.meshnormal_vert,fragmentShader:yt.meshnormal_frag},sprite:{uniforms:Er([Fe.sprite,Fe.fog]),vertexShader:yt.sprite_vert,fragmentShader:yt.sprite_frag},background:{uniforms:{uvTransform:{value:new jr},t2D:{value:null}},vertexShader:yt.background_vert,fragmentShader:yt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0}},vertexShader:yt.backgroundCube_vert,fragmentShader:yt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:yt.cube_vert,fragmentShader:yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yt.equirect_vert,fragmentShader:yt.equirect_frag},distanceRGBA:{uniforms:Er([Fe.common,Fe.displacementmap,{referencePosition:{value:new B},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yt.distanceRGBA_vert,fragmentShader:yt.distanceRGBA_frag},shadow:{uniforms:Er([Fe.lights,Fe.fog,{color:{value:new ze(0)},opacity:{value:1}}]),vertexShader:yt.shadow_vert,fragmentShader:yt.shadow_frag}};cs.physical={uniforms:Er([cs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new we(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new ze(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new we},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ze(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ze(1,1,1)},specularColorMap:{value:null}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag};function jee(n,e,t,r,i,s,o){const a=new ze(0);let l=s===!0?0:1,u,f,h=null,p=0,m=null;function g(_,y){let w=!1,S=y.isScene===!0?y.background:null;S&&S.isTexture&&(S=(y.backgroundBlurriness>0?t:e).get(S));const M=n.xr,T=M.getSession&&M.getSession();T&&T.environmentBlendMode==="additive"&&(S=null),S===null?v(a,l):S&&S.isColor&&(v(S,1),w=!0),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===Nf)?(f===void 0&&(f=new Kn(new cl(1,1,1),new Zs({name:"BackgroundCubeMaterial",uniforms:xf(cs.backgroundCube.uniforms),vertexShader:cs.backgroundCube.vertexShader,fragmentShader:cs.backgroundCube.fragmentShader,side:pi,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(P,L,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),f.material.uniforms.envMap.value=S,f.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,(h!==S||p!==S.version||m!==n.toneMapping)&&(f.material.needsUpdate=!0,h=S,p=S.version,m=n.toneMapping),f.layers.enableAll(),_.unshift(f,f.geometry,f.material,0,0,null)):S&&S.isTexture&&(u===void 0&&(u=new Kn(new Ff(2,2),new Zs({name:"BackgroundMaterial",uniforms:xf(cs.background.uniforms),vertexShader:cs.background.vertexShader,fragmentShader:cs.background.fragmentShader,side:Ja,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=S,S.matrixAutoUpdate===!0&&S.updateMatrix(),u.material.uniforms.uvTransform.value.copy(S.matrix),(h!==S||p!==S.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,h=S,p=S.version,m=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null))}function v(_,y){r.buffers.color.setClear(_.r,_.g,_.b,y,o)}return{getClearColor:function(){return a},setClearColor:function(_,y=1){a.set(_),l=y,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,v(a,l)},render:g}}function Wee(n,e,t,r){const i=n.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let u=l,f=!1;function h(O,j,$,ie,I){let N=!1;if(o){const U=v(ie,$,j);u!==U&&(u=U,m(u.object)),N=y(O,ie,$,I),N&&w(O,ie,$,I)}else{const U=j.wireframe===!0;(u.geometry!==ie.id||u.program!==$.id||u.wireframe!==U)&&(u.geometry=ie.id,u.program=$.id,u.wireframe=U,N=!0)}I!==null&&t.update(I,34963),(N||f)&&(f=!1,A(O,j,$,ie),I!==null&&n.bindBuffer(34963,t.get(I).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(O){return r.isWebGL2?n.bindVertexArray(O):s.bindVertexArrayOES(O)}function g(O){return r.isWebGL2?n.deleteVertexArray(O):s.deleteVertexArrayOES(O)}function v(O,j,$){const ie=$.wireframe===!0;let I=a[O.id];I===void 0&&(I={},a[O.id]=I);let N=I[j.id];N===void 0&&(N={},I[j.id]=N);let U=N[ie];return U===void 0&&(U=_(p()),N[ie]=U),U}function _(O){const j=[],$=[],ie=[];for(let I=0;I<i;I++)j[I]=0,$[I]=0,ie[I]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:$,attributeDivisors:ie,object:O,attributes:{},index:null}}function y(O,j,$,ie){const I=u.attributes,N=j.attributes;let U=0;const X=$.getAttributes();for(const Y in X)if(X[Y].location>=0){const se=I[Y];let ge=N[Y];if(ge===void 0&&(Y==="instanceMatrix"&&O.instanceMatrix&&(ge=O.instanceMatrix),Y==="instanceColor"&&O.instanceColor&&(ge=O.instanceColor)),se===void 0||se.attribute!==ge||ge&&se.data!==ge.data)return!0;U++}return u.attributesNum!==U||u.index!==ie}function w(O,j,$,ie){const I={},N=j.attributes;let U=0;const X=$.getAttributes();for(const Y in X)if(X[Y].location>=0){let se=N[Y];se===void 0&&(Y==="instanceMatrix"&&O.instanceMatrix&&(se=O.instanceMatrix),Y==="instanceColor"&&O.instanceColor&&(se=O.instanceColor));const ge={};ge.attribute=se,se&&se.data&&(ge.data=se.data),I[Y]=ge,U++}u.attributes=I,u.attributesNum=U,u.index=ie}function S(){const O=u.newAttributes;for(let j=0,$=O.length;j<$;j++)O[j]=0}function M(O){T(O,0)}function T(O,j){const $=u.newAttributes,ie=u.enabledAttributes,I=u.attributeDivisors;$[O]=1,ie[O]===0&&(n.enableVertexAttribArray(O),ie[O]=1),I[O]!==j&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](O,j),I[O]=j)}function P(){const O=u.newAttributes,j=u.enabledAttributes;for(let $=0,ie=j.length;$<ie;$++)j[$]!==O[$]&&(n.disableVertexAttribArray($),j[$]=0)}function L(O,j,$,ie,I,N){r.isWebGL2===!0&&($===5124||$===5125)?n.vertexAttribIPointer(O,j,$,I,N):n.vertexAttribPointer(O,j,$,ie,I,N)}function A(O,j,$,ie){if(r.isWebGL2===!1&&(O.isInstancedMesh||ie.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const I=ie.attributes,N=$.getAttributes(),U=j.defaultAttributeValues;for(const X in N){const Y=N[X];if(Y.location>=0){let ae=I[X];if(ae===void 0&&(X==="instanceMatrix"&&O.instanceMatrix&&(ae=O.instanceMatrix),X==="instanceColor"&&O.instanceColor&&(ae=O.instanceColor)),ae!==void 0){const se=ae.normalized,ge=ae.itemSize,oe=t.get(ae);if(oe===void 0)continue;const Ne=oe.buffer,Ue=oe.type,He=oe.bytesPerElement;if(ae.isInterleavedBufferAttribute){const Pe=ae.data,Ke=Pe.stride,ve=ae.offset;if(Pe.isInstancedInterleavedBuffer){for(let fe=0;fe<Y.locationSize;fe++)T(Y.location+fe,Pe.meshPerAttribute);O.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=Pe.meshPerAttribute*Pe.count)}else for(let fe=0;fe<Y.locationSize;fe++)M(Y.location+fe);n.bindBuffer(34962,Ne);for(let fe=0;fe<Y.locationSize;fe++)L(Y.location+fe,ge/Y.locationSize,Ue,se,Ke*He,(ve+ge/Y.locationSize*fe)*He)}else{if(ae.isInstancedBufferAttribute){for(let Pe=0;Pe<Y.locationSize;Pe++)T(Y.location+Pe,ae.meshPerAttribute);O.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=ae.meshPerAttribute*ae.count)}else for(let Pe=0;Pe<Y.locationSize;Pe++)M(Y.location+Pe);n.bindBuffer(34962,Ne);for(let Pe=0;Pe<Y.locationSize;Pe++)L(Y.location+Pe,ge/Y.locationSize,Ue,se,ge*He,ge/Y.locationSize*Pe*He)}}else if(U!==void 0){const se=U[X];if(se!==void 0)switch(se.length){case 2:n.vertexAttrib2fv(Y.location,se);break;case 3:n.vertexAttrib3fv(Y.location,se);break;case 4:n.vertexAttrib4fv(Y.location,se);break;default:n.vertexAttrib1fv(Y.location,se)}}}}P()}function R(){Z();for(const O in a){const j=a[O];for(const $ in j){const ie=j[$];for(const I in ie)g(ie[I].object),delete ie[I];delete j[$]}delete a[O]}}function k(O){if(a[O.id]===void 0)return;const j=a[O.id];for(const $ in j){const ie=j[$];for(const I in ie)g(ie[I].object),delete ie[I];delete j[$]}delete a[O.id]}function G(O){for(const j in a){const $=a[j];if($[O.id]===void 0)continue;const ie=$[O.id];for(const I in ie)g(ie[I].object),delete ie[I];delete $[O.id]}}function Z(){W(),f=!0,u!==l&&(u=l,m(u.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:Z,resetDefaultState:W,dispose:R,releaseStatesOfGeometry:k,releaseStatesOfProgram:G,initAttributes:S,enableAttribute:M,disableUnusedAttributes:P}}function $ee(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,f){n.drawArrays(s,u,f),t.update(f,s,1)}function l(u,f,h){if(h===0)return;let p,m;if(i)p=n,m="drawArraysInstanced";else if(p=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",p===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}p[m](s,u,f,h),t.update(f,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function qee(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(L){if(L==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),f=t.logarithmicDepthBuffer===!0,h=n.getParameter(34930),p=n.getParameter(35660),m=n.getParameter(3379),g=n.getParameter(34076),v=n.getParameter(34921),_=n.getParameter(36347),y=n.getParameter(36348),w=n.getParameter(36349),S=p>0,M=o||e.has("OES_texture_float"),T=S&&M,P=o?n.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:_,maxVaryings:y,maxFragmentUniforms:w,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:T,maxSamples:P}}function Xee(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Sa,a=new jr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p,m){const g=h.length!==0||p||r!==0||i;return i=p,t=f(h,m,0),r=h.length,g},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1,u()},this.setState=function(h,p,m){const g=h.clippingPlanes,v=h.clipIntersection,_=h.clipShadows,y=n.get(h);if(!i||g===null||g.length===0||s&&!_)s?f(null):u();else{const w=s?0:r,S=w*4;let M=y.clippingState||null;l.value=M,M=f(g,p,S,m);for(let T=0;T!==S;++T)M[T]=t[T];y.clippingState=M,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=w}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(h,p,m,g){const v=h!==null?h.length:0;let _=null;if(v!==0){if(_=l.value,g!==!0||_===null){const y=m+v*4,w=p.matrixWorldInverse;a.getNormalMatrix(w),(_===null||_.length<y)&&(_=new Float32Array(y));for(let S=0,M=m;S!==v;++S,M+=4)o.copy(h[S]).applyMatrix4(w,a),o.normal.toArray(_,M),_[M+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,_}}function Yee(n){let e=new WeakMap;function t(o,a){return a===Jh?o.mapping=Za:a===Zh&&(o.mapping=Qa),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Jh||a===Zh)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new q4(l.height/2);return u.fromEquirectangularTexture(n,o),e.set(o,u),o.addEventListener("dispose",i),t(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Io extends Op{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const Gc=4,dL=[.125,.215,.35,.446,.526,.582],ql=20,Q1=new Io,hL=new ze;let ew=null;const zl=(1+Math.sqrt(5))/2,mc=1/zl,pL=[new B(1,1,1),new B(-1,1,1),new B(1,1,-1),new B(-1,1,-1),new B(0,zl,mc),new B(0,zl,-mc),new B(mc,0,zl),new B(-mc,0,zl),new B(zl,mc,0),new B(-zl,mc,0)];class qb{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){ew=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=vL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=gL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ew),e.scissorTest=!1,$g(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Za||e.mapping===Qa?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ew=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:dn,minFilter:dn,generateMipmaps:!1,type:yf,format:ai,encoding:Ho,depthBuffer:!1},i=mL(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=mL(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Kee(s)),this._blurMaterial=Jee(s,e,t)}return i}_compileMaterial(e){const t=new Kn(this._lodPlanes[0],e);this._renderer.compile(t,Q1)}_sceneToCubeUV(e,t,r,i){const a=new nn(90,1,t,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,h=f.autoClear,p=f.toneMapping;f.getClearColor(hL),f.toneMapping=gs,f.autoClear=!1;const m=new ui({name:"PMREM.Background",side:pi,depthWrite:!1,depthTest:!1}),g=new Kn(new cl,m);let v=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,v=!0):(m.color.copy(hL),v=!0);for(let y=0;y<6;y++){const w=y%3;w===0?(a.up.set(0,l[y],0),a.lookAt(u[y],0,0)):w===1?(a.up.set(0,0,l[y]),a.lookAt(0,u[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,u[y]));const S=this._cubeSize;$g(i,w*S,y>2?S:0,S,S),f.setRenderTarget(i),v&&f.render(g,a),f.render(e,a)}g.geometry.dispose(),g.material.dispose(),f.toneMapping=p,f.autoClear=h,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Za||e.mapping===Qa;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=vL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=gL());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Kn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;$g(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,Q1)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=pL[(i-1)%pL.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,h=new Kn(this._lodPlanes[i],u),p=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*ql-1),v=s/g,_=isFinite(s)?1+Math.floor(f*v):ql;_>ql&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${ql}`);const y=[];let w=0;for(let L=0;L<ql;++L){const A=L/v,R=Math.exp(-A*A/2);y.push(R),L===0?w+=R:L<_&&(w+=2*R)}for(let L=0;L<y.length;L++)y[L]=y[L]/w;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=y,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=g,p.mipInt.value=S-r;const M=this._sizeLods[i],T=3*M*(i>S-Gc?i-S+Gc:0),P=4*(this._cubeSize-M);$g(t,T,P,3*M,2*M),l.setRenderTarget(t),l.render(h,Q1)}}function Kee(n){const e=[],t=[],r=[];let i=n;const s=n-Gc+1+dL.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-Gc?l=dL[o-n+Gc-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),f=-u,h=1+u,p=[f,f,h,f,h,h,f,f,h,h,f,h],m=6,g=6,v=3,_=2,y=1,w=new Float32Array(v*g*m),S=new Float32Array(_*g*m),M=new Float32Array(y*g*m);for(let P=0;P<m;P++){const L=P%3*2/3-1,A=P>2?0:-1,R=[L,A,0,L+2/3,A,0,L+2/3,A+1,0,L,A,0,L+2/3,A+1,0,L,A+1,0];w.set(R,v*g*P),S.set(p,_*g*P);const k=[P,P,P,P,P,P];M.set(k,y*g*P)}const T=new mt;T.setAttribute("position",new Gt(w,v)),T.setAttribute("uv",new Gt(S,_)),T.setAttribute("faceIndex",new Gt(M,y)),e.push(T),i>Gc&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function mL(n,e,t){const r=new Ki(n,e,t);return r.texture.mapping=Nf,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function $g(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Jee(n,e,t){const r=new Float32Array(ql),i=new B(0,1,0);return new Zs({name:"SphericalGaussianBlur",defines:{n:ql,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:IE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Oo,depthTest:!1,depthWrite:!1})}function gL(){return new Zs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:IE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Oo,depthTest:!1,depthWrite:!1})}function vL(){return new Zs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:IE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Oo,depthTest:!1,depthWrite:!1})}function IE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Zee(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===Jh||l===Zh,f=l===Za||l===Qa;if(u||f)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new qb(n)),h=u?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(u&&h&&h.height>0||f&&h&&i(h)){t===null&&(t=new qb(n));const p=u?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let f=0;f<u;f++)a[f]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function Qee(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function ete(n,e,t,r){const i={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const g in p.attributes)e.remove(p.attributes[g]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const g in p)e.update(p[g],34962);const m=h.morphAttributes;for(const g in m){const v=m[g];for(let _=0,y=v.length;_<y;_++)e.update(v[_],34962)}}function u(h){const p=[],m=h.index,g=h.attributes.position;let v=0;if(m!==null){const w=m.array;v=m.version;for(let S=0,M=w.length;S<M;S+=3){const T=w[S+0],P=w[S+1],L=w[S+2];p.push(T,P,P,L,L,T)}}else{const w=g.array;v=g.version;for(let S=0,M=w.length/3-1;S<M;S+=3){const T=S+0,P=S+1,L=S+2;p.push(T,P,P,L,L,T)}}const _=new(G4(p)?OE:LE)(p,1);_.version=v;const y=s.get(h);y&&e.remove(y),s.set(h,_)}function f(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&u(h)}else u(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:f}}function tte(n,e,t,r){const i=r.isWebGL2;let s;function o(p){s=p}let a,l;function u(p){a=p.type,l=p.bytesPerElement}function f(p,m){n.drawElements(s,m,a,p*l),t.update(m,s,1)}function h(p,m,g){if(g===0)return;let v,_;if(i)v=n,_="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[_](s,m,a,p*l,g),t.update(m,s,g)}this.setMode=o,this.setIndex=u,this.render=f,this.renderInstances=h}function nte(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case 4:t.triangles+=a*(s/3);break;case 1:t.lines+=a*(s/2);break;case 3:t.lines+=a*(s-1);break;case 2:t.lines+=a*s;break;case 0:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function rte(n,e){return n[0]-e[0]}function ite(n,e){return Math.abs(e[1])-Math.abs(n[1])}function ste(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new Vt,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,f,h,p){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,_=v!==void 0?v.length:0;let y=s.get(f);if(y===void 0||y.count!==_){let $=function(){O.dispose(),s.delete(f),f.removeEventListener("dispose",$)};var g=$;y!==void 0&&y.texture.dispose();const M=f.morphAttributes.position!==void 0,T=f.morphAttributes.normal!==void 0,P=f.morphAttributes.color!==void 0,L=f.morphAttributes.position||[],A=f.morphAttributes.normal||[],R=f.morphAttributes.color||[];let k=0;M===!0&&(k=1),T===!0&&(k=2),P===!0&&(k=3);let G=f.attributes.position.count*k,Z=1;G>e.maxTextureSize&&(Z=Math.ceil(G/e.maxTextureSize),G=e.maxTextureSize);const W=new Float32Array(G*Z*4*_),O=new Rp(W,G,Z,_);O.type=Co,O.needsUpdate=!0;const j=k*4;for(let ie=0;ie<_;ie++){const I=L[ie],N=A[ie],U=R[ie],X=G*Z*4*ie;for(let Y=0;Y<I.count;Y++){const ae=Y*j;M===!0&&(o.fromBufferAttribute(I,Y),W[X+ae+0]=o.x,W[X+ae+1]=o.y,W[X+ae+2]=o.z,W[X+ae+3]=0),T===!0&&(o.fromBufferAttribute(N,Y),W[X+ae+4]=o.x,W[X+ae+5]=o.y,W[X+ae+6]=o.z,W[X+ae+7]=0),P===!0&&(o.fromBufferAttribute(U,Y),W[X+ae+8]=o.x,W[X+ae+9]=o.y,W[X+ae+10]=o.z,W[X+ae+11]=U.itemSize===4?o.w:1)}}y={count:_,texture:O,size:new we(G,Z)},s.set(f,y),f.addEventListener("dispose",$)}let w=0;for(let M=0;M<m.length;M++)w+=m[M];const S=f.morphTargetsRelative?1:1-w;p.getUniforms().setValue(n,"morphTargetBaseInfluence",S),p.getUniforms().setValue(n,"morphTargetInfluences",m),p.getUniforms().setValue(n,"morphTargetsTexture",y.texture,t),p.getUniforms().setValue(n,"morphTargetsTextureSize",y.size)}else{const v=m===void 0?0:m.length;let _=r[f.id];if(_===void 0||_.length!==v){_=[];for(let T=0;T<v;T++)_[T]=[T,0];r[f.id]=_}for(let T=0;T<v;T++){const P=_[T];P[0]=T,P[1]=m[T]}_.sort(ite);for(let T=0;T<8;T++)T<v&&_[T][1]?(a[T][0]=_[T][0],a[T][1]=_[T][1]):(a[T][0]=Number.MAX_SAFE_INTEGER,a[T][1]=0);a.sort(rte);const y=f.morphAttributes.position,w=f.morphAttributes.normal;let S=0;for(let T=0;T<8;T++){const P=a[T],L=P[0],A=P[1];L!==Number.MAX_SAFE_INTEGER&&A?(y&&f.getAttribute("morphTarget"+T)!==y[L]&&f.setAttribute("morphTarget"+T,y[L]),w&&f.getAttribute("morphNormal"+T)!==w[L]&&f.setAttribute("morphNormal"+T,w[L]),i[T]=A,S+=A):(y&&f.hasAttribute("morphTarget"+T)===!0&&f.deleteAttribute("morphTarget"+T),w&&f.hasAttribute("morphNormal"+T)===!0&&f.deleteAttribute("morphNormal"+T),i[T]=0)}const M=f.morphTargetsRelative?1:1-S;p.getUniforms().setValue(n,"morphTargetBaseInfluence",M),p.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function ote(n,e,t,r){let i=new WeakMap;function s(l){const u=r.render.frame,f=l.geometry,h=e.get(l,f);return i.get(h)!==u&&(e.update(h),i.set(h,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),h}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:o}}const Y4=new Sn,K4=new Rp,J4=new Yy,Z4=new Ip,yL=[],_L=[],xL=new Float32Array(16),wL=new Float32Array(9),SL=new Float32Array(4);function zf(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=yL[i];if(s===void 0&&(s=new Float32Array(i),yL[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Bn(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Vn(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Jy(n,e){let t=_L[e];t===void 0&&(t=new Int32Array(e),_L[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function ate(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function lte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2fv(this.addr,e),Vn(t,e)}}function ute(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Bn(t,e))return;n.uniform3fv(this.addr,e),Vn(t,e)}}function cte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4fv(this.addr,e),Vn(t,e)}}function fte(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Bn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Vn(t,e)}else{if(Bn(t,r))return;SL.set(r),n.uniformMatrix2fv(this.addr,!1,SL),Vn(t,r)}}function dte(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Bn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Vn(t,e)}else{if(Bn(t,r))return;wL.set(r),n.uniformMatrix3fv(this.addr,!1,wL),Vn(t,r)}}function hte(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Bn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Vn(t,e)}else{if(Bn(t,r))return;xL.set(r),n.uniformMatrix4fv(this.addr,!1,xL),Vn(t,r)}}function pte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function mte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2iv(this.addr,e),Vn(t,e)}}function gte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bn(t,e))return;n.uniform3iv(this.addr,e),Vn(t,e)}}function vte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4iv(this.addr,e),Vn(t,e)}}function yte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function _te(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Bn(t,e))return;n.uniform2uiv(this.addr,e),Vn(t,e)}}function xte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Bn(t,e))return;n.uniform3uiv(this.addr,e),Vn(t,e)}}function wte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Bn(t,e))return;n.uniform4uiv(this.addr,e),Vn(t,e)}}function Ste(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||Y4,i)}function bte(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||J4,i)}function Mte(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Z4,i)}function Tte(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||K4,i)}function Ete(n){switch(n){case 5126:return ate;case 35664:return lte;case 35665:return ute;case 35666:return cte;case 35674:return fte;case 35675:return dte;case 35676:return hte;case 5124:case 35670:return pte;case 35667:case 35671:return mte;case 35668:case 35672:return gte;case 35669:case 35673:return vte;case 5125:return yte;case 36294:return _te;case 36295:return xte;case 36296:return wte;case 35678:case 36198:case 36298:case 36306:case 35682:return Ste;case 35679:case 36299:case 36307:return bte;case 35680:case 36300:case 36308:case 36293:return Mte;case 36289:case 36303:case 36311:case 36292:return Tte}}function Ate(n,e){n.uniform1fv(this.addr,e)}function Cte(n,e){const t=zf(e,this.size,2);n.uniform2fv(this.addr,t)}function Pte(n,e){const t=zf(e,this.size,3);n.uniform3fv(this.addr,t)}function Rte(n,e){const t=zf(e,this.size,4);n.uniform4fv(this.addr,t)}function Lte(n,e){const t=zf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Ote(n,e){const t=zf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Ite(n,e){const t=zf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Dte(n,e){n.uniform1iv(this.addr,e)}function Nte(n,e){n.uniform2iv(this.addr,e)}function kte(n,e){n.uniform3iv(this.addr,e)}function Fte(n,e){n.uniform4iv(this.addr,e)}function zte(n,e){n.uniform1uiv(this.addr,e)}function Ute(n,e){n.uniform2uiv(this.addr,e)}function Bte(n,e){n.uniform3uiv(this.addr,e)}function Vte(n,e){n.uniform4uiv(this.addr,e)}function Hte(n,e,t){const r=this.cache,i=e.length,s=Jy(t,i);Bn(r,s)||(n.uniform1iv(this.addr,s),Vn(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||Y4,s[o])}function Gte(n,e,t){const r=this.cache,i=e.length,s=Jy(t,i);Bn(r,s)||(n.uniform1iv(this.addr,s),Vn(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||J4,s[o])}function jte(n,e,t){const r=this.cache,i=e.length,s=Jy(t,i);Bn(r,s)||(n.uniform1iv(this.addr,s),Vn(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||Z4,s[o])}function Wte(n,e,t){const r=this.cache,i=e.length,s=Jy(t,i);Bn(r,s)||(n.uniform1iv(this.addr,s),Vn(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||K4,s[o])}function $te(n){switch(n){case 5126:return Ate;case 35664:return Cte;case 35665:return Pte;case 35666:return Rte;case 35674:return Lte;case 35675:return Ote;case 35676:return Ite;case 5124:case 35670:return Dte;case 35667:case 35671:return Nte;case 35668:case 35672:return kte;case 35669:case 35673:return Fte;case 5125:return zte;case 36294:return Ute;case 36295:return Bte;case 36296:return Vte;case 35678:case 36198:case 36298:case 36306:case 35682:return Hte;case 35679:case 36299:case 36307:return Gte;case 35680:case 36300:case 36308:case 36293:return jte;case 36289:case 36303:case 36311:case 36292:return Wte}}class qte{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=Ete(t.type)}}class Xte{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=$te(t.type)}}class Yte{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const tw=/(\w+)(\])?(\[|\.)?/g;function bL(n,e){n.seq.push(e),n.map[e.id]=e}function Kte(n,e,t){const r=n.name,i=r.length;for(tw.lastIndex=0;;){const s=tw.exec(r),o=tw.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){bL(t,u===void 0?new qte(a,n,e):new Xte(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new Yte(a),bL(t,h)),t=h}}}class qv{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);Kte(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function ML(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Jte=0;function Zte(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function Qte(n){switch(n){case Ho:return["Linear","( value )"];case Nt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function TL(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+Zte(n.getShaderSource(e),o)}else return i}function ene(n,e){const t=Qte(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function tne(n,e){let t;switch(e){case p4:t="Linear";break;case m4:t="Reinhard";break;case g4:t="OptimizedCineon";break;case TE:t="ACESFilmic";break;case v4:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function nne(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(jd).join(`
`)}function rne(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function ine(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function jd(n){return n!==""}function EL(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function AL(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const sne=/^[ \t]*#include +<([\w\d./]+)>/gm;function Xb(n){return n.replace(sne,one)}function one(n,e){const t=yt[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return Xb(t)}const ane=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function CL(n){return n.replace(ane,lne)}function lne(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function PL(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function une(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===wE?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===SE?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Vc&&(e="SHADOWMAP_TYPE_VSM"),e}function cne(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Za:case Qa:e="ENVMAP_TYPE_CUBE";break;case Nf:e="ENVMAP_TYPE_CUBE_UV";break}return e}function fne(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Qa:e="ENVMAP_MODE_REFRACTION";break}return e}function dne(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Pp:e="ENVMAP_BLENDING_MULTIPLY";break;case d4:e="ENVMAP_BLENDING_MIX";break;case h4:e="ENVMAP_BLENDING_ADD";break}return e}function hne(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function pne(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=une(t),u=cne(t),f=fne(t),h=dne(t),p=hne(t),m=t.isWebGL2?"":nne(t),g=rne(s),v=i.createProgram();let _,y,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(_=[g].filter(jd).join(`
`),_.length>0&&(_+=`
`),y=[m,g].filter(jd).join(`
`),y.length>0&&(y+=`
`)):(_=[PL(t),"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jd).join(`
`),y=[m,PL(t),"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==gs?"#define TONE_MAPPING":"",t.toneMapping!==gs?yt.tonemapping_pars_fragment:"",t.toneMapping!==gs?tne("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",yt.encodings_pars_fragment,ene("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(jd).join(`
`)),o=Xb(o),o=EL(o,t),o=AL(o,t),a=Xb(a),a=EL(a,t),a=AL(a,t),o=CL(o),a=CL(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,y=["#define varying in",t.glslVersion===Wb?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===Wb?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const S=w+_+o,M=w+y+a,T=ML(i,35633,S),P=ML(i,35632,M);if(i.attachShader(v,T),i.attachShader(v,P),t.index0AttributeName!==void 0?i.bindAttribLocation(v,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),n.debug.checkShaderErrors){const R=i.getProgramInfoLog(v).trim(),k=i.getShaderInfoLog(T).trim(),G=i.getShaderInfoLog(P).trim();let Z=!0,W=!0;if(i.getProgramParameter(v,35714)===!1){Z=!1;const O=TL(i,T,"vertex"),j=TL(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+R+`
`+O+`
`+j)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(k===""||G==="")&&(W=!1);W&&(this.diagnostics={runnable:Z,programLog:R,vertexShader:{log:k,prefix:_},fragmentShader:{log:G,prefix:y}})}i.deleteShader(T),i.deleteShader(P);let L;this.getUniforms=function(){return L===void 0&&(L=new qv(i,v)),L};let A;return this.getAttributes=function(){return A===void 0&&(A=ine(i,v)),A},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=t.shaderName,this.id=Jte++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=T,this.fragmentShader=P,this}let mne=0;class gne{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new vne(e),t.set(e,r)),r}}class vne{constructor(e){this.id=mne++,this.code=e,this.usedTimes=0}}function yne(n,e,t,r,i,s,o){const a=new du,l=new gne,u=[],f=i.isWebGL2,h=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(A,R,k,G,Z){const W=G.fog,O=Z.geometry,j=A.isMeshStandardMaterial?G.environment:null,$=(A.isMeshStandardMaterial?t:e).get(A.envMap||j),ie=!!$&&$.mapping===Nf?$.image.height:null,I=g[A.type];A.precision!==null&&(m=i.getMaxPrecision(A.precision),m!==A.precision&&console.warn("THREE.WebGLProgram.getParameters:",A.precision,"not supported, using",m,"instead."));const N=O.morphAttributes.position||O.morphAttributes.normal||O.morphAttributes.color,U=N!==void 0?N.length:0;let X=0;O.morphAttributes.position!==void 0&&(X=1),O.morphAttributes.normal!==void 0&&(X=2),O.morphAttributes.color!==void 0&&(X=3);let Y,ae,se,ge;if(I){const Ke=cs[I];Y=Ke.vertexShader,ae=Ke.fragmentShader}else Y=A.vertexShader,ae=A.fragmentShader,l.update(A),se=l.getVertexShaderID(A),ge=l.getFragmentShaderID(A);const oe=n.getRenderTarget(),Ne=A.alphaTest>0,Ue=A.clearcoat>0,He=A.iridescence>0;return{isWebGL2:f,shaderID:I,shaderName:A.type,vertexShader:Y,fragmentShader:ae,defines:A.defines,customVertexShaderID:se,customFragmentShaderID:ge,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:m,instancing:Z.isInstancedMesh===!0,instancingColor:Z.isInstancedMesh===!0&&Z.instanceColor!==null,supportsVertexTextures:p,outputEncoding:oe===null?n.outputEncoding:oe.isXRRenderTarget===!0?oe.texture.encoding:Ho,map:!!A.map,matcap:!!A.matcap,envMap:!!$,envMapMode:$&&$.mapping,envMapCubeUVHeight:ie,lightMap:!!A.lightMap,aoMap:!!A.aoMap,emissiveMap:!!A.emissiveMap,bumpMap:!!A.bumpMap,normalMap:!!A.normalMap,objectSpaceNormalMap:A.normalMapType===U4,tangentSpaceNormalMap:A.normalMapType===$o,decodeVideoTexture:!!A.map&&A.map.isVideoTexture===!0&&A.map.encoding===Nt,clearcoat:Ue,clearcoatMap:Ue&&!!A.clearcoatMap,clearcoatRoughnessMap:Ue&&!!A.clearcoatRoughnessMap,clearcoatNormalMap:Ue&&!!A.clearcoatNormalMap,iridescence:He,iridescenceMap:He&&!!A.iridescenceMap,iridescenceThicknessMap:He&&!!A.iridescenceThicknessMap,displacementMap:!!A.displacementMap,roughnessMap:!!A.roughnessMap,metalnessMap:!!A.metalnessMap,specularMap:!!A.specularMap,specularIntensityMap:!!A.specularIntensityMap,specularColorMap:!!A.specularColorMap,opaque:A.transparent===!1&&A.blending===lu,alphaMap:!!A.alphaMap,alphaTest:Ne,gradientMap:!!A.gradientMap,sheen:A.sheen>0,sheenColorMap:!!A.sheenColorMap,sheenRoughnessMap:!!A.sheenRoughnessMap,transmission:A.transmission>0,transmissionMap:!!A.transmissionMap,thicknessMap:!!A.thicknessMap,combine:A.combine,vertexTangents:!!A.normalMap&&!!O.attributes.tangent,vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!O.attributes.color&&O.attributes.color.itemSize===4,vertexUvs:!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatMap||!!A.clearcoatRoughnessMap||!!A.clearcoatNormalMap||!!A.iridescenceMap||!!A.iridescenceThicknessMap||!!A.displacementMap||!!A.transmissionMap||!!A.thicknessMap||!!A.specularIntensityMap||!!A.specularColorMap||!!A.sheenColorMap||!!A.sheenRoughnessMap,uvsVertexOnly:!(!!A.map||!!A.bumpMap||!!A.normalMap||!!A.specularMap||!!A.alphaMap||!!A.emissiveMap||!!A.roughnessMap||!!A.metalnessMap||!!A.clearcoatNormalMap||!!A.iridescenceMap||!!A.iridescenceThicknessMap||A.transmission>0||!!A.transmissionMap||!!A.thicknessMap||!!A.specularIntensityMap||!!A.specularColorMap||A.sheen>0||!!A.sheenColorMap||!!A.sheenRoughnessMap)&&!!A.displacementMap,fog:!!W,useFog:A.fog===!0,fogExp2:W&&W.isFogExp2,flatShading:!!A.flatShading,sizeAttenuation:A.sizeAttenuation,logarithmicDepthBuffer:h,skinning:Z.isSkinnedMesh===!0,morphTargets:O.morphAttributes.position!==void 0,morphNormals:O.morphAttributes.normal!==void 0,morphColors:O.morphAttributes.color!==void 0,morphTargetsCount:U,morphTextureStride:X,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:A.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:A.toneMapped?n.toneMapping:gs,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===js,flipSided:A.side===pi,useDepthPacking:!!A.depthPacking,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionDerivatives:A.extensions&&A.extensions.derivatives,extensionFragDepth:A.extensions&&A.extensions.fragDepth,extensionDrawBuffers:A.extensions&&A.extensions.drawBuffers,extensionShaderTextureLOD:A.extensions&&A.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),customProgramCacheKey:A.customProgramCacheKey()}}function _(A){const R=[];if(A.shaderID?R.push(A.shaderID):(R.push(A.customVertexShaderID),R.push(A.customFragmentShaderID)),A.defines!==void 0)for(const k in A.defines)R.push(k),R.push(A.defines[k]);return A.isRawShaderMaterial===!1&&(y(R,A),w(R,A),R.push(n.outputEncoding)),R.push(A.customProgramCacheKey),R.join()}function y(A,R){A.push(R.precision),A.push(R.outputEncoding),A.push(R.envMapMode),A.push(R.envMapCubeUVHeight),A.push(R.combine),A.push(R.vertexUvs),A.push(R.fogExp2),A.push(R.sizeAttenuation),A.push(R.morphTargetsCount),A.push(R.morphAttributeCount),A.push(R.numDirLights),A.push(R.numPointLights),A.push(R.numSpotLights),A.push(R.numSpotLightMaps),A.push(R.numHemiLights),A.push(R.numRectAreaLights),A.push(R.numDirLightShadows),A.push(R.numPointLightShadows),A.push(R.numSpotLightShadows),A.push(R.numSpotLightShadowsWithMaps),A.push(R.shadowMapType),A.push(R.toneMapping),A.push(R.numClippingPlanes),A.push(R.numClipIntersection),A.push(R.depthPacking)}function w(A,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),A.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.physicallyCorrectLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),A.push(a.mask)}function S(A){const R=g[A.type];let k;if(R){const G=cs[R];k=W4.clone(G.uniforms)}else k=A.uniforms;return k}function M(A,R){let k;for(let G=0,Z=u.length;G<Z;G++){const W=u[G];if(W.cacheKey===R){k=W,++k.usedTimes;break}}return k===void 0&&(k=new pne(n,R,A,s),u.push(k)),k}function T(A){if(--A.usedTimes===0){const R=u.indexOf(A);u[R]=u[u.length-1],u.pop(),A.destroy()}}function P(A){l.remove(A)}function L(){l.dispose()}return{getParameters:v,getProgramCacheKey:_,getUniforms:S,acquireProgram:M,releaseProgram:T,releaseShaderCache:P,programs:u,dispose:L}}function _ne(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function xne(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function RL(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function LL(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(h,p,m,g,v,_){let y=n[e];return y===void 0?(y={id:h.id,object:h,geometry:p,material:m,groupOrder:g,renderOrder:h.renderOrder,z:v,group:_},n[e]=y):(y.id=h.id,y.object=h,y.geometry=p,y.material=m,y.groupOrder=g,y.renderOrder=h.renderOrder,y.z=v,y.group=_),e++,y}function a(h,p,m,g,v,_){const y=o(h,p,m,g,v,_);m.transmission>0?r.push(y):m.transparent===!0?i.push(y):t.push(y)}function l(h,p,m,g,v,_){const y=o(h,p,m,g,v,_);m.transmission>0?r.unshift(y):m.transparent===!0?i.unshift(y):t.unshift(y)}function u(h,p){t.length>1&&t.sort(h||xne),r.length>1&&r.sort(p||RL),i.length>1&&i.sort(p||RL)}function f(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:f,sort:u}}function wne(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new LL,n.set(r,[o])):i>=s.length?(o=new LL,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function Sne(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new B,color:new ze};break;case"SpotLight":t={position:new B,direction:new B,color:new ze,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new B,color:new ze,distance:0,decay:0};break;case"HemisphereLight":t={direction:new B,skyColor:new ze,groundColor:new ze};break;case"RectAreaLight":t={color:new ze,position:new B,halfWidth:new B,halfHeight:new B};break}return n[e.id]=t,t}}}function bne(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new we,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Mne=0;function Tne(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Ene(n,e){const t=new Sne,r=bne(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let f=0;f<9;f++)i.probe.push(new B);const s=new B,o=new ut,a=new ut;function l(f,h){let p=0,m=0,g=0;for(let G=0;G<9;G++)i.probe[G].set(0,0,0);let v=0,_=0,y=0,w=0,S=0,M=0,T=0,P=0,L=0,A=0;f.sort(Tne);const R=h!==!0?Math.PI:1;for(let G=0,Z=f.length;G<Z;G++){const W=f[G],O=W.color,j=W.intensity,$=W.distance,ie=W.shadow&&W.shadow.map?W.shadow.map.texture:null;if(W.isAmbientLight)p+=O.r*j*R,m+=O.g*j*R,g+=O.b*j*R;else if(W.isLightProbe)for(let I=0;I<9;I++)i.probe[I].addScaledVector(W.sh.coefficients[I],j);else if(W.isDirectionalLight){const I=t.get(W);if(I.color.copy(W.color).multiplyScalar(W.intensity*R),W.castShadow){const N=W.shadow,U=r.get(W);U.shadowBias=N.bias,U.shadowNormalBias=N.normalBias,U.shadowRadius=N.radius,U.shadowMapSize=N.mapSize,i.directionalShadow[v]=U,i.directionalShadowMap[v]=ie,i.directionalShadowMatrix[v]=W.shadow.matrix,M++}i.directional[v]=I,v++}else if(W.isSpotLight){const I=t.get(W);I.position.setFromMatrixPosition(W.matrixWorld),I.color.copy(O).multiplyScalar(j*R),I.distance=$,I.coneCos=Math.cos(W.angle),I.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),I.decay=W.decay,i.spot[y]=I;const N=W.shadow;if(W.map&&(i.spotLightMap[L]=W.map,L++,N.updateMatrices(W),W.castShadow&&A++),i.spotLightMatrix[y]=N.matrix,W.castShadow){const U=r.get(W);U.shadowBias=N.bias,U.shadowNormalBias=N.normalBias,U.shadowRadius=N.radius,U.shadowMapSize=N.mapSize,i.spotShadow[y]=U,i.spotShadowMap[y]=ie,P++}y++}else if(W.isRectAreaLight){const I=t.get(W);I.color.copy(O).multiplyScalar(j),I.halfWidth.set(W.width*.5,0,0),I.halfHeight.set(0,W.height*.5,0),i.rectArea[w]=I,w++}else if(W.isPointLight){const I=t.get(W);if(I.color.copy(W.color).multiplyScalar(W.intensity*R),I.distance=W.distance,I.decay=W.decay,W.castShadow){const N=W.shadow,U=r.get(W);U.shadowBias=N.bias,U.shadowNormalBias=N.normalBias,U.shadowRadius=N.radius,U.shadowMapSize=N.mapSize,U.shadowCameraNear=N.camera.near,U.shadowCameraFar=N.camera.far,i.pointShadow[_]=U,i.pointShadowMap[_]=ie,i.pointShadowMatrix[_]=W.shadow.matrix,T++}i.point[_]=I,_++}else if(W.isHemisphereLight){const I=t.get(W);I.skyColor.copy(W.color).multiplyScalar(j*R),I.groundColor.copy(W.groundColor).multiplyScalar(j*R),i.hemi[S]=I,S++}}w>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Fe.LTC_FLOAT_1,i.rectAreaLTC2=Fe.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Fe.LTC_HALF_1,i.rectAreaLTC2=Fe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=g;const k=i.hash;(k.directionalLength!==v||k.pointLength!==_||k.spotLength!==y||k.rectAreaLength!==w||k.hemiLength!==S||k.numDirectionalShadows!==M||k.numPointShadows!==T||k.numSpotShadows!==P||k.numSpotMaps!==L)&&(i.directional.length=v,i.spot.length=y,i.rectArea.length=w,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=T,i.pointShadowMap.length=T,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=T,i.spotLightMatrix.length=P+L-A,i.spotLightMap.length=L,i.numSpotLightShadowsWithMaps=A,k.directionalLength=v,k.pointLength=_,k.spotLength=y,k.rectAreaLength=w,k.hemiLength=S,k.numDirectionalShadows=M,k.numPointShadows=T,k.numSpotShadows=P,k.numSpotMaps=L,i.version=Mne++)}function u(f,h){let p=0,m=0,g=0,v=0,_=0;const y=h.matrixWorldInverse;for(let w=0,S=f.length;w<S;w++){const M=f[w];if(M.isDirectionalLight){const T=i.directional[p];T.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(y),p++}else if(M.isSpotLight){const T=i.spot[g];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(y),T.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(y),g++}else if(M.isRectAreaLight){const T=i.rectArea[v];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(y),a.identity(),o.copy(M.matrixWorld),o.premultiply(y),a.extractRotation(o),T.halfWidth.set(M.width*.5,0,0),T.halfHeight.set(0,M.height*.5,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),v++}else if(M.isPointLight){const T=i.point[m];T.position.setFromMatrixPosition(M.matrixWorld),T.position.applyMatrix4(y),m++}else if(M.isHemisphereLight){const T=i.hemi[_];T.direction.setFromMatrixPosition(M.matrixWorld),T.direction.transformDirection(y),_++}}}return{setup:l,setupView:u,state:i}}function OL(n,e){const t=new Ene(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){t.setup(r,h)}function u(h){t.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function Ane(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new OL(n,e),t.set(s,[l])):o>=a.length?(l=new OL(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class DE extends Nn{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=F4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class NE extends Nn{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new B,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Cne=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Pne=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Rne(n,e,t){let r=new Ky;const i=new we,s=new we,o=new Vt,a=new DE({depthPacking:z4}),l=new NE,u={},f=t.maxTextureSize,h={0:pi,1:Ja,2:js},p=new Zs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new we},radius:{value:4}},vertexShader:Cne,fragmentShader:Pne}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new mt;g.setAttribute("position",new Gt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Kn(g,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=wE,this.render=function(M,T,P){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||M.length===0)return;const L=n.getRenderTarget(),A=n.getActiveCubeFace(),R=n.getActiveMipmapLevel(),k=n.state;k.setBlending(Oo),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);for(let G=0,Z=M.length;G<Z;G++){const W=M[G],O=W.shadow;if(O===void 0){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(O.autoUpdate===!1&&O.needsUpdate===!1)continue;i.copy(O.mapSize);const j=O.getFrameExtents();if(i.multiply(j),s.copy(O.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/j.x),i.x=s.x*j.x,O.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/j.y),i.y=s.y*j.y,O.mapSize.y=s.y)),O.map===null){const ie=this.type!==Vc?{minFilter:An,magFilter:An}:{};O.map=new Ki(i.x,i.y,ie),O.map.texture.name=W.name+".shadowMap",O.camera.updateProjectionMatrix()}n.setRenderTarget(O.map),n.clear();const $=O.getViewportCount();for(let ie=0;ie<$;ie++){const I=O.getViewport(ie);o.set(s.x*I.x,s.y*I.y,s.x*I.z,s.y*I.w),k.viewport(o),O.updateMatrices(W,ie),r=O.getFrustum(),S(T,P,O.camera,W,this.type)}O.isPointLightShadow!==!0&&this.type===Vc&&y(O,P),O.needsUpdate=!1}_.needsUpdate=!1,n.setRenderTarget(L,A,R)};function y(M,T){const P=e.update(v);p.defines.VSM_SAMPLES!==M.blurSamples&&(p.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new Ki(i.x,i.y)),p.uniforms.shadow_pass.value=M.map.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(T,null,P,p,v,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(T,null,P,m,v,null)}function w(M,T,P,L,A,R){let k=null;const G=P.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(G!==void 0?k=G:k=P.isPointLight===!0?l:a,n.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0){const Z=k.uuid,W=T.uuid;let O=u[Z];O===void 0&&(O={},u[Z]=O);let j=O[W];j===void 0&&(j=k.clone(),O[W]=j),k=j}return k.visible=T.visible,k.wireframe=T.wireframe,R===Vc?k.side=T.shadowSide!==null?T.shadowSide:T.side:k.side=T.shadowSide!==null?T.shadowSide:h[T.side],k.alphaMap=T.alphaMap,k.alphaTest=T.alphaTest,k.clipShadows=T.clipShadows,k.clippingPlanes=T.clippingPlanes,k.clipIntersection=T.clipIntersection,k.displacementMap=T.displacementMap,k.displacementScale=T.displacementScale,k.displacementBias=T.displacementBias,k.wireframeLinewidth=T.wireframeLinewidth,k.linewidth=T.linewidth,P.isPointLight===!0&&k.isMeshDistanceMaterial===!0&&(k.referencePosition.setFromMatrixPosition(P.matrixWorld),k.nearDistance=L,k.farDistance=A),k}function S(M,T,P,L,A){if(M.visible===!1)return;if(M.layers.test(T.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&A===Vc)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,M.matrixWorld);const G=e.update(M),Z=M.material;if(Array.isArray(Z)){const W=G.groups;for(let O=0,j=W.length;O<j;O++){const $=W[O],ie=Z[$.materialIndex];if(ie&&ie.visible){const I=w(M,ie,L,P.near,P.far,A);n.renderBufferDirect(P,null,G,I,M,$)}}}else if(Z.visible){const W=w(M,Z,L,P.near,P.far,A);n.renderBufferDirect(P,null,G,W,M,null)}}const k=M.children;for(let G=0,Z=k.length;G<Z;G++)S(k[G],T,P,L,A)}}function Lne(n,e,t){const r=t.isWebGL2;function i(){let K=!1;const pe=new Vt;let Te=null;const je=new Vt(0,0,0,0);return{setMask:function(Qe){Te!==Qe&&!K&&(n.colorMask(Qe,Qe,Qe,Qe),Te=Qe)},setLocked:function(Qe){K=Qe},setClear:function(Qe,Pt,bn,Hn,Ss){Ss===!0&&(Qe*=Hn,Pt*=Hn,bn*=Hn),pe.set(Qe,Pt,bn,Hn),je.equals(pe)===!1&&(n.clearColor(Qe,Pt,bn,Hn),je.copy(pe))},reset:function(){K=!1,Te=null,je.set(-1,0,0,0)}}}function s(){let K=!1,pe=null,Te=null,je=null;return{setTest:function(Qe){Qe?Ne(2929):Ue(2929)},setMask:function(Qe){pe!==Qe&&!K&&(n.depthMask(Qe),pe=Qe)},setFunc:function(Qe){if(Te!==Qe){switch(Qe){case s4:n.depthFunc(512);break;case o4:n.depthFunc(519);break;case a4:n.depthFunc(513);break;case U0:n.depthFunc(515);break;case l4:n.depthFunc(514);break;case u4:n.depthFunc(518);break;case c4:n.depthFunc(516);break;case f4:n.depthFunc(517);break;default:n.depthFunc(515)}Te=Qe}},setLocked:function(Qe){K=Qe},setClear:function(Qe){je!==Qe&&(n.clearDepth(Qe),je=Qe)},reset:function(){K=!1,pe=null,Te=null,je=null}}}function o(){let K=!1,pe=null,Te=null,je=null,Qe=null,Pt=null,bn=null,Hn=null,Ss=null;return{setTest:function(Wt){K||(Wt?Ne(2960):Ue(2960))},setMask:function(Wt){pe!==Wt&&!K&&(n.stencilMask(Wt),pe=Wt)},setFunc:function(Wt,xi,Ir){(Te!==Wt||je!==xi||Qe!==Ir)&&(n.stencilFunc(Wt,xi,Ir),Te=Wt,je=xi,Qe=Ir)},setOp:function(Wt,xi,Ir){(Pt!==Wt||bn!==xi||Hn!==Ir)&&(n.stencilOp(Wt,xi,Ir),Pt=Wt,bn=xi,Hn=Ir)},setLocked:function(Wt){K=Wt},setClear:function(Wt){Ss!==Wt&&(n.clearStencil(Wt),Ss=Wt)},reset:function(){K=!1,pe=null,Te=null,je=null,Qe=null,Pt=null,bn=null,Hn=null,Ss=null}}}const a=new i,l=new s,u=new o,f=new WeakMap,h=new WeakMap;let p={},m={},g=new WeakMap,v=[],_=null,y=!1,w=null,S=null,M=null,T=null,P=null,L=null,A=null,R=!1,k=null,G=null,Z=null,W=null,O=null;const j=n.getParameter(35661);let $=!1,ie=0;const I=n.getParameter(7938);I.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(I)[1]),$=ie>=1):I.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),$=ie>=2);let N=null,U={};const X=n.getParameter(3088),Y=n.getParameter(2978),ae=new Vt().fromArray(X),se=new Vt().fromArray(Y);function ge(K,pe,Te){const je=new Uint8Array(4),Qe=n.createTexture();n.bindTexture(K,Qe),n.texParameteri(K,10241,9728),n.texParameteri(K,10240,9728);for(let Pt=0;Pt<Te;Pt++)n.texImage2D(pe+Pt,0,6408,1,1,0,6408,5121,je);return Qe}const oe={};oe[3553]=ge(3553,3553,1),oe[34067]=ge(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Ne(2929),l.setFunc(U0),Re(!1),tt(yb),Ne(2884),Me(Oo);function Ne(K){p[K]!==!0&&(n.enable(K),p[K]=!0)}function Ue(K){p[K]!==!1&&(n.disable(K),p[K]=!1)}function He(K,pe){return m[K]!==pe?(n.bindFramebuffer(K,pe),m[K]=pe,r&&(K===36009&&(m[36160]=pe),K===36160&&(m[36009]=pe)),!0):!1}function Pe(K,pe){let Te=v,je=!1;if(K)if(Te=g.get(pe),Te===void 0&&(Te=[],g.set(pe,Te)),K.isWebGLMultipleRenderTargets){const Qe=K.texture;if(Te.length!==Qe.length||Te[0]!==36064){for(let Pt=0,bn=Qe.length;Pt<bn;Pt++)Te[Pt]=36064+Pt;Te.length=Qe.length,je=!0}}else Te[0]!==36064&&(Te[0]=36064,je=!0);else Te[0]!==1029&&(Te[0]=1029,je=!0);je&&(t.isWebGL2?n.drawBuffers(Te):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Te))}function Ke(K){return _!==K?(n.useProgram(K),_=K,!0):!1}const ve={[$l]:32774,[Xz]:32778,[Yz]:32779};if(r)ve[Sb]=32775,ve[bb]=32776;else{const K=e.get("EXT_blend_minmax");K!==null&&(ve[Sb]=K.MIN_EXT,ve[bb]=K.MAX_EXT)}const fe={[Kz]:0,[Jz]:1,[Zz]:768,[bE]:770,[i4]:776,[n4]:774,[e4]:772,[Qz]:769,[ME]:771,[r4]:775,[t4]:773};function Me(K,pe,Te,je,Qe,Pt,bn,Hn){if(K===Oo){y===!0&&(Ue(3042),y=!1);return}if(y===!1&&(Ne(3042),y=!0),K!==qz){if(K!==w||Hn!==R){if((S!==$l||P!==$l)&&(n.blendEquation(32774),S=$l,P=$l),Hn)switch(K){case lu:n.blendFuncSeparate(1,771,1,771);break;case _b:n.blendFunc(1,1);break;case xb:n.blendFuncSeparate(0,769,0,1);break;case wb:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}else switch(K){case lu:n.blendFuncSeparate(770,771,1,771);break;case _b:n.blendFunc(770,1);break;case xb:n.blendFuncSeparate(0,769,0,1);break;case wb:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",K);break}M=null,T=null,L=null,A=null,w=K,R=Hn}return}Qe=Qe||pe,Pt=Pt||Te,bn=bn||je,(pe!==S||Qe!==P)&&(n.blendEquationSeparate(ve[pe],ve[Qe]),S=pe,P=Qe),(Te!==M||je!==T||Pt!==L||bn!==A)&&(n.blendFuncSeparate(fe[Te],fe[je],fe[Pt],fe[bn]),M=Te,T=je,L=Pt,A=bn),w=K,R=null}function Be(K,pe){K.side===js?Ue(2884):Ne(2884);let Te=K.side===pi;pe&&(Te=!Te),Re(Te),K.blending===lu&&K.transparent===!1?Me(Oo):Me(K.blending,K.blendEquation,K.blendSrc,K.blendDst,K.blendEquationAlpha,K.blendSrcAlpha,K.blendDstAlpha,K.premultipliedAlpha),l.setFunc(K.depthFunc),l.setTest(K.depthTest),l.setMask(K.depthWrite),a.setMask(K.colorWrite);const je=K.stencilWrite;u.setTest(je),je&&(u.setMask(K.stencilWriteMask),u.setFunc(K.stencilFunc,K.stencilRef,K.stencilFuncMask),u.setOp(K.stencilFail,K.stencilZFail,K.stencilZPass)),$e(K.polygonOffset,K.polygonOffsetFactor,K.polygonOffsetUnits),K.alphaToCoverage===!0?Ne(32926):Ue(32926)}function Re(K){k!==K&&(K?n.frontFace(2304):n.frontFace(2305),k=K)}function tt(K){K!==Wz?(Ne(2884),K!==G&&(K===yb?n.cullFace(1029):K===$z?n.cullFace(1028):n.cullFace(1032))):Ue(2884),G=K}function Xe(K){K!==Z&&($&&n.lineWidth(K),Z=K)}function $e(K,pe,Te){K?(Ne(32823),(W!==pe||O!==Te)&&(n.polygonOffset(pe,Te),W=pe,O=Te)):Ue(32823)}function re(K){K?Ne(3089):Ue(3089)}function Ee(K){K===void 0&&(K=33984+j-1),N!==K&&(n.activeTexture(K),N=K)}function F(K,pe,Te){Te===void 0&&(N===null?Te=33984+j-1:Te=N);let je=U[Te];je===void 0&&(je={type:void 0,texture:void 0},U[Te]=je),(je.type!==K||je.texture!==pe)&&(N!==Te&&(n.activeTexture(Te),N=Te),n.bindTexture(K,pe||oe[K]),je.type=K,je.texture=pe)}function D(){const K=U[N];K!==void 0&&K.type!==void 0&&(n.bindTexture(K.type,null),K.type=void 0,K.texture=void 0)}function te(){try{n.compressedTexImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ye(){try{n.compressedTexImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function be(){try{n.texSubImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function De(){try{n.texSubImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function nt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function ke(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function xe(){try{n.texStorage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Je(){try{n.texStorage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function q(){try{n.texImage2D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function de(){try{n.texImage3D.apply(n,arguments)}catch(K){console.error("THREE.WebGLState:",K)}}function Ae(K){ae.equals(K)===!1&&(n.scissor(K.x,K.y,K.z,K.w),ae.copy(K))}function Ie(K){se.equals(K)===!1&&(n.viewport(K.x,K.y,K.z,K.w),se.copy(K))}function it(K,pe){let Te=h.get(pe);Te===void 0&&(Te=new WeakMap,h.set(pe,Te));let je=Te.get(K);je===void 0&&(je=n.getUniformBlockIndex(pe,K.name),Te.set(K,je))}function xt(K,pe){const je=h.get(pe).get(K);f.get(K)!==je&&(n.uniformBlockBinding(pe,je,K.__bindingPointIndex),f.set(K,je))}function Qt(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},N=null,U={},m={},g=new WeakMap,v=[],_=null,y=!1,w=null,S=null,M=null,T=null,P=null,L=null,A=null,R=!1,k=null,G=null,Z=null,W=null,O=null,ae.set(0,0,n.canvas.width,n.canvas.height),se.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Ne,disable:Ue,bindFramebuffer:He,drawBuffers:Pe,useProgram:Ke,setBlending:Me,setMaterial:Be,setFlipSided:Re,setCullFace:tt,setLineWidth:Xe,setPolygonOffset:$e,setScissorTest:re,activeTexture:Ee,bindTexture:F,unbindTexture:D,compressedTexImage2D:te,compressedTexImage3D:ye,texImage2D:q,texImage3D:de,updateUBOMapping:it,uniformBlockBinding:xt,texStorage2D:xe,texStorage3D:Je,texSubImage2D:be,texSubImage3D:De,compressedTexSubImage2D:nt,compressedTexSubImage3D:ke,scissor:Ae,viewport:Ie,reset:Qt}}function One(n,e,t,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,f=i.maxTextureSize,h=i.maxSamples,p=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=/OculusBrowser/g.test(typeof navigator>"u"?"":navigator.userAgent),g=new WeakMap;let v;const _=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(F,D){return y?new OffscreenCanvas(F,D):ip("canvas")}function S(F,D,te,ye){let be=1;if((F.width>ye||F.height>ye)&&(be=ye/Math.max(F.width,F.height)),be<1||D===!0)if(typeof HTMLImageElement<"u"&&F instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&F instanceof ImageBitmap){const De=D?V0:Math.floor,nt=De(be*F.width),ke=De(be*F.height);v===void 0&&(v=w(nt,ke));const xe=te?w(nt,ke):v;return xe.width=nt,xe.height=ke,xe.getContext("2d").drawImage(F,0,0,nt,ke),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+F.width+"x"+F.height+") to ("+nt+"x"+ke+")."),xe}else return"data"in F&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+F.width+"x"+F.height+")."),F;return F}function M(F){return $b(F.width)&&$b(F.height)}function T(F){return a?!1:F.wrapS!==ir||F.wrapT!==ir||F.minFilter!==An&&F.minFilter!==dn}function P(F,D){return F.generateMipmaps&&D&&F.minFilter!==An&&F.minFilter!==dn}function L(F){n.generateMipmap(F)}function A(F,D,te,ye,be=!1){if(a===!1)return D;if(F!==null){if(n[F]!==void 0)return n[F];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+F+"'")}let De=D;return D===6403&&(te===5126&&(De=33326),te===5131&&(De=33325),te===5121&&(De=33321)),D===33319&&(te===5126&&(De=33328),te===5131&&(De=33327),te===5121&&(De=33323)),D===6408&&(te===5126&&(De=34836),te===5131&&(De=34842),te===5121&&(De=ye===Nt&&be===!1?35907:32856),te===32819&&(De=32854),te===32820&&(De=32855)),(De===33325||De===33326||De===33327||De===33328||De===34842||De===34836)&&e.get("EXT_color_buffer_float"),De}function R(F,D,te){return P(F,te)===!0||F.isFramebufferTexture&&F.minFilter!==An&&F.minFilter!==dn?Math.log2(Math.max(D.width,D.height))+1:F.mipmaps!==void 0&&F.mipmaps.length>0?F.mipmaps.length:F.isCompressedTexture&&Array.isArray(F.image)?D.mipmaps.length:1}function k(F){return F===An||F===Qh||F===ep?9728:9729}function G(F){const D=F.target;D.removeEventListener("dispose",G),W(D),D.isVideoTexture&&g.delete(D)}function Z(F){const D=F.target;D.removeEventListener("dispose",Z),j(D)}function W(F){const D=r.get(F);if(D.__webglInit===void 0)return;const te=F.source,ye=_.get(te);if(ye){const be=ye[D.__cacheKey];be.usedTimes--,be.usedTimes===0&&O(F),Object.keys(ye).length===0&&_.delete(te)}r.remove(F)}function O(F){const D=r.get(F);n.deleteTexture(D.__webglTexture);const te=F.source,ye=_.get(te);delete ye[D.__cacheKey],o.memory.textures--}function j(F){const D=F.texture,te=r.get(F),ye=r.get(D);if(ye.__webglTexture!==void 0&&(n.deleteTexture(ye.__webglTexture),o.memory.textures--),F.depthTexture&&F.depthTexture.dispose(),F.isWebGLCubeRenderTarget)for(let be=0;be<6;be++)n.deleteFramebuffer(te.__webglFramebuffer[be]),te.__webglDepthbuffer&&n.deleteRenderbuffer(te.__webglDepthbuffer[be]);else{if(n.deleteFramebuffer(te.__webglFramebuffer),te.__webglDepthbuffer&&n.deleteRenderbuffer(te.__webglDepthbuffer),te.__webglMultisampledFramebuffer&&n.deleteFramebuffer(te.__webglMultisampledFramebuffer),te.__webglColorRenderbuffer)for(let be=0;be<te.__webglColorRenderbuffer.length;be++)te.__webglColorRenderbuffer[be]&&n.deleteRenderbuffer(te.__webglColorRenderbuffer[be]);te.__webglDepthRenderbuffer&&n.deleteRenderbuffer(te.__webglDepthRenderbuffer)}if(F.isWebGLMultipleRenderTargets)for(let be=0,De=D.length;be<De;be++){const nt=r.get(D[be]);nt.__webglTexture&&(n.deleteTexture(nt.__webglTexture),o.memory.textures--),r.remove(D[be])}r.remove(D),r.remove(F)}let $=0;function ie(){$=0}function I(){const F=$;return F>=l&&console.warn("THREE.WebGLTextures: Trying to use "+F+" texture units while this GPU supports only "+l),$+=1,F}function N(F){const D=[];return D.push(F.wrapS),D.push(F.wrapT),D.push(F.wrapR||0),D.push(F.magFilter),D.push(F.minFilter),D.push(F.anisotropy),D.push(F.internalFormat),D.push(F.format),D.push(F.type),D.push(F.generateMipmaps),D.push(F.premultiplyAlpha),D.push(F.flipY),D.push(F.unpackAlignment),D.push(F.encoding),D.join()}function U(F,D){const te=r.get(F);if(F.isVideoTexture&&re(F),F.isRenderTargetTexture===!1&&F.version>0&&te.__version!==F.version){const ye=F.image;if(ye===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ye.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ue(te,F,D);return}}t.bindTexture(3553,te.__webglTexture,33984+D)}function X(F,D){const te=r.get(F);if(F.version>0&&te.__version!==F.version){Ue(te,F,D);return}t.bindTexture(35866,te.__webglTexture,33984+D)}function Y(F,D){const te=r.get(F);if(F.version>0&&te.__version!==F.version){Ue(te,F,D);return}t.bindTexture(32879,te.__webglTexture,33984+D)}function ae(F,D){const te=r.get(F);if(F.version>0&&te.__version!==F.version){He(te,F,D);return}t.bindTexture(34067,te.__webglTexture,33984+D)}const se={[el]:10497,[ir]:33071,[vf]:33648},ge={[An]:9728,[Qh]:9984,[ep]:9986,[dn]:9729,[qy]:9985,[Wo]:9987};function oe(F,D,te){if(te?(n.texParameteri(F,10242,se[D.wrapS]),n.texParameteri(F,10243,se[D.wrapT]),(F===32879||F===35866)&&n.texParameteri(F,32882,se[D.wrapR]),n.texParameteri(F,10240,ge[D.magFilter]),n.texParameteri(F,10241,ge[D.minFilter])):(n.texParameteri(F,10242,33071),n.texParameteri(F,10243,33071),(F===32879||F===35866)&&n.texParameteri(F,32882,33071),(D.wrapS!==ir||D.wrapT!==ir)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(F,10240,k(D.magFilter)),n.texParameteri(F,10241,k(D.minFilter)),D.minFilter!==An&&D.minFilter!==dn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const ye=e.get("EXT_texture_filter_anisotropic");if(D.type===Co&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===yf&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||r.get(D).__currentAnisotropy)&&(n.texParameterf(F,ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy)}}function Ne(F,D){let te=!1;F.__webglInit===void 0&&(F.__webglInit=!0,D.addEventListener("dispose",G));const ye=D.source;let be=_.get(ye);be===void 0&&(be={},_.set(ye,be));const De=N(D);if(De!==F.__cacheKey){be[De]===void 0&&(be[De]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,te=!0),be[De].usedTimes++;const nt=be[F.__cacheKey];nt!==void 0&&(be[F.__cacheKey].usedTimes--,nt.usedTimes===0&&O(D)),F.__cacheKey=De,F.__webglTexture=be[De].texture}return te}function Ue(F,D,te){let ye=3553;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(ye=35866),D.isData3DTexture&&(ye=32879);const be=Ne(F,D),De=D.source;t.bindTexture(ye,F.__webglTexture,33984+te);const nt=r.get(De);if(De.version!==nt.__version||be===!0){t.activeTexture(33984+te),n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);const ke=T(D)&&M(D.image)===!1;let xe=S(D.image,ke,!1,f);xe=Ee(D,xe);const Je=M(xe)||a,q=s.convert(D.format,D.encoding);let de=s.convert(D.type),Ae=A(D.internalFormat,q,de,D.encoding,D.isVideoTexture);oe(ye,D,Je);let Ie;const it=D.mipmaps,xt=a&&D.isVideoTexture!==!0,Qt=nt.__version===void 0||be===!0,K=R(D,xe,Je);if(D.isDepthTexture)Ae=6402,a?D.type===Co?Ae=36012:D.type===La?Ae=33190:D.type===uu?Ae=35056:Ae=33189:D.type===Co&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===Ga&&Ae===6402&&D.type!==EE&&D.type!==La&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=La,de=s.convert(D.type)),D.format===wu&&Ae===6402&&(Ae=34041,D.type!==uu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=uu,de=s.convert(D.type))),Qt&&(xt?t.texStorage2D(3553,1,Ae,xe.width,xe.height):t.texImage2D(3553,0,Ae,xe.width,xe.height,0,q,de,null));else if(D.isDataTexture)if(it.length>0&&Je){xt&&Qt&&t.texStorage2D(3553,K,Ae,it[0].width,it[0].height);for(let pe=0,Te=it.length;pe<Te;pe++)Ie=it[pe],xt?t.texSubImage2D(3553,pe,0,0,Ie.width,Ie.height,q,de,Ie.data):t.texImage2D(3553,pe,Ae,Ie.width,Ie.height,0,q,de,Ie.data);D.generateMipmaps=!1}else xt?(Qt&&t.texStorage2D(3553,K,Ae,xe.width,xe.height),t.texSubImage2D(3553,0,0,0,xe.width,xe.height,q,de,xe.data)):t.texImage2D(3553,0,Ae,xe.width,xe.height,0,q,de,xe.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){xt&&Qt&&t.texStorage3D(35866,K,Ae,it[0].width,it[0].height,xe.depth);for(let pe=0,Te=it.length;pe<Te;pe++)Ie=it[pe],D.format!==ai?q!==null?xt?t.compressedTexSubImage3D(35866,pe,0,0,0,Ie.width,Ie.height,xe.depth,q,Ie.data,0,0):t.compressedTexImage3D(35866,pe,Ae,Ie.width,Ie.height,xe.depth,0,Ie.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xt?t.texSubImage3D(35866,pe,0,0,0,Ie.width,Ie.height,xe.depth,q,de,Ie.data):t.texImage3D(35866,pe,Ae,Ie.width,Ie.height,xe.depth,0,q,de,Ie.data)}else{xt&&Qt&&t.texStorage2D(3553,K,Ae,it[0].width,it[0].height);for(let pe=0,Te=it.length;pe<Te;pe++)Ie=it[pe],D.format!==ai?q!==null?xt?t.compressedTexSubImage2D(3553,pe,0,0,Ie.width,Ie.height,q,Ie.data):t.compressedTexImage2D(3553,pe,Ae,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xt?t.texSubImage2D(3553,pe,0,0,Ie.width,Ie.height,q,de,Ie.data):t.texImage2D(3553,pe,Ae,Ie.width,Ie.height,0,q,de,Ie.data)}else if(D.isDataArrayTexture)xt?(Qt&&t.texStorage3D(35866,K,Ae,xe.width,xe.height,xe.depth),t.texSubImage3D(35866,0,0,0,0,xe.width,xe.height,xe.depth,q,de,xe.data)):t.texImage3D(35866,0,Ae,xe.width,xe.height,xe.depth,0,q,de,xe.data);else if(D.isData3DTexture)xt?(Qt&&t.texStorage3D(32879,K,Ae,xe.width,xe.height,xe.depth),t.texSubImage3D(32879,0,0,0,0,xe.width,xe.height,xe.depth,q,de,xe.data)):t.texImage3D(32879,0,Ae,xe.width,xe.height,xe.depth,0,q,de,xe.data);else if(D.isFramebufferTexture){if(Qt)if(xt)t.texStorage2D(3553,K,Ae,xe.width,xe.height);else{let pe=xe.width,Te=xe.height;for(let je=0;je<K;je++)t.texImage2D(3553,je,Ae,pe,Te,0,q,de,null),pe>>=1,Te>>=1}}else if(it.length>0&&Je){xt&&Qt&&t.texStorage2D(3553,K,Ae,it[0].width,it[0].height);for(let pe=0,Te=it.length;pe<Te;pe++)Ie=it[pe],xt?t.texSubImage2D(3553,pe,0,0,q,de,Ie):t.texImage2D(3553,pe,Ae,q,de,Ie);D.generateMipmaps=!1}else xt?(Qt&&t.texStorage2D(3553,K,Ae,xe.width,xe.height),t.texSubImage2D(3553,0,0,0,q,de,xe)):t.texImage2D(3553,0,Ae,q,de,xe);P(D,Je)&&L(ye),nt.__version=De.version,D.onUpdate&&D.onUpdate(D)}F.__version=D.version}function He(F,D,te){if(D.image.length!==6)return;const ye=Ne(F,D),be=D.source;t.bindTexture(34067,F.__webglTexture,33984+te);const De=r.get(be);if(be.version!==De.__version||ye===!0){t.activeTexture(33984+te),n.pixelStorei(37440,D.flipY),n.pixelStorei(37441,D.premultiplyAlpha),n.pixelStorei(3317,D.unpackAlignment),n.pixelStorei(37443,0);const nt=D.isCompressedTexture||D.image[0].isCompressedTexture,ke=D.image[0]&&D.image[0].isDataTexture,xe=[];for(let pe=0;pe<6;pe++)!nt&&!ke?xe[pe]=S(D.image[pe],!1,!0,u):xe[pe]=ke?D.image[pe].image:D.image[pe],xe[pe]=Ee(D,xe[pe]);const Je=xe[0],q=M(Je)||a,de=s.convert(D.format,D.encoding),Ae=s.convert(D.type),Ie=A(D.internalFormat,de,Ae,D.encoding),it=a&&D.isVideoTexture!==!0,xt=De.__version===void 0||ye===!0;let Qt=R(D,Je,q);oe(34067,D,q);let K;if(nt){it&&xt&&t.texStorage2D(34067,Qt,Ie,Je.width,Je.height);for(let pe=0;pe<6;pe++){K=xe[pe].mipmaps;for(let Te=0;Te<K.length;Te++){const je=K[Te];D.format!==ai?de!==null?it?t.compressedTexSubImage2D(34069+pe,Te,0,0,je.width,je.height,de,je.data):t.compressedTexImage2D(34069+pe,Te,Ie,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):it?t.texSubImage2D(34069+pe,Te,0,0,je.width,je.height,de,Ae,je.data):t.texImage2D(34069+pe,Te,Ie,je.width,je.height,0,de,Ae,je.data)}}}else{K=D.mipmaps,it&&xt&&(K.length>0&&Qt++,t.texStorage2D(34067,Qt,Ie,xe[0].width,xe[0].height));for(let pe=0;pe<6;pe++)if(ke){it?t.texSubImage2D(34069+pe,0,0,0,xe[pe].width,xe[pe].height,de,Ae,xe[pe].data):t.texImage2D(34069+pe,0,Ie,xe[pe].width,xe[pe].height,0,de,Ae,xe[pe].data);for(let Te=0;Te<K.length;Te++){const Qe=K[Te].image[pe].image;it?t.texSubImage2D(34069+pe,Te+1,0,0,Qe.width,Qe.height,de,Ae,Qe.data):t.texImage2D(34069+pe,Te+1,Ie,Qe.width,Qe.height,0,de,Ae,Qe.data)}}else{it?t.texSubImage2D(34069+pe,0,0,0,de,Ae,xe[pe]):t.texImage2D(34069+pe,0,Ie,de,Ae,xe[pe]);for(let Te=0;Te<K.length;Te++){const je=K[Te];it?t.texSubImage2D(34069+pe,Te+1,0,0,de,Ae,je.image[pe]):t.texImage2D(34069+pe,Te+1,Ie,de,Ae,je.image[pe])}}}P(D,q)&&L(34067),De.__version=be.version,D.onUpdate&&D.onUpdate(D)}F.__version=D.version}function Pe(F,D,te,ye,be){const De=s.convert(te.format,te.encoding),nt=s.convert(te.type),ke=A(te.internalFormat,De,nt,te.encoding);r.get(D).__hasExternalTextures||(be===32879||be===35866?t.texImage3D(be,0,ke,D.width,D.height,D.depth,0,De,nt,null):t.texImage2D(be,0,ke,D.width,D.height,0,De,nt,null)),t.bindFramebuffer(36160,F),$e(D)?p.framebufferTexture2DMultisampleEXT(36160,ye,be,r.get(te).__webglTexture,0,Xe(D)):(be===3553||be>=34069&&be<=34074)&&n.framebufferTexture2D(36160,ye,be,r.get(te).__webglTexture,0),t.bindFramebuffer(36160,null)}function Ke(F,D,te){if(n.bindRenderbuffer(36161,F),D.depthBuffer&&!D.stencilBuffer){let ye=33189;if(te||$e(D)){const be=D.depthTexture;be&&be.isDepthTexture&&(be.type===Co?ye=36012:be.type===La&&(ye=33190));const De=Xe(D);$e(D)?p.renderbufferStorageMultisampleEXT(36161,De,ye,D.width,D.height):n.renderbufferStorageMultisample(36161,De,ye,D.width,D.height)}else n.renderbufferStorage(36161,ye,D.width,D.height);n.framebufferRenderbuffer(36160,36096,36161,F)}else if(D.depthBuffer&&D.stencilBuffer){const ye=Xe(D);te&&$e(D)===!1?n.renderbufferStorageMultisample(36161,ye,35056,D.width,D.height):$e(D)?p.renderbufferStorageMultisampleEXT(36161,ye,35056,D.width,D.height):n.renderbufferStorage(36161,34041,D.width,D.height),n.framebufferRenderbuffer(36160,33306,36161,F)}else{const ye=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let be=0;be<ye.length;be++){const De=ye[be],nt=s.convert(De.format,De.encoding),ke=s.convert(De.type),xe=A(De.internalFormat,nt,ke,De.encoding),Je=Xe(D);te&&$e(D)===!1?n.renderbufferStorageMultisample(36161,Je,xe,D.width,D.height):$e(D)?p.renderbufferStorageMultisampleEXT(36161,Je,xe,D.width,D.height):n.renderbufferStorage(36161,xe,D.width,D.height)}}n.bindRenderbuffer(36161,null)}function ve(F,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,F),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),U(D.depthTexture,0);const ye=r.get(D.depthTexture).__webglTexture,be=Xe(D);if(D.depthTexture.format===Ga)$e(D)?p.framebufferTexture2DMultisampleEXT(36160,36096,3553,ye,0,be):n.framebufferTexture2D(36160,36096,3553,ye,0);else if(D.depthTexture.format===wu)$e(D)?p.framebufferTexture2DMultisampleEXT(36160,33306,3553,ye,0,be):n.framebufferTexture2D(36160,33306,3553,ye,0);else throw new Error("Unknown depthTexture format")}function fe(F){const D=r.get(F),te=F.isWebGLCubeRenderTarget===!0;if(F.depthTexture&&!D.__autoAllocateDepthBuffer){if(te)throw new Error("target.depthTexture not supported in Cube render targets");ve(D.__webglFramebuffer,F)}else if(te){D.__webglDepthbuffer=[];for(let ye=0;ye<6;ye++)t.bindFramebuffer(36160,D.__webglFramebuffer[ye]),D.__webglDepthbuffer[ye]=n.createRenderbuffer(),Ke(D.__webglDepthbuffer[ye],F,!1)}else t.bindFramebuffer(36160,D.__webglFramebuffer),D.__webglDepthbuffer=n.createRenderbuffer(),Ke(D.__webglDepthbuffer,F,!1);t.bindFramebuffer(36160,null)}function Me(F,D,te){const ye=r.get(F);D!==void 0&&Pe(ye.__webglFramebuffer,F,F.texture,36064,3553),te!==void 0&&fe(F)}function Be(F){const D=F.texture,te=r.get(F),ye=r.get(D);F.addEventListener("dispose",Z),F.isWebGLMultipleRenderTargets!==!0&&(ye.__webglTexture===void 0&&(ye.__webglTexture=n.createTexture()),ye.__version=D.version,o.memory.textures++);const be=F.isWebGLCubeRenderTarget===!0,De=F.isWebGLMultipleRenderTargets===!0,nt=M(F)||a;if(be){te.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)te.__webglFramebuffer[ke]=n.createFramebuffer()}else{if(te.__webglFramebuffer=n.createFramebuffer(),De)if(i.drawBuffers){const ke=F.texture;for(let xe=0,Je=ke.length;xe<Je;xe++){const q=r.get(ke[xe]);q.__webglTexture===void 0&&(q.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&F.samples>0&&$e(F)===!1){const ke=De?D:[D];te.__webglMultisampledFramebuffer=n.createFramebuffer(),te.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,te.__webglMultisampledFramebuffer);for(let xe=0;xe<ke.length;xe++){const Je=ke[xe];te.__webglColorRenderbuffer[xe]=n.createRenderbuffer(),n.bindRenderbuffer(36161,te.__webglColorRenderbuffer[xe]);const q=s.convert(Je.format,Je.encoding),de=s.convert(Je.type),Ae=A(Je.internalFormat,q,de,Je.encoding,F.isXRRenderTarget===!0),Ie=Xe(F);n.renderbufferStorageMultisample(36161,Ie,Ae,F.width,F.height),n.framebufferRenderbuffer(36160,36064+xe,36161,te.__webglColorRenderbuffer[xe])}n.bindRenderbuffer(36161,null),F.depthBuffer&&(te.__webglDepthRenderbuffer=n.createRenderbuffer(),Ke(te.__webglDepthRenderbuffer,F,!0)),t.bindFramebuffer(36160,null)}}if(be){t.bindTexture(34067,ye.__webglTexture),oe(34067,D,nt);for(let ke=0;ke<6;ke++)Pe(te.__webglFramebuffer[ke],F,D,36064,34069+ke);P(D,nt)&&L(34067),t.unbindTexture()}else if(De){const ke=F.texture;for(let xe=0,Je=ke.length;xe<Je;xe++){const q=ke[xe],de=r.get(q);t.bindTexture(3553,de.__webglTexture),oe(3553,q,nt),Pe(te.__webglFramebuffer,F,q,36064+xe,3553),P(q,nt)&&L(3553)}t.unbindTexture()}else{let ke=3553;(F.isWebGL3DRenderTarget||F.isWebGLArrayRenderTarget)&&(a?ke=F.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(ke,ye.__webglTexture),oe(ke,D,nt),Pe(te.__webglFramebuffer,F,D,36064,ke),P(D,nt)&&L(ke),t.unbindTexture()}F.depthBuffer&&fe(F)}function Re(F){const D=M(F)||a,te=F.isWebGLMultipleRenderTargets===!0?F.texture:[F.texture];for(let ye=0,be=te.length;ye<be;ye++){const De=te[ye];if(P(De,D)){const nt=F.isWebGLCubeRenderTarget?34067:3553,ke=r.get(De).__webglTexture;t.bindTexture(nt,ke),L(nt),t.unbindTexture()}}}function tt(F){if(a&&F.samples>0&&$e(F)===!1){const D=F.isWebGLMultipleRenderTargets?F.texture:[F.texture],te=F.width,ye=F.height;let be=16384;const De=[],nt=F.stencilBuffer?33306:36096,ke=r.get(F),xe=F.isWebGLMultipleRenderTargets===!0;if(xe)for(let Je=0;Je<D.length;Je++)t.bindFramebuffer(36160,ke.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Je,36161,null),t.bindFramebuffer(36160,ke.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Je,3553,null,0);t.bindFramebuffer(36008,ke.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,ke.__webglFramebuffer);for(let Je=0;Je<D.length;Je++){De.push(36064+Je),F.depthBuffer&&De.push(nt);const q=ke.__ignoreDepthValues!==void 0?ke.__ignoreDepthValues:!1;if(q===!1&&(F.depthBuffer&&(be|=256),F.stencilBuffer&&(be|=1024)),xe&&n.framebufferRenderbuffer(36008,36064,36161,ke.__webglColorRenderbuffer[Je]),q===!0&&(n.invalidateFramebuffer(36008,[nt]),n.invalidateFramebuffer(36009,[nt])),xe){const de=r.get(D[Je]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,de,0)}n.blitFramebuffer(0,0,te,ye,0,0,te,ye,be,9728),m&&n.invalidateFramebuffer(36008,De)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),xe)for(let Je=0;Je<D.length;Je++){t.bindFramebuffer(36160,ke.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+Je,36161,ke.__webglColorRenderbuffer[Je]);const q=r.get(D[Je]).__webglTexture;t.bindFramebuffer(36160,ke.__webglFramebuffer),n.framebufferTexture2D(36009,36064+Je,3553,q,0)}t.bindFramebuffer(36009,ke.__webglMultisampledFramebuffer)}}function Xe(F){return Math.min(h,F.samples)}function $e(F){const D=r.get(F);return a&&F.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function re(F){const D=o.render.frame;g.get(F)!==D&&(g.set(F,D),F.update())}function Ee(F,D){const te=F.encoding,ye=F.format,be=F.type;return F.isCompressedTexture===!0||F.isVideoTexture===!0||F.format===B0||te!==Ho&&(te===Nt?a===!1?e.has("EXT_sRGB")===!0&&ye===ai?(F.format=B0,F.minFilter=dn,F.generateMipmaps=!1):D=RE.sRGBToLinear(D):(ye!==ai||be!==tl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",te)),D}this.allocateTextureUnit=I,this.resetTextureUnits=ie,this.setTexture2D=U,this.setTexture2DArray=X,this.setTexture3D=Y,this.setTextureCube=ae,this.rebindTextures=Me,this.setupRenderTarget=Be,this.updateRenderTargetMipmap=Re,this.updateMultisampleRenderTarget=tt,this.setupDepthRenderbuffer=fe,this.setupFrameBufferTexture=Pe,this.useMultisampledRTT=$e}function Q4(n,e,t){const r=t.isWebGL2;function i(s,o=null){let a;if(s===tl)return 5121;if(s===w4)return 32819;if(s===S4)return 32820;if(s===y4)return 5120;if(s===_4)return 5122;if(s===EE)return 5123;if(s===x4)return 5124;if(s===La)return 5125;if(s===Co)return 5126;if(s===yf)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===b4)return 6406;if(s===ai)return 6408;if(s===T4)return 6409;if(s===E4)return 6410;if(s===Ga)return 6402;if(s===wu)return 34041;if(s===A4)return 6403;if(s===M4)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===B0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===C4)return 36244;if(s===P4)return 33319;if(s===R4)return 33320;if(s===L4)return 36249;if(s===Bv||s===Vv||s===Hv||s===Gv)if(o===Nt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Bv)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Vv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Hv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Gv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Bv)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Vv)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Hv)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Gv)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Mb||s===Tb||s===Eb||s===Ab)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Mb)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Tb)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Eb)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===Ab)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===O4)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Cb||s===Pb)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Cb)return o===Nt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Pb)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Rb||s===Lb||s===Ob||s===Ib||s===Db||s===Nb||s===kb||s===Fb||s===zb||s===Ub||s===Bb||s===Vb||s===Hb||s===Gb)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Rb)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Lb)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===Ob)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===Ib)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===Db)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===Nb)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===kb)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===Fb)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===zb)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===Ub)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Bb)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===Vb)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Hb)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===Gb)return o===Nt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===jb)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===jb)return o===Nt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===uu?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class eU extends nn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ro extends Ct{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Ine={type:"move"};class nw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ro,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ro,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new B,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new B),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ro,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new B,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new B),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const v of e.hand.values()){const _=t.getJointPose(v,r);if(u.joints[v.jointName]===void 0){const w=new Ro;w.matrixAutoUpdate=!1,w.visible=!1,u.joints[v.jointName]=w,u.add(w)}const y=u.joints[v.jointName];_!==null&&(y.matrix.fromArray(_.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=_.radius),y.visible=_!==null}const f=u.joints["index-finger-tip"],h=u.joints["thumb-tip"],p=f.position.distanceTo(h.position),m=.02,g=.005;u.inputState.pinching&&p>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Ine)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}}class tU extends Sn{constructor(e,t,r,i,s,o,a,l,u,f){if(f=f!==void 0?f:Ga,f!==Ga&&f!==wu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===Ga&&(r=La),r===void 0&&f===wu&&(r=uu),super(null,i,s,o,a,l,f,r,u),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:An,this.minFilter=l!==void 0?l:An,this.flipY=!1,this.generateMipmaps=!1}}class Dne extends eo{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,u=null,f=null,h=null,p=null,m=null;const g=t.getContextAttributes();let v=null,_=null;const y=[],w=[],S=new nn;S.layers.enable(1),S.viewport=new Vt;const M=new nn;M.layers.enable(2),M.viewport=new Vt;const T=[S,M],P=new eU;P.layers.enable(1),P.layers.enable(2);let L=null,A=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(N){let U=y[N];return U===void 0&&(U=new nw,y[N]=U),U.getTargetRaySpace()},this.getControllerGrip=function(N){let U=y[N];return U===void 0&&(U=new nw,y[N]=U),U.getGripSpace()},this.getHand=function(N){let U=y[N];return U===void 0&&(U=new nw,y[N]=U),U.getHandSpace()};function R(N){const U=w.indexOf(N.inputSource);if(U===-1)return;const X=y[U];X!==void 0&&X.dispatchEvent({type:N.type,data:N.inputSource})}function k(){i.removeEventListener("select",R),i.removeEventListener("selectstart",R),i.removeEventListener("selectend",R),i.removeEventListener("squeeze",R),i.removeEventListener("squeezestart",R),i.removeEventListener("squeezeend",R),i.removeEventListener("end",k),i.removeEventListener("inputsourceschange",G);for(let N=0;N<y.length;N++){const U=w[N];U!==null&&(w[N]=null,y[N].disconnect(U))}L=null,A=null,e.setRenderTarget(v),p=null,h=null,f=null,i=null,_=null,I.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(N){s=N,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(N){a=N,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(N){l=N},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(N){if(i=N,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",R),i.addEventListener("selectstart",R),i.addEventListener("selectend",R),i.addEventListener("squeeze",R),i.addEventListener("squeezestart",R),i.addEventListener("squeezeend",R),i.addEventListener("end",k),i.addEventListener("inputsourceschange",G),g.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const U={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,t,U),i.updateRenderState({baseLayer:p}),_=new Ki(p.framebufferWidth,p.framebufferHeight,{format:ai,type:tl,encoding:e.outputEncoding,stencilBuffer:g.stencil})}else{let U=null,X=null,Y=null;g.depth&&(Y=g.stencil?35056:33190,U=g.stencil?wu:Ga,X=g.stencil?uu:La);const ae={colorFormat:32856,depthFormat:Y,scaleFactor:s};f=new XRWebGLBinding(i,t),h=f.createProjectionLayer(ae),i.updateRenderState({layers:[h]}),_=new Ki(h.textureWidth,h.textureHeight,{format:ai,type:tl,depthTexture:new tU(h.textureWidth,h.textureHeight,X,void 0,void 0,void 0,void 0,void 0,void 0,U),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const se=e.properties.get(_);se.__ignoreDepthValues=h.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),I.setContext(i),I.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function G(N){for(let U=0;U<N.removed.length;U++){const X=N.removed[U],Y=w.indexOf(X);Y>=0&&(w[Y]=null,y[Y].dispatchEvent({type:"disconnected",data:X}))}for(let U=0;U<N.added.length;U++){const X=N.added[U];let Y=w.indexOf(X);if(Y===-1){for(let se=0;se<y.length;se++)if(se>=w.length){w.push(X),Y=se;break}else if(w[se]===null){w[se]=X,Y=se;break}if(Y===-1)break}const ae=y[Y];ae&&ae.dispatchEvent({type:"connected",data:X})}}const Z=new B,W=new B;function O(N,U,X){Z.setFromMatrixPosition(U.matrixWorld),W.setFromMatrixPosition(X.matrixWorld);const Y=Z.distanceTo(W),ae=U.projectionMatrix.elements,se=X.projectionMatrix.elements,ge=ae[14]/(ae[10]-1),oe=ae[14]/(ae[10]+1),Ne=(ae[9]+1)/ae[5],Ue=(ae[9]-1)/ae[5],He=(ae[8]-1)/ae[0],Pe=(se[8]+1)/se[0],Ke=ge*He,ve=ge*Pe,fe=Y/(-He+Pe),Me=fe*-He;U.matrixWorld.decompose(N.position,N.quaternion,N.scale),N.translateX(Me),N.translateZ(fe),N.matrixWorld.compose(N.position,N.quaternion,N.scale),N.matrixWorldInverse.copy(N.matrixWorld).invert();const Be=ge+fe,Re=oe+fe,tt=Ke-Me,Xe=ve+(Y-Me),$e=Ne*oe/Re*Be,re=Ue*oe/Re*Be;N.projectionMatrix.makePerspective(tt,Xe,$e,re,Be,Re)}function j(N,U){U===null?N.matrixWorld.copy(N.matrix):N.matrixWorld.multiplyMatrices(U.matrixWorld,N.matrix),N.matrixWorldInverse.copy(N.matrixWorld).invert()}this.updateCamera=function(N){if(i===null)return;P.near=M.near=S.near=N.near,P.far=M.far=S.far=N.far,(L!==P.near||A!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),L=P.near,A=P.far);const U=N.parent,X=P.cameras;j(P,U);for(let ae=0;ae<X.length;ae++)j(X[ae],U);P.matrixWorld.decompose(P.position,P.quaternion,P.scale),N.matrix.copy(P.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale);const Y=N.children;for(let ae=0,se=Y.length;ae<se;ae++)Y[ae].updateMatrixWorld(!0);X.length===2?O(P,S,M):P.projectionMatrix.copy(S.projectionMatrix)},this.getCamera=function(){return P},this.getFoveation=function(){if(h!==null)return h.fixedFoveation;if(p!==null)return p.fixedFoveation},this.setFoveation=function(N){h!==null&&(h.fixedFoveation=N),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=N)};let $=null;function ie(N,U){if(u=U.getViewerPose(l||o),m=U,u!==null){const X=u.views;p!==null&&(e.setRenderTargetFramebuffer(_,p.framebuffer),e.setRenderTarget(_));let Y=!1;X.length!==P.cameras.length&&(P.cameras.length=0,Y=!0);for(let ae=0;ae<X.length;ae++){const se=X[ae];let ge=null;if(p!==null)ge=p.getViewport(se);else{const Ne=f.getViewSubImage(h,se);ge=Ne.viewport,ae===0&&(e.setRenderTargetTextures(_,Ne.colorTexture,h.ignoreDepthValues?void 0:Ne.depthStencilTexture),e.setRenderTarget(_))}let oe=T[ae];oe===void 0&&(oe=new nn,oe.layers.enable(ae),oe.viewport=new Vt,T[ae]=oe),oe.matrix.fromArray(se.transform.matrix),oe.projectionMatrix.fromArray(se.projectionMatrix),oe.viewport.set(ge.x,ge.y,ge.width,ge.height),ae===0&&P.matrix.copy(oe.matrix),Y===!0&&P.cameras.push(oe)}}for(let X=0;X<y.length;X++){const Y=w[X],ae=y[X];Y!==null&&ae!==void 0&&ae.update(Y,U,l||o)}$&&$(N,U),m=null}const I=new X4;I.setAnimationLoop(ie),this.setAnimationLoop=function(N){$=N},this.dispose=function(){}}}function Nne(n,e){function t(v,_){v.fogColor.value.copy(_.color),_.isFog?(v.fogNear.value=_.near,v.fogFar.value=_.far):_.isFogExp2&&(v.fogDensity.value=_.density)}function r(v,_,y,w,S){_.isMeshBasicMaterial||_.isMeshLambertMaterial?i(v,_):_.isMeshToonMaterial?(i(v,_),f(v,_)):_.isMeshPhongMaterial?(i(v,_),u(v,_)):_.isMeshStandardMaterial?(i(v,_),h(v,_),_.isMeshPhysicalMaterial&&p(v,_,S)):_.isMeshMatcapMaterial?(i(v,_),m(v,_)):_.isMeshDepthMaterial?i(v,_):_.isMeshDistanceMaterial?(i(v,_),g(v,_)):_.isMeshNormalMaterial?i(v,_):_.isLineBasicMaterial?(s(v,_),_.isLineDashedMaterial&&o(v,_)):_.isPointsMaterial?a(v,_,y,w):_.isSpriteMaterial?l(v,_):_.isShadowMaterial?(v.color.value.copy(_.color),v.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function i(v,_){v.opacity.value=_.opacity,_.color&&v.diffuse.value.copy(_.color),_.emissive&&v.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(v.map.value=_.map),_.alphaMap&&(v.alphaMap.value=_.alphaMap),_.bumpMap&&(v.bumpMap.value=_.bumpMap,v.bumpScale.value=_.bumpScale,_.side===pi&&(v.bumpScale.value*=-1)),_.displacementMap&&(v.displacementMap.value=_.displacementMap,v.displacementScale.value=_.displacementScale,v.displacementBias.value=_.displacementBias),_.emissiveMap&&(v.emissiveMap.value=_.emissiveMap),_.normalMap&&(v.normalMap.value=_.normalMap,v.normalScale.value.copy(_.normalScale),_.side===pi&&v.normalScale.value.negate()),_.specularMap&&(v.specularMap.value=_.specularMap),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);const y=e.get(_).envMap;if(y&&(v.envMap.value=y,v.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=_.reflectivity,v.ior.value=_.ior,v.refractionRatio.value=_.refractionRatio),_.lightMap){v.lightMap.value=_.lightMap;const M=n.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=_.lightMapIntensity*M}_.aoMap&&(v.aoMap.value=_.aoMap,v.aoMapIntensity.value=_.aoMapIntensity);let w;_.map?w=_.map:_.specularMap?w=_.specularMap:_.displacementMap?w=_.displacementMap:_.normalMap?w=_.normalMap:_.bumpMap?w=_.bumpMap:_.roughnessMap?w=_.roughnessMap:_.metalnessMap?w=_.metalnessMap:_.alphaMap?w=_.alphaMap:_.emissiveMap?w=_.emissiveMap:_.clearcoatMap?w=_.clearcoatMap:_.clearcoatNormalMap?w=_.clearcoatNormalMap:_.clearcoatRoughnessMap?w=_.clearcoatRoughnessMap:_.iridescenceMap?w=_.iridescenceMap:_.iridescenceThicknessMap?w=_.iridescenceThicknessMap:_.specularIntensityMap?w=_.specularIntensityMap:_.specularColorMap?w=_.specularColorMap:_.transmissionMap?w=_.transmissionMap:_.thicknessMap?w=_.thicknessMap:_.sheenColorMap?w=_.sheenColorMap:_.sheenRoughnessMap&&(w=_.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix));let S;_.aoMap?S=_.aoMap:_.lightMap&&(S=_.lightMap),S!==void 0&&(S.isWebGLRenderTarget&&(S=S.texture),S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uv2Transform.value.copy(S.matrix))}function s(v,_){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity}function o(v,_){v.dashSize.value=_.dashSize,v.totalSize.value=_.dashSize+_.gapSize,v.scale.value=_.scale}function a(v,_,y,w){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,v.size.value=_.size*y,v.scale.value=w*.5,_.map&&(v.map.value=_.map),_.alphaMap&&(v.alphaMap.value=_.alphaMap),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);let S;_.map?S=_.map:_.alphaMap&&(S=_.alphaMap),S!==void 0&&(S.matrixAutoUpdate===!0&&S.updateMatrix(),v.uvTransform.value.copy(S.matrix))}function l(v,_){v.diffuse.value.copy(_.color),v.opacity.value=_.opacity,v.rotation.value=_.rotation,_.map&&(v.map.value=_.map),_.alphaMap&&(v.alphaMap.value=_.alphaMap),_.alphaTest>0&&(v.alphaTest.value=_.alphaTest);let y;_.map?y=_.map:_.alphaMap&&(y=_.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),v.uvTransform.value.copy(y.matrix))}function u(v,_){v.specular.value.copy(_.specular),v.shininess.value=Math.max(_.shininess,1e-4)}function f(v,_){_.gradientMap&&(v.gradientMap.value=_.gradientMap)}function h(v,_){v.roughness.value=_.roughness,v.metalness.value=_.metalness,_.roughnessMap&&(v.roughnessMap.value=_.roughnessMap),_.metalnessMap&&(v.metalnessMap.value=_.metalnessMap),e.get(_).envMap&&(v.envMapIntensity.value=_.envMapIntensity)}function p(v,_,y){v.ior.value=_.ior,_.sheen>0&&(v.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),v.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(v.sheenColorMap.value=_.sheenColorMap),_.sheenRoughnessMap&&(v.sheenRoughnessMap.value=_.sheenRoughnessMap)),_.clearcoat>0&&(v.clearcoat.value=_.clearcoat,v.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(v.clearcoatMap.value=_.clearcoatMap),_.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap),_.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),v.clearcoatNormalMap.value=_.clearcoatNormalMap,_.side===pi&&v.clearcoatNormalScale.value.negate())),_.iridescence>0&&(v.iridescence.value=_.iridescence,v.iridescenceIOR.value=_.iridescenceIOR,v.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(v.iridescenceMap.value=_.iridescenceMap),_.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=_.iridescenceThicknessMap)),_.transmission>0&&(v.transmission.value=_.transmission,v.transmissionSamplerMap.value=y.texture,v.transmissionSamplerSize.value.set(y.width,y.height),_.transmissionMap&&(v.transmissionMap.value=_.transmissionMap),v.thickness.value=_.thickness,_.thicknessMap&&(v.thicknessMap.value=_.thicknessMap),v.attenuationDistance.value=_.attenuationDistance,v.attenuationColor.value.copy(_.attenuationColor)),v.specularIntensity.value=_.specularIntensity,v.specularColor.value.copy(_.specularColor),_.specularIntensityMap&&(v.specularIntensityMap.value=_.specularIntensityMap),_.specularColorMap&&(v.specularColorMap.value=_.specularColorMap)}function m(v,_){_.matcap&&(v.matcap.value=_.matcap)}function g(v,_){v.referencePosition.value.copy(_.referencePosition),v.nearDistance.value=_.nearDistance,v.farDistance.value=_.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function kne(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(35375):0;function l(w,S){const M=S.program;r.uniformBlockBinding(w,M)}function u(w,S){let M=i[w.id];M===void 0&&(g(w),M=f(w),i[w.id]=M,w.addEventListener("dispose",_));const T=S.program;r.updateUBOMapping(w,T);const P=e.render.frame;s[w.id]!==P&&(p(w),s[w.id]=P)}function f(w){const S=h();w.__bindingPointIndex=S;const M=n.createBuffer(),T=w.__size,P=w.usage;return n.bindBuffer(35345,M),n.bufferData(35345,T,P),n.bindBuffer(35345,null),n.bindBufferBase(35345,S,M),M}function h(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(w){const S=i[w.id],M=w.uniforms,T=w.__cache;n.bindBuffer(35345,S);for(let P=0,L=M.length;P<L;P++){const A=M[P];if(m(A,P,T)===!0){const R=A.value,k=A.__offset;typeof R=="number"?(A.__data[0]=R,n.bufferSubData(35345,k,A.__data)):(A.value.isMatrix3?(A.__data[0]=A.value.elements[0],A.__data[1]=A.value.elements[1],A.__data[2]=A.value.elements[2],A.__data[3]=A.value.elements[0],A.__data[4]=A.value.elements[3],A.__data[5]=A.value.elements[4],A.__data[6]=A.value.elements[5],A.__data[7]=A.value.elements[0],A.__data[8]=A.value.elements[6],A.__data[9]=A.value.elements[7],A.__data[10]=A.value.elements[8],A.__data[11]=A.value.elements[0]):R.toArray(A.__data),n.bufferSubData(35345,k,A.__data))}}n.bindBuffer(35345,null)}function m(w,S,M){const T=w.value;if(M[S]===void 0)return typeof T=="number"?M[S]=T:M[S]=T.clone(),!0;if(typeof T=="number"){if(M[S]!==T)return M[S]=T,!0}else{const P=M[S];if(P.equals(T)===!1)return P.copy(T),!0}return!1}function g(w){const S=w.uniforms;let M=0;const T=16;let P=0;for(let L=0,A=S.length;L<A;L++){const R=S[L],k=v(R);if(R.__data=new Float32Array(k.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=M,L>0){P=M%T;const G=T-P;P!==0&&G-k.boundary<0&&(M+=T-P,R.__offset=M)}M+=k.storage}return P=M%T,P>0&&(M+=T-P),w.__size=M,w.__cache={},this}function v(w){const S=w.value,M={boundary:0,storage:0};return typeof S=="number"?(M.boundary=4,M.storage=4):S.isVector2?(M.boundary=8,M.storage=8):S.isVector3||S.isColor?(M.boundary=16,M.storage=12):S.isVector4?(M.boundary=16,M.storage=16):S.isMatrix3?(M.boundary=48,M.storage=48):S.isMatrix4?(M.boundary=64,M.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),M}function _(w){const S=w.target;S.removeEventListener("dispose",_);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function y(){for(const w in i)n.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:u,dispose:y}}function Fne(){const n=ip("canvas");return n.style.display="block",n}function kE(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:Fne(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,s=n.antialias!==void 0?n.antialias:!1,o=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,a=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",u=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let f;t!==null?f=t.getContextAttributes().alpha:f=n.alpha!==void 0?n.alpha:!1;let h=null,p=null;const m=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ho,this.physicallyCorrectLights=!1,this.toneMapping=gs,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const v=this;let _=!1,y=0,w=0,S=null,M=-1,T=null;const P=new Vt,L=new Vt;let A=null,R=e.width,k=e.height,G=1,Z=null,W=null;const O=new Vt(0,0,R,k),j=new Vt(0,0,R,k);let $=!1;const ie=new Ky;let I=!1,N=!1,U=null;const X=new ut,Y=new we,ae=new B,se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ge(){return S===null?G:1}let oe=t;function Ne(V,ue){for(let _e=0;_e<V.length;_e++){const le=V[_e],Se=e.getContext(le,ue);if(Se!==null)return Se}return null}try{const V={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Wy}`),e.addEventListener("webglcontextlost",Ae,!1),e.addEventListener("webglcontextrestored",Ie,!1),e.addEventListener("webglcontextcreationerror",it,!1),oe===null){const ue=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&ue.shift(),oe=Ne(ue,V),oe===null)throw Ne(ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}oe.getShaderPrecisionFormat===void 0&&(oe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let Ue,He,Pe,Ke,ve,fe,Me,Be,Re,tt,Xe,$e,re,Ee,F,D,te,ye,be,De,nt,ke,xe,Je;function q(){Ue=new Qee(oe),He=new qee(oe,Ue,n),Ue.init(He),ke=new Q4(oe,Ue,He),Pe=new Lne(oe,Ue,He),Ke=new nte,ve=new _ne,fe=new One(oe,Ue,Pe,ve,He,ke,Ke),Me=new Yee(v),Be=new Zee(v),Re=new fZ(oe,He),xe=new Wee(oe,Ue,Re,He),tt=new ete(oe,Re,Ke,xe),Xe=new ote(oe,tt,Re,Ke),be=new ste(oe,He,fe),D=new Xee(ve),$e=new yne(v,Me,Be,Ue,He,xe,D),re=new Nne(v,ve),Ee=new wne,F=new Ane(Ue,He),ye=new jee(v,Me,Be,Pe,Xe,f,o),te=new Rne(v,Xe,He),Je=new kne(oe,Ke,He,Pe),De=new $ee(oe,Ue,Ke,He),nt=new tte(oe,Ue,Ke,He),Ke.programs=$e.programs,v.capabilities=He,v.extensions=Ue,v.properties=ve,v.renderLists=Ee,v.shadowMap=te,v.state=Pe,v.info=Ke}q();const de=new Dne(v,oe);this.xr=de,this.getContext=function(){return oe},this.getContextAttributes=function(){return oe.getContextAttributes()},this.forceContextLoss=function(){const V=Ue.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=Ue.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(V){V!==void 0&&(G=V,this.setSize(R,k,!1))},this.getSize=function(V){return V.set(R,k)},this.setSize=function(V,ue,_e){if(de.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=V,k=ue,e.width=Math.floor(V*G),e.height=Math.floor(ue*G),_e!==!1&&(e.style.width=V+"px",e.style.height=ue+"px"),this.setViewport(0,0,V,ue)},this.getDrawingBufferSize=function(V){return V.set(R*G,k*G).floor()},this.setDrawingBufferSize=function(V,ue,_e){R=V,k=ue,G=_e,e.width=Math.floor(V*_e),e.height=Math.floor(ue*_e),this.setViewport(0,0,V,ue)},this.getCurrentViewport=function(V){return V.copy(P)},this.getViewport=function(V){return V.copy(O)},this.setViewport=function(V,ue,_e,le){V.isVector4?O.set(V.x,V.y,V.z,V.w):O.set(V,ue,_e,le),Pe.viewport(P.copy(O).multiplyScalar(G).floor())},this.getScissor=function(V){return V.copy(j)},this.setScissor=function(V,ue,_e,le){V.isVector4?j.set(V.x,V.y,V.z,V.w):j.set(V,ue,_e,le),Pe.scissor(L.copy(j).multiplyScalar(G).floor())},this.getScissorTest=function(){return $},this.setScissorTest=function(V){Pe.setScissorTest($=V)},this.setOpaqueSort=function(V){Z=V},this.setTransparentSort=function(V){W=V},this.getClearColor=function(V){return V.copy(ye.getClearColor())},this.setClearColor=function(){ye.setClearColor.apply(ye,arguments)},this.getClearAlpha=function(){return ye.getClearAlpha()},this.setClearAlpha=function(){ye.setClearAlpha.apply(ye,arguments)},this.clear=function(V=!0,ue=!0,_e=!0){let le=0;V&&(le|=16384),ue&&(le|=256),_e&&(le|=1024),oe.clear(le)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ae,!1),e.removeEventListener("webglcontextrestored",Ie,!1),e.removeEventListener("webglcontextcreationerror",it,!1),Ee.dispose(),F.dispose(),ve.dispose(),Me.dispose(),Be.dispose(),Xe.dispose(),xe.dispose(),Je.dispose(),$e.dispose(),de.dispose(),de.removeEventListener("sessionstart",je),de.removeEventListener("sessionend",Qe),U&&(U.dispose(),U=null),Pt.stop()};function Ae(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),_=!0}function Ie(){console.log("THREE.WebGLRenderer: Context Restored."),_=!1;const V=Ke.autoReset,ue=te.enabled,_e=te.autoUpdate,le=te.needsUpdate,Se=te.type;q(),Ke.autoReset=V,te.enabled=ue,te.autoUpdate=_e,te.needsUpdate=le,te.type=Se}function it(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function xt(V){const ue=V.target;ue.removeEventListener("dispose",xt),Qt(ue)}function Qt(V){K(V),ve.remove(V)}function K(V){const ue=ve.get(V).programs;ue!==void 0&&(ue.forEach(function(_e){$e.releaseProgram(_e)}),V.isShaderMaterial&&$e.releaseShaderCache(V))}this.renderBufferDirect=function(V,ue,_e,le,Se,rt){ue===null&&(ue=se);const at=Se.isMesh&&Se.matrixWorld.determinant()<0,gt=x_(V,ue,_e,le,Se);Pe.setMaterial(le,at);let ht=_e.index;const Rt=_e.attributes.position;if(ht===null){if(Rt===void 0||Rt.count===0)return}else if(ht.count===0)return;let wt=1;le.wireframe===!0&&(ht=tt.getWireframeAttribute(_e),wt=2),xe.setup(Se,le,gt,_e,ht);let Tt,sn=De;ht!==null&&(Tt=Re.get(ht),sn=nt,sn.setIndex(Tt));const no=ht!==null?ht.count:Rt.count,Ko=_e.drawRange.start*wt,Jo=_e.drawRange.count*wt,Dr=rt!==null?rt.start*wt:0,bt=rt!==null?rt.count*wt:1/0,bs=Math.max(Ko,Dr),on=Math.min(no,Ko+Jo,Dr+bt)-1,Nr=Math.max(0,on-bs+1);if(Nr!==0){if(Se.isMesh)le.wireframe===!0?(Pe.setLineWidth(le.wireframeLinewidth*ge()),sn.setMode(1)):sn.setMode(4);else if(Se.isLine){let wi=le.linewidth;wi===void 0&&(wi=1),Pe.setLineWidth(wi*ge()),Se.isLineSegments?sn.setMode(1):Se.isLineLoop?sn.setMode(2):sn.setMode(3)}else Se.isPoints?sn.setMode(0):Se.isSprite&&sn.setMode(4);if(Se.isInstancedMesh)sn.renderInstances(bs,Nr,Se.count);else if(_e.isInstancedBufferGeometry){const wi=Math.min(_e.instanceCount,_e._maxInstanceCount);sn.renderInstances(bs,Nr,wi)}else sn.render(bs,Nr)}},this.compile=function(V,ue){function _e(le,Se,rt){le.transparent===!0&&le.side===js?(le.side=pi,le.needsUpdate=!0,Ir(le,Se,rt),le.side=Ja,le.needsUpdate=!0,Ir(le,Se,rt),le.side=js):Ir(le,Se,rt)}p=F.get(V),p.init(),g.push(p),V.traverseVisible(function(le){le.isLight&&le.layers.test(ue.layers)&&(p.pushLight(le),le.castShadow&&p.pushShadow(le))}),p.setupLights(v.physicallyCorrectLights),V.traverse(function(le){const Se=le.material;if(Se)if(Array.isArray(Se))for(let rt=0;rt<Se.length;rt++){const at=Se[rt];_e(at,V,le)}else _e(Se,V,le)}),g.pop(),p=null};let pe=null;function Te(V){pe&&pe(V)}function je(){Pt.stop()}function Qe(){Pt.start()}const Pt=new X4;Pt.setAnimationLoop(Te),typeof self<"u"&&Pt.setContext(self),this.setAnimationLoop=function(V){pe=V,de.setAnimationLoop(V),V===null?Pt.stop():Pt.start()},de.addEventListener("sessionstart",je),de.addEventListener("sessionend",Qe),this.render=function(V,ue){if(ue!==void 0&&ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(_===!0)return;V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),ue.parent===null&&ue.matrixWorldAutoUpdate===!0&&ue.updateMatrixWorld(),de.enabled===!0&&de.isPresenting===!0&&(de.cameraAutoUpdate===!0&&de.updateCamera(ue),ue=de.getCamera()),V.isScene===!0&&V.onBeforeRender(v,V,ue,S),p=F.get(V,g.length),p.init(),g.push(p),X.multiplyMatrices(ue.projectionMatrix,ue.matrixWorldInverse),ie.setFromProjectionMatrix(X),N=this.localClippingEnabled,I=D.init(this.clippingPlanes,N,ue),h=Ee.get(V,m.length),h.init(),m.push(h),bn(V,ue,0,v.sortObjects),h.finish(),v.sortObjects===!0&&h.sort(Z,W),I===!0&&D.beginShadows();const _e=p.state.shadowsArray;if(te.render(_e,V,ue),I===!0&&D.endShadows(),this.info.autoReset===!0&&this.info.reset(),ye.render(h,V),p.setupLights(v.physicallyCorrectLights),ue.isArrayCamera){const le=ue.cameras;for(let Se=0,rt=le.length;Se<rt;Se++){const at=le[Se];Hn(h,V,at,at.viewport)}}else Hn(h,V,ue);S!==null&&(fe.updateMultisampleRenderTarget(S),fe.updateRenderTargetMipmap(S)),V.isScene===!0&&V.onAfterRender(v,V,ue),xe.resetDefaultState(),M=-1,T=null,g.pop(),g.length>0?p=g[g.length-1]:p=null,m.pop(),m.length>0?h=m[m.length-1]:h=null};function bn(V,ue,_e,le){if(V.visible===!1)return;if(V.layers.test(ue.layers)){if(V.isGroup)_e=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(ue);else if(V.isLight)p.pushLight(V),V.castShadow&&p.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||ie.intersectsSprite(V)){le&&ae.setFromMatrixPosition(V.matrixWorld).applyMatrix4(X);const at=Xe.update(V),gt=V.material;gt.visible&&h.push(V,at,gt,_e,ae.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(V.isSkinnedMesh&&V.skeleton.frame!==Ke.render.frame&&(V.skeleton.update(),V.skeleton.frame=Ke.render.frame),!V.frustumCulled||ie.intersectsObject(V))){le&&ae.setFromMatrixPosition(V.matrixWorld).applyMatrix4(X);const at=Xe.update(V),gt=V.material;if(Array.isArray(gt)){const ht=at.groups;for(let Rt=0,wt=ht.length;Rt<wt;Rt++){const Tt=ht[Rt],sn=gt[Tt.materialIndex];sn&&sn.visible&&h.push(V,at,sn,_e,ae.z,Tt)}}else gt.visible&&h.push(V,at,gt,_e,ae.z,null)}}const rt=V.children;for(let at=0,gt=rt.length;at<gt;at++)bn(rt[at],ue,_e,le)}function Hn(V,ue,_e,le){const Se=V.opaque,rt=V.transmissive,at=V.transparent;p.setupLightsView(_e),rt.length>0&&Ss(Se,ue,_e),le&&Pe.viewport(P.copy(le)),Se.length>0&&Wt(Se,ue,_e),rt.length>0&&Wt(rt,ue,_e),at.length>0&&Wt(at,ue,_e),Pe.buffers.depth.setTest(!0),Pe.buffers.depth.setMask(!0),Pe.buffers.color.setMask(!0),Pe.setPolygonOffset(!1)}function Ss(V,ue,_e){const le=He.isWebGL2;U===null&&(U=new Ki(1,1,{generateMipmaps:!0,type:Ue.has("EXT_color_buffer_half_float")?yf:tl,minFilter:Wo,samples:le&&s===!0?4:0})),v.getDrawingBufferSize(Y),le?U.setSize(Y.x,Y.y):U.setSize(V0(Y.x),V0(Y.y));const Se=v.getRenderTarget();v.setRenderTarget(U),v.clear();const rt=v.toneMapping;v.toneMapping=gs,Wt(V,ue,_e),v.toneMapping=rt,fe.updateMultisampleRenderTarget(U),fe.updateRenderTargetMipmap(U),v.setRenderTarget(Se)}function Wt(V,ue,_e){const le=ue.isScene===!0?ue.overrideMaterial:null;for(let Se=0,rt=V.length;Se<rt;Se++){const at=V[Se],gt=at.object,ht=at.geometry,Rt=le===null?at.material:le,wt=at.group;gt.layers.test(_e.layers)&&xi(gt,ue,_e,ht,Rt,wt)}}function xi(V,ue,_e,le,Se,rt){V.onBeforeRender(v,ue,_e,le,Se,rt),V.modelViewMatrix.multiplyMatrices(_e.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),Se.onBeforeRender(v,ue,_e,le,V,rt),Se.transparent===!0&&Se.side===js?(Se.side=pi,Se.needsUpdate=!0,v.renderBufferDirect(_e,ue,le,Se,V,rt),Se.side=Ja,Se.needsUpdate=!0,v.renderBufferDirect(_e,ue,le,Se,V,rt),Se.side=js):v.renderBufferDirect(_e,ue,le,Se,V,rt),V.onAfterRender(v,ue,_e,le,Se,rt)}function Ir(V,ue,_e){ue.isScene!==!0&&(ue=se);const le=ve.get(V),Se=p.state.lights,rt=p.state.shadowsArray,at=Se.state.version,gt=$e.getParameters(V,Se.state,rt,ue,_e),ht=$e.getProgramCacheKey(gt);let Rt=le.programs;le.environment=V.isMeshStandardMaterial?ue.environment:null,le.fog=ue.fog,le.envMap=(V.isMeshStandardMaterial?Be:Me).get(V.envMap||le.environment),Rt===void 0&&(V.addEventListener("dispose",xt),Rt=new Map,le.programs=Rt);let wt=Rt.get(ht);if(wt!==void 0){if(le.currentProgram===wt&&le.lightsStateVersion===at)return tm(V,gt),wt}else gt.uniforms=$e.getUniforms(V),V.onBuild(_e,gt,v),V.onBeforeCompile(gt,v),wt=$e.acquireProgram(gt,ht),Rt.set(ht,wt),le.uniforms=gt.uniforms;const Tt=le.uniforms;(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(Tt.clippingPlanes=D.uniform),tm(V,gt),le.needsLights=qf(V),le.lightsStateVersion=at,le.needsLights&&(Tt.ambientLightColor.value=Se.state.ambient,Tt.lightProbe.value=Se.state.probe,Tt.directionalLights.value=Se.state.directional,Tt.directionalLightShadows.value=Se.state.directionalShadow,Tt.spotLights.value=Se.state.spot,Tt.spotLightShadows.value=Se.state.spotShadow,Tt.rectAreaLights.value=Se.state.rectArea,Tt.ltc_1.value=Se.state.rectAreaLTC1,Tt.ltc_2.value=Se.state.rectAreaLTC2,Tt.pointLights.value=Se.state.point,Tt.pointLightShadows.value=Se.state.pointShadow,Tt.hemisphereLights.value=Se.state.hemi,Tt.directionalShadowMap.value=Se.state.directionalShadowMap,Tt.directionalShadowMatrix.value=Se.state.directionalShadowMatrix,Tt.spotShadowMap.value=Se.state.spotShadowMap,Tt.spotLightMatrix.value=Se.state.spotLightMatrix,Tt.spotLightMap.value=Se.state.spotLightMap,Tt.pointShadowMap.value=Se.state.pointShadowMap,Tt.pointShadowMatrix.value=Se.state.pointShadowMatrix);const sn=wt.getUniforms(),no=qv.seqWithValue(sn.seq,Tt);return le.currentProgram=wt,le.uniformsList=no,wt}function tm(V,ue){const _e=ve.get(V);_e.outputEncoding=ue.outputEncoding,_e.instancing=ue.instancing,_e.skinning=ue.skinning,_e.morphTargets=ue.morphTargets,_e.morphNormals=ue.morphNormals,_e.morphColors=ue.morphColors,_e.morphTargetsCount=ue.morphTargetsCount,_e.numClippingPlanes=ue.numClippingPlanes,_e.numIntersection=ue.numClipIntersection,_e.vertexAlphas=ue.vertexAlphas,_e.vertexTangents=ue.vertexTangents,_e.toneMapping=ue.toneMapping}function x_(V,ue,_e,le,Se){ue.isScene!==!0&&(ue=se),fe.resetTextureUnits();const rt=ue.fog,at=le.isMeshStandardMaterial?ue.environment:null,gt=S===null?v.outputEncoding:S.isXRRenderTarget===!0?S.texture.encoding:Ho,ht=(le.isMeshStandardMaterial?Be:Me).get(le.envMap||at),Rt=le.vertexColors===!0&&!!_e.attributes.color&&_e.attributes.color.itemSize===4,wt=!!le.normalMap&&!!_e.attributes.tangent,Tt=!!_e.morphAttributes.position,sn=!!_e.morphAttributes.normal,no=!!_e.morphAttributes.color,Ko=le.toneMapped?v.toneMapping:gs,Jo=_e.morphAttributes.position||_e.morphAttributes.normal||_e.morphAttributes.color,Dr=Jo!==void 0?Jo.length:0,bt=ve.get(le),bs=p.state.lights;if(I===!0&&(N===!0||V!==T)){const Ft=V===T&&le.id===M;D.setState(le,V,Ft)}let on=!1;le.version===bt.__version?(bt.needsLights&&bt.lightsStateVersion!==bs.state.version||bt.outputEncoding!==gt||Se.isInstancedMesh&&bt.instancing===!1||!Se.isInstancedMesh&&bt.instancing===!0||Se.isSkinnedMesh&&bt.skinning===!1||!Se.isSkinnedMesh&&bt.skinning===!0||bt.envMap!==ht||le.fog===!0&&bt.fog!==rt||bt.numClippingPlanes!==void 0&&(bt.numClippingPlanes!==D.numPlanes||bt.numIntersection!==D.numIntersection)||bt.vertexAlphas!==Rt||bt.vertexTangents!==wt||bt.morphTargets!==Tt||bt.morphNormals!==sn||bt.morphColors!==no||bt.toneMapping!==Ko||He.isWebGL2===!0&&bt.morphTargetsCount!==Dr)&&(on=!0):(on=!0,bt.__version=le.version);let Nr=bt.currentProgram;on===!0&&(Nr=Ir(le,ue,Se));let wi=!1,Si=!1,bi=!1;const pt=Nr.getUniforms(),Et=bt.uniforms;if(Pe.useProgram(Nr.program)&&(wi=!0,Si=!0,bi=!0),le.id!==M&&(M=le.id,Si=!0),wi||T!==V){if(pt.setValue(oe,"projectionMatrix",V.projectionMatrix),He.logarithmicDepthBuffer&&pt.setValue(oe,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),T!==V&&(T=V,Si=!0,bi=!0),le.isShaderMaterial||le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshStandardMaterial||le.envMap){const Ft=pt.map.cameraPosition;Ft!==void 0&&Ft.setValue(oe,ae.setFromMatrixPosition(V.matrixWorld))}(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial)&&pt.setValue(oe,"isOrthographic",V.isOrthographicCamera===!0),(le.isMeshPhongMaterial||le.isMeshToonMaterial||le.isMeshLambertMaterial||le.isMeshBasicMaterial||le.isMeshStandardMaterial||le.isShaderMaterial||le.isShadowMaterial||Se.isSkinnedMesh)&&pt.setValue(oe,"viewMatrix",V.matrixWorldInverse)}if(Se.isSkinnedMesh){pt.setOptional(oe,Se,"bindMatrix"),pt.setOptional(oe,Se,"bindMatrixInverse");const Ft=Se.skeleton;Ft&&(He.floatVertexTextures?(Ft.boneTexture===null&&Ft.computeBoneTexture(),pt.setValue(oe,"boneTexture",Ft.boneTexture,fe),pt.setValue(oe,"boneTextureSize",Ft.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Mi=_e.morphAttributes;if((Mi.position!==void 0||Mi.normal!==void 0||Mi.color!==void 0&&He.isWebGL2===!0)&&be.update(Se,_e,le,Nr),(Si||bt.receiveShadow!==Se.receiveShadow)&&(bt.receiveShadow=Se.receiveShadow,pt.setValue(oe,"receiveShadow",Se.receiveShadow)),le.isMeshGouraudMaterial&&le.envMap!==null&&(Et.envMap.value=ht,Et.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),Si&&(pt.setValue(oe,"toneMappingExposure",v.toneMappingExposure),bt.needsLights&&nm(Et,bi),rt&&le.fog===!0&&re.refreshFogUniforms(Et,rt),re.refreshMaterialUniforms(Et,le,G,k,U),qv.upload(oe,bt.uniformsList,Et,fe)),le.isShaderMaterial&&le.uniformsNeedUpdate===!0&&(qv.upload(oe,bt.uniformsList,Et,fe),le.uniformsNeedUpdate=!1),le.isSpriteMaterial&&pt.setValue(oe,"center",Se.center),pt.setValue(oe,"modelViewMatrix",Se.modelViewMatrix),pt.setValue(oe,"normalMatrix",Se.normalMatrix),pt.setValue(oe,"modelMatrix",Se.matrixWorld),le.isShaderMaterial||le.isRawShaderMaterial){const Ft=le.uniformsGroups;for(let Gn=0,ro=Ft.length;Gn<ro;Gn++)if(He.isWebGL2){const io=Ft[Gn];Je.update(io,Nr),Je.bind(io,Nr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Nr}function nm(V,ue){V.ambientLightColor.needsUpdate=ue,V.lightProbe.needsUpdate=ue,V.directionalLights.needsUpdate=ue,V.directionalLightShadows.needsUpdate=ue,V.pointLights.needsUpdate=ue,V.pointLightShadows.needsUpdate=ue,V.spotLights.needsUpdate=ue,V.spotLightShadows.needsUpdate=ue,V.rectAreaLights.needsUpdate=ue,V.hemisphereLights.needsUpdate=ue}function qf(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(V,ue,_e){ve.get(V.texture).__webglTexture=ue,ve.get(V.depthTexture).__webglTexture=_e;const le=ve.get(V);le.__hasExternalTextures=!0,le.__hasExternalTextures&&(le.__autoAllocateDepthBuffer=_e===void 0,le.__autoAllocateDepthBuffer||Ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),le.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(V,ue){const _e=ve.get(V);_e.__webglFramebuffer=ue,_e.__useDefaultFramebuffer=ue===void 0},this.setRenderTarget=function(V,ue=0,_e=0){S=V,y=ue,w=_e;let le=!0,Se=null,rt=!1,at=!1;if(V){const ht=ve.get(V);ht.__useDefaultFramebuffer!==void 0?(Pe.bindFramebuffer(36160,null),le=!1):ht.__webglFramebuffer===void 0?fe.setupRenderTarget(V):ht.__hasExternalTextures&&fe.rebindTextures(V,ve.get(V.texture).__webglTexture,ve.get(V.depthTexture).__webglTexture);const Rt=V.texture;(Rt.isData3DTexture||Rt.isDataArrayTexture||Rt.isCompressedArrayTexture)&&(at=!0);const wt=ve.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Se=wt[ue],rt=!0):He.isWebGL2&&V.samples>0&&fe.useMultisampledRTT(V)===!1?Se=ve.get(V).__webglMultisampledFramebuffer:Se=wt,P.copy(V.viewport),L.copy(V.scissor),A=V.scissorTest}else P.copy(O).multiplyScalar(G).floor(),L.copy(j).multiplyScalar(G).floor(),A=$;if(Pe.bindFramebuffer(36160,Se)&&He.drawBuffers&&le&&Pe.drawBuffers(V,Se),Pe.viewport(P),Pe.scissor(L),Pe.setScissorTest(A),rt){const ht=ve.get(V.texture);oe.framebufferTexture2D(36160,36064,34069+ue,ht.__webglTexture,_e)}else if(at){const ht=ve.get(V.texture),Rt=ue||0;oe.framebufferTextureLayer(36160,36064,ht.__webglTexture,_e||0,Rt)}M=-1},this.readRenderTargetPixels=function(V,ue,_e,le,Se,rt,at){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=ve.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&at!==void 0&&(gt=gt[at]),gt){Pe.bindFramebuffer(36160,gt);try{const ht=V.texture,Rt=ht.format,wt=ht.type;if(Rt!==ai&&ke.convert(Rt)!==oe.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Tt=wt===yf&&(Ue.has("EXT_color_buffer_half_float")||He.isWebGL2&&Ue.has("EXT_color_buffer_float"));if(wt!==tl&&ke.convert(wt)!==oe.getParameter(35738)&&!(wt===Co&&(He.isWebGL2||Ue.has("OES_texture_float")||Ue.has("WEBGL_color_buffer_float")))&&!Tt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ue>=0&&ue<=V.width-le&&_e>=0&&_e<=V.height-Se&&oe.readPixels(ue,_e,le,Se,ke.convert(Rt),ke.convert(wt),rt)}finally{const ht=S!==null?ve.get(S).__webglFramebuffer:null;Pe.bindFramebuffer(36160,ht)}}},this.copyFramebufferToTexture=function(V,ue,_e=0){const le=Math.pow(2,-_e),Se=Math.floor(ue.image.width*le),rt=Math.floor(ue.image.height*le);fe.setTexture2D(ue,0),oe.copyTexSubImage2D(3553,_e,0,0,V.x,V.y,Se,rt),Pe.unbindTexture()},this.copyTextureToTexture=function(V,ue,_e,le=0){const Se=ue.image.width,rt=ue.image.height,at=ke.convert(_e.format),gt=ke.convert(_e.type);fe.setTexture2D(_e,0),oe.pixelStorei(37440,_e.flipY),oe.pixelStorei(37441,_e.premultiplyAlpha),oe.pixelStorei(3317,_e.unpackAlignment),ue.isDataTexture?oe.texSubImage2D(3553,le,V.x,V.y,Se,rt,at,gt,ue.image.data):ue.isCompressedTexture?oe.compressedTexSubImage2D(3553,le,V.x,V.y,ue.mipmaps[0].width,ue.mipmaps[0].height,at,ue.mipmaps[0].data):oe.texSubImage2D(3553,le,V.x,V.y,at,gt,ue.image),le===0&&_e.generateMipmaps&&oe.generateMipmap(3553),Pe.unbindTexture()},this.copyTextureToTexture3D=function(V,ue,_e,le,Se=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const rt=V.max.x-V.min.x+1,at=V.max.y-V.min.y+1,gt=V.max.z-V.min.z+1,ht=ke.convert(le.format),Rt=ke.convert(le.type);let wt;if(le.isData3DTexture)fe.setTexture3D(le,0),wt=32879;else if(le.isDataArrayTexture)fe.setTexture2DArray(le,0),wt=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}oe.pixelStorei(37440,le.flipY),oe.pixelStorei(37441,le.premultiplyAlpha),oe.pixelStorei(3317,le.unpackAlignment);const Tt=oe.getParameter(3314),sn=oe.getParameter(32878),no=oe.getParameter(3316),Ko=oe.getParameter(3315),Jo=oe.getParameter(32877),Dr=_e.isCompressedTexture?_e.mipmaps[0]:_e.image;oe.pixelStorei(3314,Dr.width),oe.pixelStorei(32878,Dr.height),oe.pixelStorei(3316,V.min.x),oe.pixelStorei(3315,V.min.y),oe.pixelStorei(32877,V.min.z),_e.isDataTexture||_e.isData3DTexture?oe.texSubImage3D(wt,Se,ue.x,ue.y,ue.z,rt,at,gt,ht,Rt,Dr.data):_e.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),oe.compressedTexSubImage3D(wt,Se,ue.x,ue.y,ue.z,rt,at,gt,ht,Dr.data)):oe.texSubImage3D(wt,Se,ue.x,ue.y,ue.z,rt,at,gt,ht,Rt,Dr),oe.pixelStorei(3314,Tt),oe.pixelStorei(32878,sn),oe.pixelStorei(3316,no),oe.pixelStorei(3315,Ko),oe.pixelStorei(32877,Jo),Se===0&&le.generateMipmaps&&oe.generateMipmap(wt),Pe.unbindTexture()},this.initTexture=function(V){V.isCubeTexture?fe.setTextureCube(V,0):V.isData3DTexture?fe.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?fe.setTexture2DArray(V,0):fe.setTexture2D(V,0),Pe.unbindTexture()},this.resetState=function(){y=0,w=0,S=null,Pe.reset(),xe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class nU extends kE{}nU.prototype.isWebGL1Renderer=!0;class Zy{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ze(e),this.density=t}clone(){return new Zy(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Qy{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new ze(e),this.near=t,this.far=r}clone(){return new Qy(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class FE extends Ct{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class Dp{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=np,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=mi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=mi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=mi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Tr=new B;class nl{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Tr.fromBufferAttribute(this,t),Tr.applyMatrix4(e),this.setXYZ(t,Tr.x,Tr.y,Tr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Tr.fromBufferAttribute(this,t),Tr.applyNormalMatrix(e),this.setXYZ(t,Tr.x,Tr.y,Tr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Tr.fromBufferAttribute(this,t),Tr.transformDirection(e),this.setXYZ(t,Tr.x,Tr.y,Tr.z);return this}setX(e,t){return this.normalized&&(t=qt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=qt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Po(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Po(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Po(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Po(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=qt(t,this.array),r=qt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=qt(t,this.array),r=qt(r,this.array),i=qt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=qt(t,this.array),r=qt(r,this.array),i=qt(i,this.array),s=qt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Gt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new nl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class zE extends Nn{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ze(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let gc;const Pd=new B,vc=new B,yc=new B,_c=new we,Rd=new we,rU=new ut,qg=new B,Ld=new B,Xg=new B,IL=new we,rw=new we,DL=new we;class iU extends Ct{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",gc===void 0){gc=new mt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Dp(t,5);gc.setIndex([0,1,2,0,2,3]),gc.setAttribute("position",new nl(r,3,0,!1)),gc.setAttribute("uv",new nl(r,2,3,!1))}this.geometry=gc,this.material=e!==void 0?e:new zE,this.center=new we(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),vc.setFromMatrixScale(this.matrixWorld),rU.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),yc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&vc.multiplyScalar(-yc.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Yg(qg.set(-.5,-.5,0),yc,o,vc,i,s),Yg(Ld.set(.5,-.5,0),yc,o,vc,i,s),Yg(Xg.set(.5,.5,0),yc,o,vc,i,s),IL.set(0,0),rw.set(1,0),DL.set(1,1);let a=e.ray.intersectTriangle(qg,Ld,Xg,!1,Pd);if(a===null&&(Yg(Ld.set(-.5,.5,0),yc,o,vc,i,s),rw.set(0,1),a=e.ray.intersectTriangle(qg,Xg,Ld,!1,Pd),a===null))return;const l=e.ray.origin.distanceTo(Pd);l<e.near||l>e.far||t.push({distance:l,point:Pd.clone(),uv:ji.getUV(Pd,qg,Ld,Xg,IL,rw,DL,new we),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Yg(n,e,t,r,i,s){_c.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Rd.x=s*_c.x-i*_c.y,Rd.y=i*_c.x+s*_c.y):Rd.copy(_c),n.copy(e),n.x+=Rd.x,n.y+=Rd.y,n.applyMatrix4(rU)}const Kg=new B,NL=new B;class sU extends Ct{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){Kg.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Kg);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Kg.setFromMatrixPosition(e.matrixWorld),NL.setFromMatrixPosition(this.matrixWorld);const r=Kg.distanceTo(NL)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}const kL=new B,FL=new Vt,zL=new Vt,zne=new B,UL=new ut;class UE extends Kn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ut,this.bindMatrixInverse=new ut}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Vt,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;FL.fromBufferAttribute(i.attributes.skinIndex,e),zL.fromBufferAttribute(i.attributes.skinWeight,e),kL.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=zL.getComponent(s);if(o!==0){const a=FL.getComponent(s);UL.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(zne.copy(kL).applyMatrix4(UL),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class e_ extends Ct{constructor(){super(),this.isBone=!0,this.type="Bone"}}class tf extends Sn{constructor(e=null,t=1,r=1,i,s,o,a,l,u=An,f=An,h,p){super(null,o,a,l,u,f,i,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const BL=new ut,Une=new ut;class Np{constructor(e=[],t=[]){this.uuid=mi(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new ut)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new ut;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Une;BL.multiplyMatrices(a,t[s]),BL.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Np(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=V4(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new tf(t,e,e,ai,Co);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new e_),this.bones.push(o),this.boneInverses.push(new ut().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class wf extends Gt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const VL=new ut,HL=new ut,Jg=[],Bne=new ut,Od=new Kn;class BE extends Kn{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new wf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1;for(let i=0;i<r;i++)this.setMatrixAt(i,Bne)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Od.geometry=this.geometry,Od.material=this.material,Od.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,VL),HL.multiplyMatrices(r,VL),Od.matrixWorld=HL,Od.raycast(e,Jg);for(let o=0,a=Jg.length;o<a;o++){const l=Jg[o];l.instanceId=s,l.object=this,t.push(l)}Jg.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new wf(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Sr extends Nn{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ze(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const GL=new B,jL=new B,WL=new ut,iw=new Lp,Zg=new ul;class Go extends Ct{constructor(e=new mt,t=new Sr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)GL.fromBufferAttribute(t,i-1),jL.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=GL.distanceTo(jL);e.setAttribute("lineDistance",new Ye(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Zg.copy(r.boundingSphere),Zg.applyMatrix4(i),Zg.radius+=s,e.ray.intersectsSphere(Zg)===!1)return;WL.copy(i).invert(),iw.copy(e.ray).applyMatrix4(WL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new B,f=new B,h=new B,p=new B,m=this.isLineSegments?2:1,g=r.index,_=r.attributes.position;if(g!==null){const y=Math.max(0,o.start),w=Math.min(g.count,o.start+o.count);for(let S=y,M=w-1;S<M;S+=m){const T=g.getX(S),P=g.getX(S+1);if(u.fromBufferAttribute(_,T),f.fromBufferAttribute(_,P),iw.distanceSqToSegment(u,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const A=e.ray.origin.distanceTo(p);A<e.near||A>e.far||t.push({distance:A,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,o.start),w=Math.min(_.count,o.start+o.count);for(let S=y,M=w-1;S<M;S+=m){if(u.fromBufferAttribute(_,S),f.fromBufferAttribute(_,S+1),iw.distanceSqToSegment(u,f,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||t.push({distance:P,point:h.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const $L=new B,qL=new B;class _s extends Go{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)$L.fromBufferAttribute(t,i),qL.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+$L.distanceTo(qL);e.setAttribute("lineDistance",new Ye(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class VE extends Go{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class t_ extends Nn{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ze(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const XL=new ut,Yb=new Lp,Qg=new ul,ev=new B;class HE extends Ct{constructor(e=new mt,t=new t_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Qg.copy(r.boundingSphere),Qg.applyMatrix4(i),Qg.radius+=s,e.ray.intersectsSphere(Qg)===!1)return;XL.copy(i).invert(),Yb.copy(e.ray).applyMatrix4(XL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,h=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=p,v=m;g<v;g++){const _=u.getX(g);ev.fromBufferAttribute(h,_),YL(ev,_,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let g=p,v=m;g<v;g++)ev.fromBufferAttribute(h,g),YL(ev,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function YL(n,e,t,r,i,s,o){const a=Yb.distanceSqToPoint(n);if(a<t){const l=new B;Yb.closestPointToPoint(n,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class Vne extends Sn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:dn,this.magFilter=s!==void 0?s:dn,this.generateMipmaps=!1;const f=this;function h(){f.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Hne extends Sn{constructor(e,t,r){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=An,this.minFilter=An,this.generateMipmaps=!1,this.needsUpdate=!0}}class GE extends Sn{constructor(e,t,r,i,s,o,a,l,u,f,h,p){super(null,o,a,l,u,f,i,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Gne extends GE{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ir}}class jne extends Sn{constructor(e,t,r,i,s,o,a,l,u){super(e,t,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class xs{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const f=r[i],p=r[i+1]-f,m=(o-f)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new we:new B);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new B,i=[],s=[],o=[],a=new B,l=new ut;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new B)}s[0]=new B,o[0]=new B;let u=Number.MAX_VALUE;const f=Math.abs(i[0].x),h=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=u&&(u=f,r.set(1,0,0)),h<=u&&(u=h,r.set(0,1,0)),p<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(Cn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(Cn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class n_ extends xs{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new we,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*f-m*h+this.aX,u=p*h+m*f+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class oU extends n_{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function jE(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,f,h){let p=(o-s)/u-(a-s)/(u+f)+(a-o)/f,m=(a-o)/f-(l-o)/(f+h)+(l-a)/h;p*=f,m*=f,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const tv=new B,sw=new jE,ow=new jE,aw=new jE;class aU extends xs{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new B){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,f;this.closed||a>0?u=i[(a-1)%s]:(tv.subVectors(i[0],i[1]).add(i[0]),u=tv);const h=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(tv.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=tv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(h),m),v=Math.pow(h.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(f),m);v<1e-4&&(v=1),g<1e-4&&(g=v),_<1e-4&&(_=v),sw.initNonuniformCatmullRom(u.x,h.x,p.x,f.x,g,v,_),ow.initNonuniformCatmullRom(u.y,h.y,p.y,f.y,g,v,_),aw.initNonuniformCatmullRom(u.z,h.z,p.z,f.z,g,v,_)}else this.curveType==="catmullrom"&&(sw.initCatmullRom(u.x,h.x,p.x,f.x,this.tension),ow.initCatmullRom(u.y,h.y,p.y,f.y,this.tension),aw.initCatmullRom(u.z,h.z,p.z,f.z,this.tension));return r.set(sw.calc(l),ow.calc(l),aw.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new B().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function KL(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function Wne(n,e){const t=1-n;return t*t*e}function $ne(n,e){return 2*(1-n)*n*e}function qne(n,e){return n*n*e}function ph(n,e,t,r){return Wne(n,e)+$ne(n,t)+qne(n,r)}function Xne(n,e){const t=1-n;return t*t*t*e}function Yne(n,e){const t=1-n;return 3*t*t*n*e}function Kne(n,e){return 3*(1-n)*n*n*e}function Jne(n,e){return n*n*n*e}function mh(n,e,t,r,i){return Xne(n,e)+Yne(n,t)+Kne(n,r)+Jne(n,i)}class WE extends xs{constructor(e=new we,t=new we,r=new we,i=new we){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new we){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(mh(e,i.x,s.x,o.x,a.x),mh(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class lU extends xs{constructor(e=new B,t=new B,r=new B,i=new B){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new B){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(mh(e,i.x,s.x,o.x,a.x),mh(e,i.y,s.y,o.y,a.y),mh(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class r_ extends xs{constructor(e=new we,t=new we){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new we){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new we;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class uU extends xs{constructor(e=new B,t=new B){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new B){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $E extends xs{constructor(e=new we,t=new we,r=new we){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new we){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(ph(e,i.x,s.x,o.x),ph(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qE extends xs{constructor(e=new B,t=new B,r=new B){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new B){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(ph(e,i.x,s.x,o.x),ph(e,i.y,s.y,o.y),ph(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class XE extends xs{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new we){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],f=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(KL(a,l.x,u.x,f.x,h.x),KL(a,l.y,u.y,f.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new we().fromArray(i))}return this}}var YE=Object.freeze({__proto__:null,ArcCurve:oU,CatmullRomCurve3:aU,CubicBezierCurve:WE,CubicBezierCurve3:lU,EllipseCurve:n_,LineCurve:r_,LineCurve3:uU,QuadraticBezierCurve:$E,QuadraticBezierCurve3:qE,SplineCurve:XE});class cU extends xs{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new r_(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const f=l[u];r&&r.equals(f)||(t.push(f),r=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new YE[i.type]().fromJSON(i))}return this}}class sp extends cU{constructor(e){super(),this.type="Path",this.currentPoint=new we,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new r_(this.currentPoint.clone(),new we(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new $E(this.currentPoint.clone(),new we(e,t),new we(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new WE(this.currentPoint.clone(),new we(e,t),new we(r,i),new we(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new XE(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,t+f,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const u=new n_(e,t,r,i,s,o,a,l);if(this.curves.length>0){const h=u.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Uf extends mt{constructor(e=[new we(0,-.5),new we(.5,0),new we(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Cn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],f=1/t,h=new B,p=new we,m=new B,g=new B,v=new B;let _=0,y=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:_=e[w+1].x-e[w].x,y=e[w+1].y-e[w].y,m.x=y*1,m.y=-_,m.z=y*0,v.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:_=e[w+1].x-e[w].x,y=e[w+1].y-e[w].y,m.x=y*1,m.y=-_,m.z=y*0,g.copy(m),m.x+=v.x,m.y+=v.y,m.z+=v.z,m.normalize(),l.push(m.x,m.y,m.z),v.copy(g)}for(let w=0;w<=t;w++){const S=r+w*f*i,M=Math.sin(S),T=Math.cos(S);for(let P=0;P<=e.length-1;P++){h.x=e[P].x*M,h.y=e[P].y,h.z=e[P].x*T,o.push(h.x,h.y,h.z),p.x=w/t,p.y=P/(e.length-1),a.push(p.x,p.y);const L=l[3*P+0]*M,A=l[3*P+1],R=l[3*P+0]*T;u.push(L,A,R)}}for(let w=0;w<t;w++)for(let S=0;S<e.length-1;S++){const M=S+w*e.length,T=M,P=M+e.length,L=M+e.length+1,A=M+1;s.push(T,P,A),s.push(L,A,P)}this.setIndex(s),this.setAttribute("position",new Ye(o,3)),this.setAttribute("uv",new Ye(a,2)),this.setAttribute("normal",new Ye(u,3))}static fromJSON(e){return new Uf(e.points,e.segments,e.phiStart,e.phiLength)}}class kp extends Uf{constructor(e=1,t=1,r=4,i=8){const s=new sp;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new kp(e.radius,e.length,e.capSegments,e.radialSegments)}}class Fp extends mt{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],u=new B,f=new we;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=r+h/t*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),a.push(0,0,1),f.x=(o[p]/e+1)/2,f.y=(o[p+1]/e+1)/2,l.push(f.x,f.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Ye(o,3)),this.setAttribute("normal",new Ye(a,3)),this.setAttribute("uv",new Ye(l,2))}static fromJSON(e){return new Fp(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Lu extends mt{constructor(e=1,t=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const f=[],h=[],p=[],m=[];let g=0;const v=[],_=r/2;let y=0;w(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(f),this.setAttribute("position",new Ye(h,3)),this.setAttribute("normal",new Ye(p,3)),this.setAttribute("uv",new Ye(m,2));function w(){const M=new B,T=new B;let P=0;const L=(t-e)/r;for(let A=0;A<=s;A++){const R=[],k=A/s,G=k*(t-e)+e;for(let Z=0;Z<=i;Z++){const W=Z/i,O=W*l+a,j=Math.sin(O),$=Math.cos(O);T.x=G*j,T.y=-k*r+_,T.z=G*$,h.push(T.x,T.y,T.z),M.set(j,L,$).normalize(),p.push(M.x,M.y,M.z),m.push(W,1-k),R.push(g++)}v.push(R)}for(let A=0;A<i;A++)for(let R=0;R<s;R++){const k=v[R][A],G=v[R+1][A],Z=v[R+1][A+1],W=v[R][A+1];f.push(k,G,W),f.push(G,Z,W),P+=6}u.addGroup(y,P,0),y+=P}function S(M){const T=g,P=new we,L=new B;let A=0;const R=M===!0?e:t,k=M===!0?1:-1;for(let Z=1;Z<=i;Z++)h.push(0,_*k,0),p.push(0,k,0),m.push(.5,.5),g++;const G=g;for(let Z=0;Z<=i;Z++){const O=Z/i*l+a,j=Math.cos(O),$=Math.sin(O);L.x=R*$,L.y=_*k,L.z=R*j,h.push(L.x,L.y,L.z),p.push(0,k,0),P.x=j*.5+.5,P.y=$*.5*k+.5,m.push(P.x,P.y),g++}for(let Z=0;Z<i;Z++){const W=T+Z,O=G+Z;M===!0?f.push(O,O+1,W):f.push(O+1,O,W),A+=3}u.addGroup(y,A,M===!0?1:2),y+=A}}static fromJSON(e){return new Lu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zp extends Lu{constructor(e=1,t=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new zp(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class qo extends mt{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),u(r),f(),this.setAttribute("position",new Ye(s,3)),this.setAttribute("normal",new Ye(s.slice(),3)),this.setAttribute("uv",new Ye(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const S=new B,M=new B,T=new B;for(let P=0;P<t.length;P+=3)m(t[P+0],S),m(t[P+1],M),m(t[P+2],T),l(S,M,T,w)}function l(w,S,M,T){const P=T+1,L=[];for(let A=0;A<=P;A++){L[A]=[];const R=w.clone().lerp(M,A/P),k=S.clone().lerp(M,A/P),G=P-A;for(let Z=0;Z<=G;Z++)Z===0&&A===P?L[A][Z]=R:L[A][Z]=R.clone().lerp(k,Z/G)}for(let A=0;A<P;A++)for(let R=0;R<2*(P-A)-1;R++){const k=Math.floor(R/2);R%2===0?(p(L[A][k+1]),p(L[A+1][k]),p(L[A][k])):(p(L[A][k+1]),p(L[A+1][k+1]),p(L[A+1][k]))}}function u(w){const S=new B;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(w),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function f(){const w=new B;for(let S=0;S<s.length;S+=3){w.x=s[S+0],w.y=s[S+1],w.z=s[S+2];const M=_(w)/2/Math.PI+.5,T=y(w)/Math.PI+.5;o.push(M,1-T)}g(),h()}function h(){for(let w=0;w<o.length;w+=6){const S=o[w+0],M=o[w+2],T=o[w+4],P=Math.max(S,M,T),L=Math.min(S,M,T);P>.9&&L<.1&&(S<.2&&(o[w+0]+=1),M<.2&&(o[w+2]+=1),T<.2&&(o[w+4]+=1))}}function p(w){s.push(w.x,w.y,w.z)}function m(w,S){const M=w*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function g(){const w=new B,S=new B,M=new B,T=new B,P=new we,L=new we,A=new we;for(let R=0,k=0;R<s.length;R+=9,k+=6){w.set(s[R+0],s[R+1],s[R+2]),S.set(s[R+3],s[R+4],s[R+5]),M.set(s[R+6],s[R+7],s[R+8]),P.set(o[k+0],o[k+1]),L.set(o[k+2],o[k+3]),A.set(o[k+4],o[k+5]),T.copy(w).add(S).add(M).divideScalar(3);const G=_(T);v(P,k+0,w,G),v(L,k+2,S,G),v(A,k+4,M,G)}}function v(w,S,M,T){T<0&&w.x===1&&(o[S]=w.x-1),M.x===0&&M.z===0&&(o[S]=T/2/Math.PI+.5)}function _(w){return Math.atan2(w.z,-w.x)}function y(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}static fromJSON(e){return new qo(e.vertices,e.indices,e.radius,e.details)}}class Up extends qo{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Up(e.radius,e.detail)}}const nv=new B,rv=new B,lw=new B,iv=new ji;class fU extends mt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(cu*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],f=["a","b","c"],h=new Array(3),p={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:v,b:_,c:y}=iv;if(v.fromBufferAttribute(a,u[0]),_.fromBufferAttribute(a,u[1]),y.fromBufferAttribute(a,u[2]),iv.getNormal(lw),h[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,h[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,h[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let w=0;w<3;w++){const S=(w+1)%3,M=h[w],T=h[S],P=iv[f[w]],L=iv[f[S]],A=`${M}_${T}`,R=`${T}_${M}`;R in p&&p[R]?(lw.dot(p[R].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(L.x,L.y,L.z)),p[R]=null):A in p||(p[A]={index0:u[w],index1:u[S],normal:lw.clone()})}}for(const g in p)if(p[g]){const{index0:v,index1:_}=p[g];nv.fromBufferAttribute(a,v),rv.fromBufferAttribute(a,_),m.push(nv.x,nv.y,nv.z),m.push(rv.x,rv.y,rv.z)}this.setAttribute("position",new Ye(m,3))}}}class hu extends sp{constructor(e){super(e),this.uuid=mi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new sp().fromJSON(i))}return this}}const Zne={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=dU(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,f,h,p,m;if(r&&(s=rre(n,e,s,t)),n.length>80*t){a=u=n[0],l=f=n[1];for(let g=t;g<i;g+=t)h=n[g],p=n[g+1],h<a&&(a=h),p<l&&(l=p),h>u&&(u=h),p>f&&(f=p);m=Math.max(u-a,f-l),m=m!==0?32767/m:0}return op(s,o,t,a,l,m,0),o}};function dU(n,e,t,r,i){let s,o;if(i===pre(n,e,t,r)>0)for(s=e;s<t;s+=r)o=JL(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=JL(s,n[s],n[s+1],o);return o&&i_(o,o.next)&&(lp(o),o=o.next),o}function bu(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(i_(t,t.next)||hn(t.prev,t,t.next)===0)){if(lp(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function op(n,e,t,r,i,s,o){if(!n)return;!o&&s&&lre(n,r,i,s);let a=n,l,u;for(;n.prev!==n.next;){if(l=n.prev,u=n.next,s?ere(n,r,i,s):Qne(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(u.i/t|0),lp(n),n=u.next,a=u.next;continue}if(n=u,n===a){o?o===1?(n=tre(bu(n),e,t),op(n,e,t,r,i,s,2)):o===2&&nre(n,e,t,r,i,s):op(bu(n),e,t,r,i,s,1);break}}}function Qne(n){const e=n.prev,t=n,r=n.next;if(hn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,u=r.y,f=i<s?i<o?i:o:s<o?s:o,h=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=f&&g.x<=p&&g.y>=h&&g.y<=m&&jc(i,a,s,l,o,u,g.x,g.y)&&hn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function ere(n,e,t,r){const i=n.prev,s=n,o=n.next;if(hn(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,f=i.y,h=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,g=f<h?f<p?f:p:h<p?h:p,v=a>l?a>u?a:u:l>u?l:u,_=f>h?f>p?f:p:h>p?h:p,y=Kb(m,g,e,t,r),w=Kb(v,_,e,t,r);let S=n.prevZ,M=n.nextZ;for(;S&&S.z>=y&&M&&M.z<=w;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=_&&S!==i&&S!==o&&jc(a,f,l,h,u,p,S.x,S.y)&&hn(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=v&&M.y>=g&&M.y<=_&&M!==i&&M!==o&&jc(a,f,l,h,u,p,M.x,M.y)&&hn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=y;){if(S.x>=m&&S.x<=v&&S.y>=g&&S.y<=_&&S!==i&&S!==o&&jc(a,f,l,h,u,p,S.x,S.y)&&hn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=w;){if(M.x>=m&&M.x<=v&&M.y>=g&&M.y<=_&&M!==i&&M!==o&&jc(a,f,l,h,u,p,M.x,M.y)&&hn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function tre(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!i_(i,s)&&hU(i,r,r.next,s)&&ap(i,s)&&ap(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),lp(r),lp(r.next),r=n=s),r=r.next}while(r!==n);return bu(r)}function nre(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&fre(o,a)){let l=pU(o,a);o=bu(o,o.next),l=bu(l,l.next),op(o,e,t,r,i,s,0),op(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function rre(n,e,t,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,u=dU(n,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(cre(u));for(i.sort(ire),s=0;s<i.length;s++)t=sre(i[s],t);return t}function ire(n,e){return n.x-e.x}function sre(n,e){const t=ore(n,e);if(!t)return e;const r=pU(t,n);return bu(r,r.next),bu(t,t.next)}function ore(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let f=1/0,h;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&jc(o<u?s:r,o,l,u,o<u?r:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),ap(t,n)&&(h<f||h===f&&(t.x>i.x||t.x===i.x&&are(i,t)))&&(i=t,f=h)),t=t.next;while(t!==a);return i}function are(n,e){return hn(n.prev,n,e.prev)<0&&hn(e.next,n,n.next)<0}function lre(n,e,t,r){let i=n;do i.z===0&&(i.z=Kb(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,ure(i)}function ure(n){let e,t,r,i,s,o,a,l,u=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,u*=2}while(o>1);return n}function Kb(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function cre(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function jc(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function fre(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!dre(n,e)&&(ap(n,e)&&ap(e,n)&&hre(n,e)&&(hn(n.prev,n,e.prev)||hn(n,e.prev,e))||i_(n,e)&&hn(n.prev,n,n.next)>0&&hn(e.prev,e,e.next)>0)}function hn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function i_(n,e){return n.x===e.x&&n.y===e.y}function hU(n,e,t,r){const i=ov(hn(n,e,t)),s=ov(hn(n,e,r)),o=ov(hn(t,r,n)),a=ov(hn(t,r,e));return!!(i!==s&&o!==a||i===0&&sv(n,t,e)||s===0&&sv(n,r,e)||o===0&&sv(t,n,r)||a===0&&sv(t,e,r))}function sv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function ov(n){return n>0?1:n<0?-1:0}function dre(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&hU(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function ap(n,e){return hn(n.prev,n,n.next)<0?hn(n,e,n.next)>=0&&hn(n,n.prev,e)>=0:hn(n,e,n.prev)<0||hn(n,n.next,e)<0}function hre(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function pU(n,e){const t=new Jb(n.i,n.x,n.y),r=new Jb(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function JL(n,e,t,r){const i=new Jb(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function lp(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Jb(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function pre(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Ys{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ys.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];ZL(e),QL(r,e);let o=e.length;t.forEach(ZL);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,QL(r,t[l]);const a=Zne.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function ZL(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function QL(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Bp extends mt{constructor(e=new hu([new we(.5,.5),new we(-.5,.5),new we(-.5,-.5),new we(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Ye(i,3)),this.setAttribute("uv",new Ye(s,2)),this.computeVertexNormals();function o(a){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,v=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const y=t.extrudePath,w=t.UVGenerator!==void 0?t.UVGenerator:mre;let S,M=!1,T,P,L,A;y&&(S=y.getSpacedPoints(f),M=!0,p=!1,T=y.computeFrenetFrames(f,!1),P=new B,L=new B,A=new B),p||(_=0,m=0,g=0,v=0);const R=a.extractPoints(u);let k=R.shape;const G=R.holes;if(!Ys.isClockWise(k)){k=k.reverse();for(let ve=0,fe=G.length;ve<fe;ve++){const Me=G[ve];Ys.isClockWise(Me)&&(G[ve]=Me.reverse())}}const W=Ys.triangulateShape(k,G),O=k;for(let ve=0,fe=G.length;ve<fe;ve++){const Me=G[ve];k=k.concat(Me)}function j(ve,fe,Me){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),fe.clone().multiplyScalar(Me).add(ve)}const $=k.length,ie=W.length;function I(ve,fe,Me){let Be,Re,tt;const Xe=ve.x-fe.x,$e=ve.y-fe.y,re=Me.x-ve.x,Ee=Me.y-ve.y,F=Xe*Xe+$e*$e,D=Xe*Ee-$e*re;if(Math.abs(D)>Number.EPSILON){const te=Math.sqrt(F),ye=Math.sqrt(re*re+Ee*Ee),be=fe.x-$e/te,De=fe.y+Xe/te,nt=Me.x-Ee/ye,ke=Me.y+re/ye,xe=((nt-be)*Ee-(ke-De)*re)/(Xe*Ee-$e*re);Be=be+Xe*xe-ve.x,Re=De+$e*xe-ve.y;const Je=Be*Be+Re*Re;if(Je<=2)return new we(Be,Re);tt=Math.sqrt(Je/2)}else{let te=!1;Xe>Number.EPSILON?re>Number.EPSILON&&(te=!0):Xe<-Number.EPSILON?re<-Number.EPSILON&&(te=!0):Math.sign($e)===Math.sign(Ee)&&(te=!0),te?(Be=-$e,Re=Xe,tt=Math.sqrt(F)):(Be=Xe,Re=$e,tt=Math.sqrt(F/2))}return new we(Be/tt,Re/tt)}const N=[];for(let ve=0,fe=O.length,Me=fe-1,Be=ve+1;ve<fe;ve++,Me++,Be++)Me===fe&&(Me=0),Be===fe&&(Be=0),N[ve]=I(O[ve],O[Me],O[Be]);const U=[];let X,Y=N.concat();for(let ve=0,fe=G.length;ve<fe;ve++){const Me=G[ve];X=[];for(let Be=0,Re=Me.length,tt=Re-1,Xe=Be+1;Be<Re;Be++,tt++,Xe++)tt===Re&&(tt=0),Xe===Re&&(Xe=0),X[Be]=I(Me[Be],Me[tt],Me[Xe]);U.push(X),Y=Y.concat(X)}for(let ve=0;ve<_;ve++){const fe=ve/_,Me=m*Math.cos(fe*Math.PI/2),Be=g*Math.sin(fe*Math.PI/2)+v;for(let Re=0,tt=O.length;Re<tt;Re++){const Xe=j(O[Re],N[Re],Be);Ne(Xe.x,Xe.y,-Me)}for(let Re=0,tt=G.length;Re<tt;Re++){const Xe=G[Re];X=U[Re];for(let $e=0,re=Xe.length;$e<re;$e++){const Ee=j(Xe[$e],X[$e],Be);Ne(Ee.x,Ee.y,-Me)}}}const ae=g+v;for(let ve=0;ve<$;ve++){const fe=p?j(k[ve],Y[ve],ae):k[ve];M?(L.copy(T.normals[0]).multiplyScalar(fe.x),P.copy(T.binormals[0]).multiplyScalar(fe.y),A.copy(S[0]).add(L).add(P),Ne(A.x,A.y,A.z)):Ne(fe.x,fe.y,0)}for(let ve=1;ve<=f;ve++)for(let fe=0;fe<$;fe++){const Me=p?j(k[fe],Y[fe],ae):k[fe];M?(L.copy(T.normals[ve]).multiplyScalar(Me.x),P.copy(T.binormals[ve]).multiplyScalar(Me.y),A.copy(S[ve]).add(L).add(P),Ne(A.x,A.y,A.z)):Ne(Me.x,Me.y,h/f*ve)}for(let ve=_-1;ve>=0;ve--){const fe=ve/_,Me=m*Math.cos(fe*Math.PI/2),Be=g*Math.sin(fe*Math.PI/2)+v;for(let Re=0,tt=O.length;Re<tt;Re++){const Xe=j(O[Re],N[Re],Be);Ne(Xe.x,Xe.y,h+Me)}for(let Re=0,tt=G.length;Re<tt;Re++){const Xe=G[Re];X=U[Re];for(let $e=0,re=Xe.length;$e<re;$e++){const Ee=j(Xe[$e],X[$e],Be);M?Ne(Ee.x,Ee.y+S[f-1].y,S[f-1].x+Me):Ne(Ee.x,Ee.y,h+Me)}}}se(),ge();function se(){const ve=i.length/3;if(p){let fe=0,Me=$*fe;for(let Be=0;Be<ie;Be++){const Re=W[Be];Ue(Re[2]+Me,Re[1]+Me,Re[0]+Me)}fe=f+_*2,Me=$*fe;for(let Be=0;Be<ie;Be++){const Re=W[Be];Ue(Re[0]+Me,Re[1]+Me,Re[2]+Me)}}else{for(let fe=0;fe<ie;fe++){const Me=W[fe];Ue(Me[2],Me[1],Me[0])}for(let fe=0;fe<ie;fe++){const Me=W[fe];Ue(Me[0]+$*f,Me[1]+$*f,Me[2]+$*f)}}r.addGroup(ve,i.length/3-ve,0)}function ge(){const ve=i.length/3;let fe=0;oe(O,fe),fe+=O.length;for(let Me=0,Be=G.length;Me<Be;Me++){const Re=G[Me];oe(Re,fe),fe+=Re.length}r.addGroup(ve,i.length/3-ve,1)}function oe(ve,fe){let Me=ve.length;for(;--Me>=0;){const Be=Me;let Re=Me-1;Re<0&&(Re=ve.length-1);for(let tt=0,Xe=f+_*2;tt<Xe;tt++){const $e=$*tt,re=$*(tt+1),Ee=fe+Be+$e,F=fe+Re+$e,D=fe+Re+re,te=fe+Be+re;He(Ee,F,D,te)}}}function Ne(ve,fe,Me){l.push(ve),l.push(fe),l.push(Me)}function Ue(ve,fe,Me){Pe(ve),Pe(fe),Pe(Me);const Be=i.length/3,Re=w.generateTopUV(r,i,Be-3,Be-2,Be-1);Ke(Re[0]),Ke(Re[1]),Ke(Re[2])}function He(ve,fe,Me,Be){Pe(ve),Pe(fe),Pe(Be),Pe(fe),Pe(Me),Pe(Be);const Re=i.length/3,tt=w.generateSideWallUV(r,i,Re-6,Re-3,Re-2,Re-1);Ke(tt[0]),Ke(tt[1]),Ke(tt[3]),Ke(tt[1]),Ke(tt[2]),Ke(tt[3])}function Pe(ve){i.push(l[ve*3+0]),i.push(l[ve*3+1]),i.push(l[ve*3+2])}function Ke(ve){s.push(ve.x),s.push(ve.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return gre(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new YE[i.type]().fromJSON(i)),new Bp(r,e.options)}}const mre={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],f=e[i*3+1];return[new we(s,o),new we(a,l),new we(u,f)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],u=e[r*3],f=e[r*3+1],h=e[r*3+2],p=e[i*3],m=e[i*3+1],g=e[i*3+2],v=e[s*3],_=e[s*3+1],y=e[s*3+2];return Math.abs(a-f)<Math.abs(o-u)?[new we(o,1-l),new we(u,1-h),new we(p,1-g),new we(v,1-y)]:[new we(a,1-l),new we(f,1-h),new we(m,1-g),new we(_,1-y)]}};function gre(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Vp extends qo{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Vp(e.radius,e.detail)}}class Bf extends qo{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Bf(e.radius,e.detail)}}class Hp extends mt{constructor(e=.5,t=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],f=[];let h=e;const p=(t-e)/i,m=new B,g=new we;for(let v=0;v<=i;v++){for(let _=0;_<=r;_++){const y=s+_/r*o;m.x=h*Math.cos(y),m.y=h*Math.sin(y),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,f.push(g.x,g.y)}h+=p}for(let v=0;v<i;v++){const _=v*(r+1);for(let y=0;y<r;y++){const w=y+_,S=w,M=w+r+1,T=w+r+2,P=w+1;a.push(S,M,P),a.push(M,T,P)}}this.setIndex(a),this.setAttribute("position",new Ye(l,3)),this.setAttribute("normal",new Ye(u,3)),this.setAttribute("uv",new Ye(f,2))}static fromJSON(e){return new Hp(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Gp extends mt{constructor(e=new hu([new we(0,.5),new we(-.5,-.5),new we(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ye(i,3)),this.setAttribute("normal",new Ye(s,3)),this.setAttribute("uv",new Ye(o,2));function u(f){const h=i.length/3,p=f.extractPoints(t);let m=p.shape;const g=p.holes;Ys.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,y=g.length;_<y;_++){const w=g[_];Ys.isClockWise(w)===!0&&(g[_]=w.reverse())}const v=Ys.triangulateShape(m,g);for(let _=0,y=g.length;_<y;_++){const w=g[_];m=m.concat(w)}for(let _=0,y=m.length;_<y;_++){const w=m[_];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let _=0,y=v.length;_<y;_++){const w=v[_],S=w[0]+h,M=w[1]+h,T=w[2]+h;r.push(S,M,T),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return vre(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Gp(r,e.curveSegments)}}function vre(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class Vf extends mt{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const f=[],h=new B,p=new B,m=[],g=[],v=[],_=[];for(let y=0;y<=r;y++){const w=[],S=y/r;let M=0;y==0&&o==0?M=.5/t:y==r&&l==Math.PI&&(M=-.5/t);for(let T=0;T<=t;T++){const P=T/t;h.x=-e*Math.cos(i+P*s)*Math.sin(o+S*a),h.y=e*Math.cos(o+S*a),h.z=e*Math.sin(i+P*s)*Math.sin(o+S*a),g.push(h.x,h.y,h.z),p.copy(h).normalize(),v.push(p.x,p.y,p.z),_.push(P+M,1-S),w.push(u++)}f.push(w)}for(let y=0;y<r;y++)for(let w=0;w<t;w++){const S=f[y][w+1],M=f[y][w],T=f[y+1][w],P=f[y+1][w+1];(y!==0||o>0)&&m.push(S,M,P),(y!==r-1||l<Math.PI)&&m.push(M,T,P)}this.setIndex(m),this.setAttribute("position",new Ye(g,3)),this.setAttribute("normal",new Ye(v,3)),this.setAttribute("uv",new Ye(_,2))}static fromJSON(e){return new Vf(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class jp extends qo{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jp(e.radius,e.detail)}}class Wp extends mt{constructor(e=1,t=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],f=new B,h=new B,p=new B;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const v=g/i*s,_=m/r*Math.PI*2;h.x=(e+t*Math.cos(_))*Math.cos(v),h.y=(e+t*Math.cos(_))*Math.sin(v),h.z=t*Math.sin(_),a.push(h.x,h.y,h.z),f.x=e*Math.cos(v),f.y=e*Math.sin(v),p.subVectors(h,f).normalize(),l.push(p.x,p.y,p.z),u.push(g/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const v=(i+1)*m+g-1,_=(i+1)*(m-1)+g-1,y=(i+1)*(m-1)+g,w=(i+1)*m+g;o.push(v,_,w),o.push(_,y,w)}this.setIndex(o),this.setAttribute("position",new Ye(a,3)),this.setAttribute("normal",new Ye(l,3)),this.setAttribute("uv",new Ye(u,2))}static fromJSON(e){return new Wp(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class $p extends mt{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],f=[],h=new B,p=new B,m=new B,g=new B,v=new B,_=new B,y=new B;for(let S=0;S<=r;++S){const M=S/r*s*Math.PI*2;w(M,s,o,e,m),w(M+.01,s,o,e,g),_.subVectors(g,m),y.addVectors(g,m),v.crossVectors(_,y),y.crossVectors(v,_),v.normalize(),y.normalize();for(let T=0;T<=i;++T){const P=T/i*Math.PI*2,L=-t*Math.cos(P),A=t*Math.sin(P);h.x=m.x+(L*y.x+A*v.x),h.y=m.y+(L*y.y+A*v.y),h.z=m.z+(L*y.z+A*v.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),u.push(p.x,p.y,p.z),f.push(S/r),f.push(T/i)}}for(let S=1;S<=r;S++)for(let M=1;M<=i;M++){const T=(i+1)*(S-1)+(M-1),P=(i+1)*S+(M-1),L=(i+1)*S+M,A=(i+1)*(S-1)+M;a.push(T,P,A),a.push(P,L,A)}this.setIndex(a),this.setAttribute("position",new Ye(l,3)),this.setAttribute("normal",new Ye(u,3)),this.setAttribute("uv",new Ye(f,2));function w(S,M,T,P,L){const A=Math.cos(S),R=Math.sin(S),k=T/M*S,G=Math.cos(k);L.x=P*(2+G)*.5*A,L.y=P*(2+G)*R*.5,L.z=P*Math.sin(k)*.5}}static fromJSON(e){return new $p(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class qp extends mt{constructor(e=new qE(new B(-1,-1,0),new B(-1,1,0),new B(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new B,l=new B,u=new we;let f=new B;const h=[],p=[],m=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new Ye(h,3)),this.setAttribute("normal",new Ye(p,3)),this.setAttribute("uv",new Ye(m,2));function v(){for(let S=0;S<t;S++)_(S);_(s===!1?t:0),w(),y()}function _(S){f=e.getPointAt(S/t,f);const M=o.normals[S],T=o.binormals[S];for(let P=0;P<=i;P++){const L=P/i*Math.PI*2,A=Math.sin(L),R=-Math.cos(L);l.x=R*M.x+A*T.x,l.y=R*M.y+A*T.y,l.z=R*M.z+A*T.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,h.push(a.x,a.y,a.z)}}function y(){for(let S=1;S<=t;S++)for(let M=1;M<=i;M++){const T=(i+1)*(S-1)+(M-1),P=(i+1)*S+(M-1),L=(i+1)*S+M,A=(i+1)*(S-1)+M;g.push(T,P,A),g.push(P,L,A)}}function w(){for(let S=0;S<=t;S++)for(let M=0;M<=i;M++)u.x=S/t,u.y=M/i,m.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new qp(new YE[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class mU extends mt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new B,s=new B;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const h=l[u],p=h.start,m=h.count;for(let g=p,v=p+m;g<v;g+=3)for(let _=0;_<3;_++){const y=a.getX(g+_),w=a.getX(g+(_+1)%3);i.fromBufferAttribute(o,y),s.fromBufferAttribute(o,w),eO(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const f=3*a+u,h=3*a+(u+1)%3;i.fromBufferAttribute(o,f),s.fromBufferAttribute(o,h),eO(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ye(t,3))}}}function eO(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var tO=Object.freeze({__proto__:null,BoxGeometry:cl,CapsuleGeometry:kp,CircleGeometry:Fp,ConeGeometry:zp,CylinderGeometry:Lu,DodecahedronGeometry:Up,EdgesGeometry:fU,ExtrudeGeometry:Bp,IcosahedronGeometry:Vp,LatheGeometry:Uf,OctahedronGeometry:Bf,PlaneGeometry:Ff,PolyhedronGeometry:qo,RingGeometry:Hp,ShapeGeometry:Gp,SphereGeometry:Vf,TetrahedronGeometry:jp,TorusGeometry:Wp,TorusKnotGeometry:$p,TubeGeometry:qp,WireframeGeometry:mU});class gU extends Nn{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ze(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class vU extends Zs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Hf extends Nn{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ze(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$o,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Xo extends Hf{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new we(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Cn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ze(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ze(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ze(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class yU extends Nn{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ze(16777215),this.specular=new ze(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$o,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _U extends Nn{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ze(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$o,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class xU extends Nn{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$o,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class wU extends Nn{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$o,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class SU extends Nn{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ze(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$o,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bU extends Sr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ui(n,e,t){return KE(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function ru(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function KE(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function MU(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function Zb(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function JE(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function yre(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],f=u.getValueSize(),h=[],p=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<t||g>=r)){h.push(u.times[m]);for(let v=0;v<f;++v)p.push(u.values[m*f+v])}}h.length!==0&&(u.times=ru(h,u.times.constructor),u.values=ru(p,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function _re(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(u===void 0)continue;let f=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const y=f,w=h-f;v=Ui(a.values,y,w)}else if(s>=a.times[g]){const y=g*h+f,w=y+h-f;v=Ui(a.values,y,w)}else{const y=a.createInterpolant(),w=f,S=h-f;y.evaluate(s),v=Ui(y.resultBuffer,w,S)}l==="quaternion"&&new Zn().fromArray(v).normalize().conjugate().toArray(v);const _=u.times.length;for(let y=0;y<_;++y){const w=y*m+p;if(l==="quaternion")Zn.multiplyQuaternionsFlat(u.values,w,v,0,u.values,w);else{const S=m-p*2;for(let M=0;M<S;++M)u.values[w+M]-=v[M]}}}return n.blendMode=AE,n}var xre=Object.freeze({__proto__:null,arraySlice:Ui,convertArray:ru,isTypedArray:KE,getKeyframeOrder:MU,sortedArray:Zb,flattenJSON:JE,subclip:yre,makeClipAdditive:_re});class Gf{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class TU extends Gf{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:eu,endingEnd:eu}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case tu:s=e,a=2*t-r;break;case tp:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case tu:o=e,l=2*r-t;break;case tp:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const u=(r-t)*.5,f=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(l-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),v=g*g,_=v*g,y=-p*_+2*p*v-p*g,w=(1+p)*_+(-1.5-2*p)*v+(-.5+p)*g+1,S=(-1-m)*_+(1.5+m)*v+.5*g,M=m*_-m*v;for(let T=0;T!==a;++T)s[T]=y*o[f+T]+w*o[u+T]+S*o[l+T]+M*o[h+T];return s}}class ZE extends Gf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=(r-t)/(i-t),h=1-f;for(let p=0;p!==a;++p)s[p]=o[u+p]*h+o[l+p]*f;return s}}class EU extends Gf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ws{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ru(t,this.TimeBufferType),this.values=ru(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:ru(e.times,Array),values:ru(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new EU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ZE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new TU(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case _f:t=this.InterpolantFactoryMethodDiscrete;break;case Su:t=this.InterpolantFactoryMethodLinear;break;case jv:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _f;case this.InterpolantFactoryMethodLinear:return Su;case this.InterpolantFactoryMethodSmooth:return jv}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Ui(r,s,o),this.values=Ui(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&KE(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=Ui(this.times),t=Ui(this.values),r=this.getValueSize(),i=this.getInterpolation()===jv,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],f=e[a+1];if(u!==f&&(a!==1||u!==e[0]))if(i)l=!0;else{const h=a*r,p=h-r,m=h+r;for(let g=0;g!==r;++g){const v=t[h+g];if(v!==t[p+g]||v!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)t[l+u]=t[a+u];++o}return o!==e.length?(this.times=Ui(e,0,o),this.values=Ui(t,0,o*r)):(this.times=e,this.values=t),this}clone(){const e=Ui(this.times,0),t=Ui(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}ws.prototype.TimeBufferType=Float32Array;ws.prototype.ValueBufferType=Float32Array;ws.prototype.DefaultInterpolation=Su;class Ou extends ws{}Ou.prototype.ValueTypeName="bool";Ou.prototype.ValueBufferType=Array;Ou.prototype.DefaultInterpolation=_f;Ou.prototype.InterpolantFactoryMethodLinear=void 0;Ou.prototype.InterpolantFactoryMethodSmooth=void 0;class QE extends ws{}QE.prototype.ValueTypeName="color";class Sf extends ws{}Sf.prototype.ValueTypeName="number";class AU extends Gf{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let u=e*a;for(let f=u+a;u!==f;u+=4)Zn.slerpFlat(s,0,o,u-a,o,u,l);return s}}class rl extends ws{InterpolantFactoryMethodLinear(e){return new AU(this.times,this.values,this.getValueSize(),e)}}rl.prototype.ValueTypeName="quaternion";rl.prototype.DefaultInterpolation=Su;rl.prototype.InterpolantFactoryMethodSmooth=void 0;class Iu extends ws{}Iu.prototype.ValueTypeName="string";Iu.prototype.ValueBufferType=Array;Iu.prototype.DefaultInterpolation=_f;Iu.prototype.InterpolantFactoryMethodLinear=void 0;Iu.prototype.InterpolantFactoryMethodSmooth=void 0;class bf extends ws{}bf.prototype.ValueTypeName="vector";class Mf{constructor(e,t=-1,r,i=Xy){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=mi(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(Sre(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(ws.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const f=MU(l);l=Zb(l,1,f),u=Zb(u,1,f),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Sf(".morphTargetInfluences["+t[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],f=u.name.match(s);if(f&&f.length>1){const h=f[1];let p=i[h];p||(i[h]=p=[]),p.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,p,m,g,v){if(m.length!==0){const _=[],y=[];JE(m,_,y,g),_.length!==0&&v.push(new h(p,_,y))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let h=0;h<u.length;h++){const p=u[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let v=0;v<p[g].morphTargets.length;v++)m[p[g].morphTargets[v]]=-1;for(const v in m){const _=[],y=[];for(let w=0;w!==p[g].morphTargets.length;++w){const S=p[g];_.push(S.time),y.push(S.morphTarget===v?1:0)}i.push(new Sf(".morphTargetInfluence["+v+"]",_,y))}l=m.length*o}else{const m=".bones["+t[h].name+"]";r(bf,m+".position",p,"pos",i),r(rl,m+".quaternion",p,"rot",i),r(bf,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function wre(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Sf;case"vector":case"vector2":case"vector3":case"vector4":return bf;case"color":return QE;case"quaternion":return rl;case"bool":case"boolean":return Ou;case"string":return Iu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Sre(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=wre(n.type);if(n.times===void 0){const t=[],r=[];JE(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Mu={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class eA{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,h){return u.push(f,h),this},this.removeHandler=function(f){const h=u.indexOf(f);return h!==-1&&u.splice(h,2),this},this.getHandler=function(f){for(let h=0,p=u.length;h<p;h+=2){const m=u[h],g=u[h+1];if(m.global&&(m.lastIndex=0),m.test(f))return g}return null}}}const CU=new eA;class Jr{constructor(e){this.manager=e!==void 0?e:CU,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const _o={};class bre extends Error{constructor(e,t){super(e),this.response=t}}class ys extends Jr{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Mu.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(_o[e]!==void 0){_o[e].push({onLoad:t,onProgress:r,onError:i});return}_o[e]=[],_o[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=_o[e],h=u.body.getReader(),p=u.headers.get("Content-Length"),m=p?parseInt(p):0,g=m!==0;let v=0;const _=new ReadableStream({start(y){w();function w(){h.read().then(({done:S,value:M})=>{if(S)y.close();else{v+=M.byteLength;const T=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:m});for(let P=0,L=f.length;P<L;P++){const A=f[P];A.onProgress&&A.onProgress(T)}y.enqueue(M),w()}})}}});return new Response(_)}else throw new bre(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return u.json();default:if(a===void 0)return u.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{Mu.add(e,u);const f=_o[e];delete _o[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onLoad&&m.onLoad(u)}}).catch(u=>{const f=_o[e];if(f===void 0)throw this.manager.itemError(e),u;delete _o[e];for(let h=0,p=f.length;h<p;h++){const m=f[h];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Mre extends Jr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ys(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Mf.parse(e[r]);t.push(i)}return t}}class Tre extends Jr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new GE,l=new ys(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function f(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(a.minFilter=dn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)f(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let v=0;v<p.mipmapCount;v++)o[g].mipmaps.push(p.mipmaps[g*p.mipmapCount+v]),o[g].format=p.format,o[g].width=p.width,o[g].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=dn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class up extends Jr{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Mu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=ip("img");function l(){f(),Mu.add(e,this),t&&t(this),s.manager.itemEnd(e)}function u(h){f(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Ere extends Jr{constructor(e){super(e)}load(e,t,r,i){const s=new Ip,o=new up(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(f){s.images[u]=f,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class Are extends Jr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new tf,a=new ys(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);!u||(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:ir,o.wrapT=u.wrapT!==void 0?u.wrapT:ir,o.magFilter=u.magFilter!==void 0?u.magFilter:dn,o.minFilter=u.minFilter!==void 0?u.minFilter:dn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Wo),u.mipmapCount===1&&(o.minFilter=dn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,t&&t(o,u))},r,i),o}}class PU extends Jr{constructor(e){super(e)}load(e,t,r,i){const s=new Sn,o=new up(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class fl extends Ct{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ze(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class RU extends fl{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ct.DefaultUp),this.updateMatrix(),this.groundColor=new ze(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const uw=new ut,nO=new B,rO=new B;class tA{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new we(512,512),this.map=null,this.mapPass=null,this.matrix=new ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ky,this._frameExtents=new we(1,1),this._viewportCount=1,this._viewports=[new Vt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;nO.setFromMatrixPosition(e.matrixWorld),t.position.copy(nO),rO.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(rO),t.updateMatrixWorld(),uw.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uw),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(uw)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Cre extends tA{constructor(){super(new nn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=rp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class nA extends fl{constructor(e,t,r=0,i=Math.PI/3,s=0,o=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ct.DefaultUp),this.updateMatrix(),this.target=new Ct,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Cre}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const iO=new ut,Id=new B,cw=new B;class Pre extends tA{constructor(){super(new nn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new we(4,2),this._viewportCount=6,this._viewports=[new Vt(2,1,1,1),new Vt(0,1,1,1),new Vt(3,1,1,1),new Vt(1,1,1,1),new Vt(3,0,1,1),new Vt(1,0,1,1)],this._cubeDirections=[new B(1,0,0),new B(-1,0,0),new B(0,0,1),new B(0,0,-1),new B(0,1,0),new B(0,-1,0)],this._cubeUps=[new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,0,1),new B(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Id.setFromMatrixPosition(e.matrixWorld),r.position.copy(Id),cw.copy(r.position),cw.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(cw),r.updateMatrixWorld(),i.makeTranslation(-Id.x,-Id.y,-Id.z),iO.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(iO)}}class rA extends fl{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Pre}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Rre extends tA{constructor(){super(new Io(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class iA extends fl{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ct.DefaultUp),this.updateMatrix(),this.target=new Ct,this.shadow=new Rre}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class LU extends fl{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class OU extends fl{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class IU{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new B)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class s_ extends fl{constructor(e=new IU,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class o_ extends Jr{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new ys(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=o_.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ze().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new ze().setHex(o.value);break;case"v2":i.uniforms[s].value=new we().fromArray(o.value);break;case"v3":i.uniforms[s].value=new B().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Vt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new jr().fromArray(o.value);break;case"m4":i.uniforms[s].value=new ut().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new we().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new we().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:gU,SpriteMaterial:zE,RawShaderMaterial:vU,ShaderMaterial:Zs,PointsMaterial:t_,MeshPhysicalMaterial:Xo,MeshStandardMaterial:Hf,MeshPhongMaterial:yU,MeshToonMaterial:_U,MeshNormalMaterial:xU,MeshLambertMaterial:wU,MeshDepthMaterial:DE,MeshDistanceMaterial:NE,MeshBasicMaterial:ui,MeshMatcapMaterial:SU,LineDashedMaterial:bU,LineBasicMaterial:Sr,Material:Nn};return new t[e]}}class Ks{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class DU extends mt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class NU extends Jr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ys(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const _=m.interleavedBuffers[g],y=s(m,_.buffer),w=Hc(_.type,y),S=new Dp(w,_.stride);return S.uuid=_.uuid,t[g]=S,S}function s(m,g){if(r[g]!==void 0)return r[g];const _=m.arrayBuffers[g],y=new Uint32Array(_).buffer;return r[g]=y,y}const o=e.isInstancedBufferGeometry?new DU:new mt,a=e.data.index;if(a!==void 0){const m=Hc(a.type,a.array);o.setIndex(new Gt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let v;if(g.isInterleavedBufferAttribute){const _=i(e.data,g.data);v=new nl(_,g.itemSize,g.offset,g.normalized)}else{const _=Hc(g.type,g.array),y=g.isInstancedBufferAttribute?wf:Gt;v=new y(_,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(m,v)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],v=[];for(let _=0,y=g.length;_<y;_++){const w=g[_];let S;if(w.isInterleavedBufferAttribute){const M=i(e.data,w.data);S=new nl(M,w.itemSize,w.offset,w.normalized)}else{const M=Hc(w.type,w.array);S=new Gt(M,w.itemSize,w.normalized)}w.name!==void 0&&(S.name=w.name),v.push(S)}o.morphAttributes[m]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,g=h.length;m!==g;++m){const v=h[m];o.addGroup(v.start,v.count,v.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new B;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new ul(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Lre extends Jr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?Ks.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ys(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Ks.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new ys(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new hu().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Np().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new NU;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in tO?a=tO[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new o_;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Mf.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(f)}else return l.data?{data:Hc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new eA(t);s=new up(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const h=e[u],p=h.url;if(Array.isArray(p)){const m=[];for(let g=0,v=p.length;g<v;g++){const _=p[g],y=a(_);y!==null&&(y instanceof HTMLImageElement?m.push(y):m.push(new tf(y.data,y.width,y.height)))}i[h.uuid]=new nu(m)}else{const m=a(h.url);i[h.uuid]=new nu(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Hc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new up(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const f=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],g=await s(m);g!==null&&(g instanceof HTMLImageElement?f.push(g):f.push(new tf(g.data,g.width,g.height)))}r[l.uuid]=new nu(f)}else{const f=await s(l.url);r[l.uuid]=new nu(f)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],u=l.data;let f;Array.isArray(u)?(f=new Ip,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new tf:f=new Sn,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,Ore)),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],sO),f.wrapT=r(a.wrap[1],sO)),a.format!==void 0&&(f.format=a.format),a.type!==void 0&&(f.type=a.type),a.encoding!==void 0&&(f.encoding=a.encoding),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,oO)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,oO)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let g=0,v=p.length;g<v;g++){const _=p[g];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(r[_])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let f,h;switch(e.type){case"Scene":o=new FE,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ze(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Qy(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Zy(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new nn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Io(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new LU(e.color,e.intensity);break;case"DirectionalLight":o=new iA(e.color,e.intensity);break;case"PointLight":o=new rA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new OU(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new nA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new RU(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new s_().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),h=l(e.material),o=new UE(f,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),h=l(e.material),o=new Kn(f,h);break;case"InstancedMesh":f=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new BE(f,h,p),o.instanceMatrix=new wf(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new wf(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new sU;break;case"Line":o=new Go(a(e.geometry),l(e.material));break;case"LineLoop":o=new VE(a(e.geometry),l(e.material));break;case"LineSegments":o=new _s(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new HE(a(e.geometry),l(e.material));break;case"Sprite":o=new iU(l(e.material));break;case"Group":o=new Ro;break;case"Bone":o=new e_;break;default:o=new Ct}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const g=p[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const g=p[m],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Ore={UVMapping:$y,CubeReflectionMapping:Za,CubeRefractionMapping:Qa,EquirectangularReflectionMapping:Jh,EquirectangularRefractionMapping:Zh,CubeUVReflectionMapping:Nf},sO={RepeatWrapping:el,ClampToEdgeWrapping:ir,MirroredRepeatWrapping:vf},oO={NearestFilter:An,NearestMipmapNearestFilter:Qh,NearestMipmapLinearFilter:ep,LinearFilter:dn,LinearMipmapNearestFilter:qy,LinearMipmapLinearFilter:Wo};class kU extends Jr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Mu.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Mu.add(e,l),t&&t(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let av;class sA{static getContext(){return av===void 0&&(av=new(window.AudioContext||window.webkitAudioContext)),av}static setContext(e){av=e}}class Ire extends Jr{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ys(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);sA.getContext().decodeAudioData(l,function(f){t(f)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class Dre extends s_{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new ze().set(e),s=new ze().set(t),o=new B(i.r,i.g,i.b),a=new B(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class Nre extends s_{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new ze().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const aO=new ut,lO=new ut,Al=new ut;class kre{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new nn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new nn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Al.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(cu*t.fov*.5)/t.zoom;let a,l;lO.elements[12]=-i,aO.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Al.elements[0]=2*t.near/(l-a),Al.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Al),a=-o*t.aspect-s,l=o*t.aspect-s,Al.elements[0]=2*t.near/(l-a),Al.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Al)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(lO),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(aO)}}class oA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=uO(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=uO();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function uO(){return(typeof performance>"u"?Date:performance).now()}const Cl=new B,cO=new Zn,Fre=new B,Pl=new B;class zre extends Ct{constructor(){super(),this.type="AudioListener",this.context=sA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new oA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Cl,cO,Fre),Pl.set(0,0,-1).applyQuaternion(cO),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Cl.x,i),t.positionY.linearRampToValueAtTime(Cl.y,i),t.positionZ.linearRampToValueAtTime(Cl.z,i),t.forwardX.linearRampToValueAtTime(Pl.x,i),t.forwardY.linearRampToValueAtTime(Pl.y,i),t.forwardZ.linearRampToValueAtTime(Pl.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Cl.x,Cl.y,Cl.z),t.setOrientation(Pl.x,Pl.y,Pl.z,r.x,r.y,r.z)}}class FU extends Ct{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Rl=new B,fO=new Zn,Ure=new B,Ll=new B;class Bre extends FU{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Rl,fO,Ure),Ll.set(0,0,1).applyQuaternion(fO);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Rl.x,r),t.positionY.linearRampToValueAtTime(Rl.y,r),t.positionZ.linearRampToValueAtTime(Rl.z,r),t.orientationX.linearRampToValueAtTime(Ll.x,r),t.orientationY.linearRampToValueAtTime(Ll.y,r),t.orientationZ.linearRampToValueAtTime(Ll.z,r)}else t.setPosition(Rl.x,Rl.y,Rl.z),t.setOrientation(Ll.x,Ll.y,Ll.z)}}class Vre{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class zU{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Zn.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Zn.multiplyQuaternionsFlat(e,o,e,t,e,r),Zn.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const aA="\\[\\]\\.:\\/",Hre=new RegExp("["+aA+"]","g"),lA="[^"+aA+"]",Gre="[^"+aA.replace("\\.","")+"]",jre=/((?:WC+[\/:])*)/.source.replace("WC",lA),Wre=/(WCOD+)?/.source.replace("WCOD",Gre),$re=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",lA),qre=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",lA),Xre=new RegExp("^"+jre+Wre+$re+qre+"$"),Yre=["material","materials","bones","map"];class Kre{constructor(e,t,r){const i=r||At.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class At{constructor(e,t,r){this.path=t,this.parsedPath=r||At.parseTrackName(t),this.node=At.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new At.Composite(e,t,r):new At(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Hre,"")}static parseTrackName(e){const t=Xre.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Yre.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=At.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}At.Composite=Kre;At.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};At.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};At.prototype.GetterByBindingType=[At.prototype._getValue_direct,At.prototype._getValue_array,At.prototype._getValue_arrayElement,At.prototype._getValue_toArray];At.prototype.SetterByBindingTypeAndVersioning=[[At.prototype._setValue_direct,At.prototype._setValue_direct_setNeedsUpdate,At.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[At.prototype._setValue_array,At.prototype._setValue_array_setNeedsUpdate,At.prototype._setValue_array_setMatrixWorldNeedsUpdate],[At.prototype._setValue_arrayElement,At.prototype._setValue_arrayElement_setNeedsUpdate,At.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[At.prototype._setValue_fromArray,At.prototype._setValue_fromArray_setNeedsUpdate,At.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Jre{constructor(){this.isAnimationObjectGroup=!0,this.uuid=mi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let f=0,h=arguments.length;f!==h;++f){const p=arguments[f],m=p.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(p);for(let v=0,_=o;v!==_;++v)s[v].push(new At(p,r[v],i[v]))}else if(g<u){a=e[g];const v=--u,_=e[v];t[_.uuid]=g,e[g]=_,t[m]=v,e[v]=p;for(let y=0,w=o;y!==w;++y){const S=s[y],M=S[v];let T=S[g];S[g]=M,T===void 0&&(T=new At(p,r[y],i[y])),S[v]=T}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,f=t[u];if(f!==void 0&&f>=s){const h=s++,p=e[h];t[p.uuid]=f,e[f]=p,t[u]=h,e[h]=l;for(let m=0,g=i;m!==g;++m){const v=r[m],_=v[h],y=v[f];v[f]=_,v[h]=y}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],f=u.uuid,h=t[f];if(h!==void 0)if(delete t[f],h<s){const p=--s,m=e[p],g=--o,v=e[g];t[m.uuid]=h,e[h]=m,t[v.uuid]=p,e[p]=v,e.pop();for(let _=0,y=i;_!==y;++_){const w=r[_],S=w[p],M=w[g];w[h]=S,w[p]=M,w.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let g=0,v=i;g!==v;++g){const _=r[g];_[h]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,h=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(h);for(let p=f,m=l.length;p!==m;++p){const g=l[p];h[p]=new At(g,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];t[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Zre{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:eu,endingEnd:eu};for(let u=0;u!==o;++u){const f=s[u].createInterpolant(null);a[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=D4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case AE:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),u[f].accumulateAdditive(a);break;case Xy:default:for(let f=0,h=l.length;f!==h;++f)l[f].evaluate(o),u[f].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===N4;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===I4){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=tu,i.endingEnd=tu):(e?i.endingStart=this.zeroSlopeAtStart?tu:eu:i.endingStart=tp,t?i.endingEnd=this.zeroSlopeAtEnd?tu:eu:i.endingEnd=tp)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const Qre=new Float32Array(1);class eie extends eo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let h=0;h!==s;++h){const p=i[h],m=p.name;let g=f[m];if(g!==void 0)++g.referenceCount,o[h]=g;else{if(g=o[h],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const v=t&&t._propertyBindings[h].binding.parsedPath;g=new zU(At.create(r,m,v),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[h]=g}a[h].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new ZE(new Float32Array(2),new Float32Array(2),1,Qre),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Mf.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Xy),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const f=new Zre(this,o,t,r);return this._bindAction(f,u),this._addInactiveAction(f,a,s),f}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Mf.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)t[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const f=u._cacheIndex,h=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=f,t[f]=h,t.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class uA{constructor(e){this.value=e}clone(){return new uA(this.value.clone===void 0?this.value:this.value.clone())}}let tie=0;class nie extends eo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:tie++}),this.name="",this.usage=np,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class rie extends Dp{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class iie{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class UU{constructor(e,t,r=0,i=1/0){this.ray=new Lp(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new du,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return Qb(e,this,r,t),r.sort(dO),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)Qb(e[i],this,r,t);return r.sort(dO),r}}function dO(n,e){return n.distance-e.distance}function Qb(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)Qb(i[s],e,t,!0)}}class eM{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Cn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class sie{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const hO=new we;class oie{constructor(e=new we(1/0,1/0),t=new we(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=hO.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return hO.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const pO=new B,lv=new B;class aie{constructor(e=new B,t=new B){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){pO.subVectors(e,this.start),lv.subVectors(this.end,this.start);const r=lv.dot(lv);let s=lv.dot(pO)/r;return t&&(s=Cn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const mO=new B;class lie extends Ct{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const r=new mt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new Ye(i,3));const s=new Sr({fog:!1,toneMapped:!1});this.cone=new _s(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),mO.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(mO),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const pa=new B,uv=new ut,fw=new ut;class uie extends _s{constructor(e){const t=BU(e),r=new mt,i=[],s=[],o=new ze(0,0,1),a=new ze(0,1,0);for(let u=0;u<t.length;u++){const f=t[u];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Ye(i,3)),r.setAttribute("color",new Ye(s,3));const l=new Sr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");fw.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(uv.multiplyMatrices(fw,a.matrixWorld),pa.setFromMatrixPosition(uv),i.setXYZ(o,pa.x,pa.y,pa.z),uv.multiplyMatrices(fw,a.parent.matrixWorld),pa.setFromMatrixPosition(uv),i.setXYZ(o+1,pa.x,pa.y,pa.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function BU(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,BU(n.children[t]));return e}class cie extends Kn{constructor(e,t,r){const i=new Vf(t,4,2),s=new ui({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const fie=new B,gO=new ze,vO=new ze;class die extends Ct{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new Bf(t);i.rotateY(Math.PI*.5),this.material=new ui({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Gt(o,3)),this.add(new Kn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");gO.copy(this.light.color),vO.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?gO:vO;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}e.lookAt(fie.setFromMatrixPosition(this.light.matrixWorld).negate())}}class hie extends _s{constructor(e=10,t=10,r=4473924,i=8947848){r=new ze(r),i=new ze(i);const s=t/2,o=e/t,a=e/2,l=[],u=[];for(let p=0,m=0,g=-a;p<=t;p++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=p===s?r:i;v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3,v.toArray(u,m),m+=3}const f=new mt;f.setAttribute("position",new Ye(l,3)),f.setAttribute("color",new Ye(u,3));const h=new Sr({vertexColors:!0,toneMapped:!1});super(f,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class pie extends _s{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new ze(s),o=new ze(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,g=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,g);const v=h&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let h=0;h<r;h++){const p=h&1?s:o,m=e-e/r*h;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),_=Math.sin(v)*m,y=Math.cos(v)*m;a.push(_,0,y),l.push(p.r,p.g,p.b),v=(g+1)/i*(Math.PI*2),_=Math.sin(v)*m,y=Math.cos(v)*m,a.push(_,0,y),l.push(p.r,p.g,p.b)}}const u=new mt;u.setAttribute("position",new Ye(a,3)),u.setAttribute("color",new Ye(l,3));const f=new Sr({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const yO=new B,cv=new B,_O=new B;class mie extends Ct{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,t===void 0&&(t=1);let i=new mt;i.setAttribute("position",new Ye([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Sr({fog:!1,toneMapped:!1});this.lightPlane=new Go(i,s),this.add(this.lightPlane),i=new mt,i.setAttribute("position",new Ye([0,0,0,0,0,1],3)),this.targetLine=new Go(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){yO.setFromMatrixPosition(this.light.matrixWorld),cv.setFromMatrixPosition(this.light.target.matrixWorld),_O.subVectors(cv,yO),this.lightPlane.lookAt(cv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(cv),this.targetLine.scale.z=_O.length()}}const fv=new B,vn=new Op;class gie extends _s{constructor(e){const t=new mt,r=new Sr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,v){l(g),l(v)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new Ye(i,3)),t.setAttribute("color",new Ye(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new ze(16755200),f=new ze(16711680),h=new ze(43775),p=new ze(16777215),m=new ze(3355443);this.setColors(u,f,h,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;vn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Tn("c",t,e,vn,0,0,-1),Tn("t",t,e,vn,0,0,1),Tn("n1",t,e,vn,-r,-i,-1),Tn("n2",t,e,vn,r,-i,-1),Tn("n3",t,e,vn,-r,i,-1),Tn("n4",t,e,vn,r,i,-1),Tn("f1",t,e,vn,-r,-i,1),Tn("f2",t,e,vn,r,-i,1),Tn("f3",t,e,vn,-r,i,1),Tn("f4",t,e,vn,r,i,1),Tn("u1",t,e,vn,r*.7,i*1.1,-1),Tn("u2",t,e,vn,-r*.7,i*1.1,-1),Tn("u3",t,e,vn,0,i*2,-1),Tn("cf1",t,e,vn,-r,0,1),Tn("cf2",t,e,vn,r,0,1),Tn("cf3",t,e,vn,0,-i,1),Tn("cf4",t,e,vn,0,i,1),Tn("cn1",t,e,vn,-r,0,-1),Tn("cn2",t,e,vn,r,0,-1),Tn("cn3",t,e,vn,0,-i,-1),Tn("cn4",t,e,vn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Tn(n,e,t,r,i,s,o){fv.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let u=0,f=a.length;u<f;u++)l.setXYZ(a[u],fv.x,fv.y,fv.z)}}const dv=new ll;class vie extends _s{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new mt;s.setIndex(new Gt(r,1)),s.setAttribute("position",new Gt(i,3)),super(s,new Sr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&dv.setFromObject(this.object),dv.isEmpty())return;const t=dv.min,r=dv.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class yie extends _s{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new mt;s.setIndex(new Gt(r,1)),s.setAttribute("position",new Ye(i,3)),super(s,new Sr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class _ie extends Go{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new mt;o.setAttribute("position",new Ye(s,3)),o.computeBoundingSphere(),super(o,new Sr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new mt;l.setAttribute("position",new Ye(a,3)),l.computeBoundingSphere(),this.add(new Kn(l,new ui({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const xO=new B;let hv,dw;class xie extends Ct{constructor(e=new B(0,0,1),t=new B(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",hv===void 0&&(hv=new mt,hv.setAttribute("position",new Ye([0,0,0,0,1,0],3)),dw=new Lu(0,.5,1,5,1),dw.translate(0,-.5,0)),this.position.copy(t),this.line=new Go(hv,new Sr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Kn(dw,new ui({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xO.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(xO,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class wie extends _s{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new mt;i.setAttribute("position",new Ye(t,3)),i.setAttribute("color",new Ye(r,3));const s=new Sr({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new ze,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Sie{constructor(){this.type="ShapePath",this.color=new ze,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new sp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(y){const w=[];for(let S=0,M=y.length;S<M;S++){const T=y[S],P=new hu;P.curves=T.curves,w.push(P)}return w}function r(y,w){const S=w.length;let M=!1;for(let T=S-1,P=0;P<S;T=P++){let L=w[T],A=w[P],R=A.x-L.x,k=A.y-L.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(L=w[P],R=-R,A=w[T],k=-k),y.y<L.y||y.y>A.y)continue;if(y.y===L.y){if(y.x===L.x)return!0}else{const G=k*(y.x-L.x)-R*(y.y-L.y);if(G===0)return!0;if(G<0)continue;M=!M}}else{if(y.y!==L.y)continue;if(A.x<=y.x&&y.x<=L.x||L.x<=y.x&&y.x<=A.x)return!0}}return M}const i=Ys.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new hu,l.curves=a.curves,u.push(l),u;let f=!i(s[0].getPoints());f=e?!f:f;const h=[],p=[];let m=[],g=0,v;p[g]=void 0,m[g]=[];for(let y=0,w=s.length;y<w;y++)a=s[y],v=a.getPoints(),o=i(v),o=e?!o:o,o?(!f&&p[g]&&g++,p[g]={s:new hu,p:v},p[g].s.curves=a.curves,f&&g++,m[g]=[]):m[g].push({h:a,p:v[0]});if(!p[0])return t(s);if(p.length>1){let y=!1,w=0;for(let S=0,M=p.length;S<M;S++)h[S]=[];for(let S=0,M=p.length;S<M;S++){const T=m[S];for(let P=0;P<T.length;P++){const L=T[P];let A=!0;for(let R=0;R<p.length;R++)r(L.p,p[R].p)&&(S!==R&&w++,A?(A=!1,h[R].push(L)):y=!0);A&&h[S].push(L)}}w>0&&y===!1&&(m=h)}let _;for(let y=0,w=p.length;y<w;y++){l=p[y].s,u.push(l),_=m[y];for(let S=0,M=_.length;S<M;S++)l.holes.push(_[S].h)}return u}}const bo=bie();function bie(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,f=0;for(;(u&8388608)===0;)u<<=1,f-=8388608;u&=-8388609,f+=947912704,s[l]=u|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Mie(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Cn(n,-65504,65504),bo.floatView[0]=n;const e=bo.uint32View[0],t=e>>23&511;return bo.baseTable[t]+((e&8388607)>>bo.shiftTable[t])}function Tie(n){const e=n>>10;return bo.uint32View[0]=bo.mantissaTable[bo.offsetTable[e]+(n&1023)]+bo.exponentTable[e],bo.floatView[0]}var Eie=Object.freeze({__proto__:null,toHalfFloat:Mie,fromHalfFloat:Tie});function Aie(){console.error("THREE.ImmediateRenderObject has been removed.")}class Cie extends Ki{constructor(e,t,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,r),this.samples=4}}class Pie extends Rp{constructor(e,t,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,r,i)}}class Rie extends Yy{constructor(e,t,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,r,i)}}class Lie extends cl{constructor(e,t,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,r,i,s,o)}}class Oie extends kp{constructor(e,t,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,r,i)}}class Iie extends Fp{constructor(e,t,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,r,i)}}class Die extends zp{constructor(e,t,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,r,i,s,o,a)}}class Nie extends Lu{constructor(e,t,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,r,i,s,o,a,l)}}class kie extends Up{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class Fie extends Bp{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class zie extends Vp{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class Uie extends Uf{constructor(e,t,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,r,i)}}class Bie extends Bf{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class Vie extends Ff{constructor(e,t,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,r,i)}}class Hie extends qo{constructor(e,t,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,r,i)}}class Gie extends Hp{constructor(e,t,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,r,i,s,o)}}class jie extends Gp{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class Wie extends Vf{constructor(e,t,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,r,i,s,o,a)}}class $ie extends jp{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class qie extends Wp{constructor(e,t,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,r,i,s)}}class Xie extends $p{constructor(e,t,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,r,i,s,o)}}class Yie extends qp{constructor(e,t,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Wy}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Wy);const H0=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:TE,AddEquation:$l,AddOperation:h4,AdditiveAnimationBlendMode:AE,AdditiveBlending:_b,AlphaFormat:b4,AlwaysDepth:o4,AlwaysStencilFunc:B4,AmbientLight:LU,AmbientLightProbe:Nre,AnimationClip:Mf,AnimationLoader:Mre,AnimationMixer:eie,AnimationObjectGroup:Jre,AnimationUtils:xre,ArcCurve:oU,ArrayCamera:eU,ArrowHelper:xie,Audio:FU,AudioAnalyser:Vre,AudioContext:sA,AudioListener:zre,AudioLoader:Ire,AxesHelper:wie,BackSide:pi,BasicDepthPacking:F4,BasicShadowMap:YK,Bone:e_,BooleanKeyframeTrack:Ou,Box2:oie,Box3:ll,Box3Helper:yie,BoxBufferGeometry:Lie,BoxGeometry:cl,BoxHelper:vie,BufferAttribute:Gt,BufferGeometry:mt,BufferGeometryLoader:NU,ByteType:y4,Cache:Mu,Camera:Op,CameraHelper:gie,CanvasTexture:jne,CapsuleBufferGeometry:Oie,CapsuleGeometry:kp,CatmullRomCurve3:aU,CineonToneMapping:g4,CircleBufferGeometry:Iie,CircleGeometry:Fp,ClampToEdgeWrapping:ir,Clock:oA,Color:ze,ColorKeyframeTrack:QE,ColorManagement:ki,CompressedArrayTexture:Gne,CompressedTexture:GE,CompressedTextureLoader:Tre,ConeBufferGeometry:Die,ConeGeometry:zp,CubeCamera:$4,CubeReflectionMapping:Za,CubeRefractionMapping:Qa,CubeTexture:Ip,CubeTextureLoader:Ere,CubeUVReflectionMapping:Nf,CubicBezierCurve:WE,CubicBezierCurve3:lU,CubicInterpolant:TU,CullFaceBack:yb,CullFaceFront:$z,CullFaceFrontBack:XK,CullFaceNone:Wz,Curve:xs,CurvePath:cU,CustomBlending:qz,CustomToneMapping:v4,CylinderBufferGeometry:Nie,CylinderGeometry:Lu,Cylindrical:sie,Data3DTexture:Yy,DataArrayTexture:Rp,DataTexture:tf,DataTexture2DArray:Pie,DataTexture3D:Rie,DataTextureLoader:Are,DataUtils:Eie,DecrementStencilOp:sJ,DecrementWrapStencilOp:aJ,DefaultLoadingManager:CU,DepthFormat:Ga,DepthStencilFormat:wu,DepthTexture:tU,DirectionalLight:iA,DirectionalLightHelper:mie,DiscreteInterpolant:EU,DodecahedronBufferGeometry:kie,DodecahedronGeometry:Up,DoubleSide:js,DstAlphaFactor:e4,DstColorFactor:n4,DynamicCopyUsage:SJ,DynamicDrawUsage:gJ,DynamicReadUsage:_J,EdgesGeometry:fU,EllipseCurve:n_,EqualDepth:l4,EqualStencilFunc:fJ,EquirectangularReflectionMapping:Jh,EquirectangularRefractionMapping:Zh,Euler:kf,EventDispatcher:eo,ExtrudeBufferGeometry:Fie,ExtrudeGeometry:Bp,FileLoader:ys,Float16BufferAttribute:nZ,Float32BufferAttribute:Ye,Float64BufferAttribute:rZ,FloatType:Co,Fog:Qy,FogExp2:Zy,FramebufferTexture:Hne,FrontSide:Ja,Frustum:Ky,GLBufferAttribute:iie,GLSL1:MJ,GLSL3:Wb,GreaterDepth:c4,GreaterEqualDepth:u4,GreaterEqualStencilFunc:mJ,GreaterStencilFunc:hJ,GridHelper:hie,Group:Ro,HalfFloatType:yf,HemisphereLight:RU,HemisphereLightHelper:die,HemisphereLightProbe:Dre,IcosahedronBufferGeometry:zie,IcosahedronGeometry:Vp,ImageBitmapLoader:kU,ImageLoader:up,ImageUtils:RE,ImmediateRenderObject:Aie,IncrementStencilOp:iJ,IncrementWrapStencilOp:oJ,InstancedBufferAttribute:wf,InstancedBufferGeometry:DU,InstancedInterleavedBuffer:rie,InstancedMesh:BE,Int16BufferAttribute:eZ,Int32BufferAttribute:tZ,Int8BufferAttribute:JJ,IntType:x4,InterleavedBuffer:Dp,InterleavedBufferAttribute:nl,Interpolant:Gf,InterpolateDiscrete:_f,InterpolateLinear:Su,InterpolateSmooth:jv,InvertStencilOp:lJ,KeepStencilOp:Wv,KeyframeTrack:ws,LOD:sU,LatheBufferGeometry:Uie,LatheGeometry:Uf,Layers:du,LessDepth:a4,LessEqualDepth:U0,LessEqualStencilFunc:dJ,LessStencilFunc:cJ,Light:fl,LightProbe:s_,Line:Go,Line3:aie,LineBasicMaterial:Sr,LineCurve:r_,LineCurve3:uU,LineDashedMaterial:bU,LineLoop:VE,LineSegments:_s,LinearEncoding:Ho,LinearFilter:dn,LinearInterpolant:ZE,LinearMipMapLinearFilter:QK,LinearMipMapNearestFilter:ZK,LinearMipmapLinearFilter:Wo,LinearMipmapNearestFilter:qy,LinearSRGBColorSpace:Oa,LinearToneMapping:p4,Loader:Jr,LoaderUtils:Ks,LoadingManager:eA,LoopOnce:I4,LoopPingPong:N4,LoopRepeat:D4,LuminanceAlphaFormat:E4,LuminanceFormat:T4,MOUSE:kl,Material:Nn,MaterialLoader:o_,MathUtils:H4,Matrix3:jr,Matrix4:ut,MaxEquation:bb,Mesh:Kn,MeshBasicMaterial:ui,MeshDepthMaterial:DE,MeshDistanceMaterial:NE,MeshLambertMaterial:wU,MeshMatcapMaterial:SU,MeshNormalMaterial:xU,MeshPhongMaterial:yU,MeshPhysicalMaterial:Xo,MeshStandardMaterial:Hf,MeshToonMaterial:_U,MinEquation:Sb,MirroredRepeatWrapping:vf,MixOperation:d4,MultiplyBlending:wb,MultiplyOperation:Pp,NearestFilter:An,NearestMipMapLinearFilter:JK,NearestMipMapNearestFilter:KK,NearestMipmapLinearFilter:ep,NearestMipmapNearestFilter:Qh,NeverDepth:s4,NeverStencilFunc:uJ,NoBlending:Oo,NoColorSpace:tJ,NoToneMapping:gs,NormalAnimationBlendMode:Xy,NormalBlending:lu,NotEqualDepth:f4,NotEqualStencilFunc:pJ,NumberKeyframeTrack:Sf,Object3D:Ct,ObjectLoader:Lre,ObjectSpaceNormalMap:U4,OctahedronBufferGeometry:Bie,OctahedronGeometry:Bf,OneFactor:Jz,OneMinusDstAlphaFactor:t4,OneMinusDstColorFactor:r4,OneMinusSrcAlphaFactor:ME,OneMinusSrcColorFactor:Qz,OrthographicCamera:Io,PCFShadowMap:wE,PCFSoftShadowMap:SE,PMREMGenerator:qb,Path:sp,PerspectiveCamera:nn,Plane:Sa,PlaneBufferGeometry:Vie,PlaneGeometry:Ff,PlaneHelper:_ie,PointLight:rA,PointLightHelper:cie,Points:HE,PointsMaterial:t_,PolarGridHelper:pie,PolyhedronBufferGeometry:Hie,PolyhedronGeometry:qo,PositionalAudio:Bre,PropertyBinding:At,PropertyMixer:zU,QuadraticBezierCurve:$E,QuadraticBezierCurve3:qE,Quaternion:Zn,QuaternionKeyframeTrack:rl,QuaternionLinearInterpolant:AU,REVISION:Wy,RGBADepthPacking:z4,RGBAFormat:ai,RGBAIntegerFormat:L4,RGBA_ASTC_10x10_Format:Vb,RGBA_ASTC_10x5_Format:zb,RGBA_ASTC_10x6_Format:Ub,RGBA_ASTC_10x8_Format:Bb,RGBA_ASTC_12x10_Format:Hb,RGBA_ASTC_12x12_Format:Gb,RGBA_ASTC_4x4_Format:Rb,RGBA_ASTC_5x4_Format:Lb,RGBA_ASTC_5x5_Format:Ob,RGBA_ASTC_6x5_Format:Ib,RGBA_ASTC_6x6_Format:Db,RGBA_ASTC_8x5_Format:Nb,RGBA_ASTC_8x6_Format:kb,RGBA_ASTC_8x8_Format:Fb,RGBA_BPTC_Format:jb,RGBA_ETC2_EAC_Format:Pb,RGBA_PVRTC_2BPPV1_Format:Ab,RGBA_PVRTC_4BPPV1_Format:Eb,RGBA_S3TC_DXT1_Format:Vv,RGBA_S3TC_DXT3_Format:Hv,RGBA_S3TC_DXT5_Format:Gv,RGBFormat:M4,RGB_ETC1_Format:O4,RGB_ETC2_Format:Cb,RGB_PVRTC_2BPPV1_Format:Tb,RGB_PVRTC_4BPPV1_Format:Mb,RGB_S3TC_DXT1_Format:Bv,RGFormat:P4,RGIntegerFormat:R4,RawShaderMaterial:vU,Ray:Lp,Raycaster:UU,RectAreaLight:OU,RedFormat:A4,RedIntegerFormat:C4,ReinhardToneMapping:m4,RepeatWrapping:el,ReplaceStencilOp:rJ,ReverseSubtractEquation:Yz,RingBufferGeometry:Gie,RingGeometry:Hp,SRGBColorSpace:Fs,Scene:FE,ShaderChunk:yt,ShaderLib:cs,ShaderMaterial:Zs,ShadowMaterial:gU,Shape:hu,ShapeBufferGeometry:jie,ShapeGeometry:Gp,ShapePath:Sie,ShapeUtils:Ys,ShortType:_4,Skeleton:Np,SkeletonHelper:uie,SkinnedMesh:UE,Source:nu,Sphere:ul,SphereBufferGeometry:Wie,SphereGeometry:Vf,Spherical:eM,SphericalHarmonics3:IU,SplineCurve:XE,SpotLight:nA,SpotLightHelper:lie,Sprite:iU,SpriteMaterial:zE,SrcAlphaFactor:bE,SrcAlphaSaturateFactor:i4,SrcColorFactor:Zz,StaticCopyUsage:wJ,StaticDrawUsage:np,StaticReadUsage:yJ,StereoCamera:kre,StreamCopyUsage:bJ,StreamDrawUsage:vJ,StreamReadUsage:xJ,StringKeyframeTrack:Iu,SubtractEquation:Xz,SubtractiveBlending:xb,TOUCH:Fl,TangentSpaceNormalMap:$o,TetrahedronBufferGeometry:$ie,TetrahedronGeometry:jp,Texture:Sn,TextureLoader:PU,TorusBufferGeometry:qie,TorusGeometry:Wp,TorusKnotBufferGeometry:Xie,TorusKnotGeometry:$p,Triangle:ji,TriangleFanDrawMode:CE,TriangleStripDrawMode:k4,TrianglesDrawMode:eJ,TubeBufferGeometry:Yie,TubeGeometry:qp,UVMapping:$y,Uint16BufferAttribute:LE,Uint32BufferAttribute:OE,Uint8BufferAttribute:ZJ,Uint8ClampedBufferAttribute:QJ,Uniform:uA,UniformsGroup:nie,UniformsLib:Fe,UniformsUtils:W4,UnsignedByteType:tl,UnsignedInt248Type:uu,UnsignedIntType:La,UnsignedShort4444Type:w4,UnsignedShort5551Type:S4,UnsignedShortType:EE,VSMShadowMap:Vc,Vector2:we,Vector3:B,Vector4:Vt,VectorKeyframeTrack:bf,VideoTexture:Vne,WebGL1Renderer:nU,WebGL3DRenderTarget:VJ,WebGLArrayRenderTarget:BJ,WebGLCubeRenderTarget:q4,WebGLMultipleRenderTargets:HJ,WebGLMultisampleRenderTarget:Cie,WebGLRenderTarget:Ki,WebGLRenderer:kE,WebGLUtils:Q4,WireframeGeometry:mU,WrapAroundEnding:tp,ZeroCurvatureEnding:eu,ZeroFactor:Kz,ZeroSlopeEnding:tu,ZeroStencilOp:nJ,_SRGBAFormat:B0,sRGBEncoding:Nt},Symbol.toStringTag,{value:"Module"}));class Kie extends Jr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new tse(t)}),this.register(function(t){return new lse(t)}),this.register(function(t){return new use(t)}),this.register(function(t){return new rse(t)}),this.register(function(t){return new ise(t)}),this.register(function(t){return new sse(t)}),this.register(function(t){return new ose(t)}),this.register(function(t){return new ese(t)}),this.register(function(t){return new ase(t)}),this.register(function(t){return new nse(t)}),this.register(function(t){return new Zie(t)}),this.register(function(t){return new cse(t)}),this.register(function(t){return new fse(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ks.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ys(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(f){t(f),s.manager.itemEnd(e)},a)}catch(f){a(f)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ks.decodeText(new Uint8Array(e,0,4))===VU){try{o[St.KHR_BINARY_GLTF]=new dse(e)}catch(f){i&&i(f);return}s=JSON.parse(o[St.KHR_BINARY_GLTF].content)}else s=JSON.parse(Ks.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Tse(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const f=this.pluginCallbacks[u](l);a[f.name]=f,o[f.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const f=s.extensionsUsed[u],h=s.extensionsRequired||[];switch(f){case St.KHR_MATERIALS_UNLIT:o[f]=new Qie;break;case St.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[f]=new mse;break;case St.KHR_DRACO_MESH_COMPRESSION:o[f]=new hse(s,this.dracoLoader);break;case St.KHR_TEXTURE_TRANSFORM:o[f]=new pse;break;case St.KHR_MESH_QUANTIZATION:o[f]=new gse;break;default:h.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function Jie(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const St={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Zie{constructor(e){this.parser=e,this.name=St.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const f=new ze(16777215);l.color!==void 0&&f.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new iA(f),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new rA(f),u.distance=h;break;case"spot":u=new nA(f),u.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,l.intensity!==void 0&&(u.intensity=l.intensity),u.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class Qie{constructor(){this.name=St.KHR_MATERIALS_UNLIT}getMaterialType(){return ui}extendParams(e,t,r){const i=[];e.color=new ze(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Nt))}return Promise.all(i)}}class ese{constructor(e){this.parser=e,this.name=St.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class tse{constructor(e){this.parser=e,this.name=St.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new we(a,a)}return Promise.all(s)}}class nse{constructor(e){this.parser=e,this.name=St.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class rse{constructor(e){this.parser=e,this.name=St.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ze(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,Nt)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class ise{constructor(e){this.parser=e,this.name=St.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class sse{constructor(e){this.parser=e,this.name=St.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new ze(a[0],a[1],a[2]),Promise.all(s)}}class ose{constructor(e){this.parser=e,this.name=St.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xo}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class ase{constructor(e){this.parser=e,this.name=St.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Xo}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new ze(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,Nt)),Promise.all(s)}}class lse{constructor(e){this.parser=e,this.name=St.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class use{constructor(e){this.parser=e,this.name=St.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class cse{constructor(e){this.name=St.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,f=i.count,h=i.byteStride,p=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,h,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(f*h);return o.decodeGltfBuffer(new Uint8Array(m),f,h,p,i.mode,i.filter),m})})}else return null}}class fse{constructor(e){this.name=St.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==zi.TRIANGLES&&u.mode!==zi.TRIANGLE_STRIP&&u.mode!==zi.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(f=>(l[u]=f,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const f=u.pop(),h=f.isGroup?f.children:[f],p=u[0].count,m=[];for(const g of h){const v=new ut,_=new B,y=new Zn,w=new B(1,1,1),S=new BE(g.geometry,g.material,p);for(let M=0;M<p;M++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&y.fromBufferAttribute(l.ROTATION,M),l.SCALE&&w.fromBufferAttribute(l.SCALE,M),S.setMatrixAt(M,v.compose(_,y,w));for(const M in l)M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&g.geometry.setAttribute(M,l[M]);Ct.prototype.copy.call(S,g),S.frustumCulled=!1,this.parser.assignFinalMaterial(S),m.push(S)}return f.isGroup?(f.clear(),f.add(...m),f):m[0]}))}}const VU="glTF",Dd=12,wO={JSON:1313821514,BIN:5130562};class dse{constructor(e){this.name=St.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Dd);if(this.header={magic:Ks.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==VU)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Dd,i=new DataView(e,Dd);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===wO.JSON){const l=new Uint8Array(e,Dd+s,o);this.content=Ks.decodeText(l)}else if(a===wO.BIN){const l=Dd+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class hse{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=St.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const f in o){const h=nM[f]||f.toLowerCase();a[h]=o[f]}for(const f in e.attributes){const h=nM[f]||f.toLowerCase();if(o[f]!==void 0){const p=r.accessors[e.attributes[f]],m=cp[p.componentType];u[h]=m.name,l[h]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(f){return new Promise(function(h){i.decodeDracoFile(f,function(p){for(const m in p.attributes){const g=p.attributes[m],v=l[m];v!==void 0&&(g.normalized=v)}h(p)},a,u)})})}}class pse{constructor(){this.name=St.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class tM extends Hf{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new ze().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const u in a)l.uniforms[u]=a[u];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class mse{constructor(){this.name=St.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return tM}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new ze(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture,Nt)),e.emissive=new ze(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new ze(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o,Nt))}return Promise.all(s)}createMaterial(e){const t=new tM(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=$o,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t}}class gse{constructor(){this.name=St.KHR_MESH_QUANTIZATION}}class HU extends Gf{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,f=i-t,h=(r-t)/f,p=h*h,m=p*h,g=e*u,v=g-u,_=-2*m+3*p,y=m-p,w=1-_,S=y-p+h;for(let M=0;M!==a;M++){const T=o[v+M+a],P=o[v+M+l]*f,L=o[g+M+a],A=o[g+M]*f;s[M]=w*T+S*P+_*L+y*A}return s}}const vse=new Zn;class yse extends HU{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return vse.fromArray(s).normalize().toArray(s),s}}const zi={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},cp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},SO={9728:An,9729:dn,9984:Qh,9985:qy,9986:ep,9987:Wo},bO={33071:ir,33648:vf,10497:el},MO={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},nM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ma={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},_se={CUBICSPLINE:void 0,LINEAR:Su,STEP:_f},hw={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function xse(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new Hf({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ja})),n.DefaultMaterial}function Nd(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Ul(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function wse(n,e,t){let r=!1,i=!1,s=!1;for(let u=0,f=e.length;u<f;u++){const h=e[u];if(h.POSITION!==void 0&&(r=!0),h.NORMAL!==void 0&&(i=!0),h.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let u=0,f=e.length;u<f;u++){const h=e[u];if(r){const p=h.POSITION!==void 0?t.getDependency("accessor",h.POSITION):n.attributes.position;o.push(p)}if(i){const p=h.NORMAL!==void 0?t.getDependency("accessor",h.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=h.COLOR_0!==void 0?t.getDependency("accessor",h.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const f=u[0],h=u[1],p=u[2];return r&&(n.morphAttributes.position=f),i&&(n.morphAttributes.normal=h),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function Sse(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function bse(n){const e=n.extensions&&n.extensions[St.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+TO(e.attributes):t=n.indices+":"+TO(n.attributes)+":"+n.mode,t}function TO(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function rM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Mse(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class Tse{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Jie,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new PU(this.options.manager):this.textureLoader=new kU(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ys(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Nd(s,a,i),Ul(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,f]of o.children.entries())s(f,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[St.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ks.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=MO[i.type],u=cp[i.componentType],f=u.BYTES_PER_ELEMENT,h=f*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let v,_;if(m&&m!==h){const y=Math.floor(p/m),w="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+y+":"+i.count;let S=t.cache.get(w);S||(v=new u(a,y*m,i.count*m/f),S=new Dp(v,m/f),t.cache.add(w,S)),_=new nl(S,l,p%m/f,g)}else a===null?v=new u(i.count*l):v=new u(a,p,i.count*l),_=new Gt(v,l,g);if(i.sparse!==void 0){const y=MO.SCALAR,w=cp[i.sparse.indices.componentType],S=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,T=new w(o[1],S,i.sparse.count*y),P=new u(o[2],M,i.sparse.count*l);a!==null&&(_=new Gt(_.array.slice(),_.itemSize,_.normalized));for(let L=0,A=T.length;L<A;L++){const R=T[L];if(_.setX(R,P[L*l]),l>=2&&_.setY(R,P[L*l+1]),l>=3&&_.setZ(R,P[L*l+2]),l>=4&&_.setW(R,P[L*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(t,r).then(function(f){f.flipY=!1,f.name=o.name||a.name||"";const p=(s.samplers||{})[o.sampler]||{};return f.magFilter=SO[p.magFilter]||dn,f.minFilter=SO[p.minFilter]||Wo,f.wrapS=bO[p.wrapS]||el,f.wrapT=bO[p.wrapT]||el,i.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(h){u=!0;const p=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(h){return new Promise(function(p,m){let g=p;t.isImageBitmapLoader===!0&&(g=function(v){const _=new Sn(v);_.needsUpdate=!0,p(_)}),t.load(Ks.resolveURL(h,s.path),g,void 0,m)})}).then(function(h){return u===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||Mse(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=f,f}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),s.extensions[St.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[St.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[St.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new t_,Nn.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Sr,Nn.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return Hf}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[St.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const h=i[St.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else if(l[St.KHR_MATERIALS_UNLIT]){const h=i[St.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),u.push(h.extendParams(a,s,t))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new ze(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const p=h.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}h.baseColorTexture!==void 0&&u.push(t.assignTexture(a,"map",h.baseColorTexture,Nt)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(u.push(t.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),u.push(t.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=js);const f=s.alphaMode||hw.OPAQUE;if(f===hw.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===hw.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==ui&&(u.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new we(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==ui&&(u.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==ui&&(a.emissive=new ze().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==ui&&u.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,Nt)),Promise.all(u).then(function(){let h;return o===tM?h=i[St.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):h=new o(a),s.name&&(h.name=s.name),Ul(h,s),t.associations.set(h,{materials:e}),s.extensions&&Nd(i,h,s),h})}createUniqueName(e){const t=At.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[St.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return EO(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],f=bse(u),h=i[f];if(h)o.push(h.promise);else{let p;u.extensions&&u.extensions[St.KHR_DRACO_MESH_COMPRESSION]?p=s(u):p=EO(new mt,u,t),i[f]={primitive:u,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const f=o[l].material===void 0?xse(this.cache):this.getDependency("material",o[l].material);a.push(f)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),f=l[l.length-1],h=[];for(let m=0,g=f.length;m<g;m++){const v=f[m],_=o[m];let y;const w=u[m];if(_.mode===zi.TRIANGLES||_.mode===zi.TRIANGLE_STRIP||_.mode===zi.TRIANGLE_FAN||_.mode===void 0)y=s.isSkinnedMesh===!0?new UE(v,w):new Kn(v,w),y.isSkinnedMesh===!0&&!y.geometry.attributes.skinWeight.normalized&&y.normalizeSkinWeights(),_.mode===zi.TRIANGLE_STRIP?y.geometry=AO(y.geometry,k4):_.mode===zi.TRIANGLE_FAN&&(y.geometry=AO(y.geometry,CE));else if(_.mode===zi.LINES)y=new _s(v,w);else if(_.mode===zi.LINE_STRIP)y=new Go(v,w);else if(_.mode===zi.LINE_LOOP)y=new VE(v,w);else if(_.mode===zi.POINTS)y=new HE(v,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(y.geometry.morphAttributes).length>0&&Sse(y,s),y.name=t.createUniqueName(s.name||"mesh_"+e),Ul(y,s),_.extensions&&Nd(i,y,_),t.assignFinalMaterial(y),h.push(y)}for(let m=0,g=h.length;m<g;m++)t.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return h[0];const p=new Ro;t.associations.set(p,{meshes:e});for(let m=0,g=h.length;m<g;m++)p.add(h[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new nn(H4.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Io(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Ul(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let u=0,f=r.channels.length;u<f;u++){const h=r.channels[u],p=r.samplers[h.sampler],m=h.target,g=m.node,v=r.parameters!==void 0?r.parameters[p.input]:p.input,_=r.parameters!==void 0?r.parameters[p.output]:p.output;i.push(this.getDependency("node",g)),s.push(this.getDependency("accessor",v)),o.push(this.getDependency("accessor",_)),a.push(p),l.push(m)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const f=u[0],h=u[1],p=u[2],m=u[3],g=u[4],v=[];for(let y=0,w=f.length;y<w;y++){const S=f[y],M=h[y],T=p[y],P=m[y],L=g[y];if(S===void 0)continue;S.updateMatrix();let A;switch(ma[L.path]){case ma.weights:A=Sf;break;case ma.rotation:A=rl;break;case ma.position:case ma.scale:default:A=bf;break}const R=S.name?S.name:S.uuid,k=P.interpolation!==void 0?_se[P.interpolation]:Su,G=[];ma[L.path]===ma.weights?S.traverse(function(W){W.morphTargetInfluences&&G.push(W.name?W.name:W.uuid)}):G.push(R);let Z=T.array;if(T.normalized){const W=rM(Z.constructor),O=new Float32Array(Z.length);for(let j=0,$=Z.length;j<$;j++)O[j]=Z[j]*W;Z=O}for(let W=0,O=G.length;W<O;W++){const j=new A(G[W]+"."+ma[L.path],M.array,Z,k);P.interpolation==="CUBICSPLINE"&&(j.createInterpolant=function(ie){const I=this instanceof rl?yse:HU;return new I(this.times,this.values,this.getValueSize()/3,ie)},j.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),v.push(j)}}const _=r.name?r.name:"animation_"+e;return new Mf(_,void 0,v)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(!!a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this.extensions,i=this,s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new e_:a.length>1?l=new Ro:a.length===1?l=a[0]:l=new Ct,l!==a[0])for(let u=0,f=a.length;u<f;u++)l.add(a[u]);if(s.name&&(l.userData.name=s.name,l.name=o),Ul(l,s),s.extensions&&Nd(r,l,s),s.matrix!==void 0){const u=new ut;u.fromArray(s.matrix),l.applyMatrix4(u)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new Ro;i.name&&(o.name=s.createUniqueName(i.name)),Ul(o,i),i.extensions&&Nd(r,o,i);const a=i.nodes||[],l=[];for(let u=0,f=a.length;u<f;u++)l.push(GU(a[u],o,t,s));return Promise.all(l).then(function(){const u=f=>{const h=new Map;for(const[p,m]of s.associations)(p instanceof Nn||p instanceof Sn)&&h.set(p,m);return f.traverse(p=>{const m=s.associations.get(p);m!=null&&h.set(p,m)}),h};return s.associations=u(o),o})}}function GU(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let u=0,f=o.joints.length;u<f;u++)l.push(r.getDependency("node",o.joints[u]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const u=[],f=[];for(let h=0,p=a.length;h<p;h++){const m=a[h];if(m){u.push(m);const g=new ut;o.inverseBindMatrices!==void 0&&g.fromArray(o.inverseBindMatrices.array,h*16),f.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[h])}l.bind(new Np(u,f),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,u=a.length;l<u;l++){const f=a[l];o.push(GU(f,s,t,r))}}return Promise.all(o)})}function Ese(n,e,t){const r=e.attributes,i=new ll;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new B(l[0],l[1],l[2]),new B(u[0],u[1],u[2])),a.normalized){const f=rM(cp[a.componentType]);i.min.multiplyScalar(f),i.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new B,l=new B;for(let u=0,f=s.length;u<f;u++){const h=s[u];if(h.POSITION!==void 0){const p=t.json.accessors[h.POSITION],m=p.min,g=p.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),p.normalized){const v=rM(cp[p.componentType]);l.multiplyScalar(v)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new ul;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function EO(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=nM[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Ul(n,e),Ese(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?wse(n,e.targets,t):n})}function AO(n,e){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===CE)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s}var iu={exports:{}},Du={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Du.ConcurrentRoot=1;Du.ContinuousEventPriority=4;Du.DefaultEventPriority=16;Du.DiscreteEventPriority=1;Du.IdleEventPriority=536870912;Du.LegacyRoot=0;(function(n){n.exports=Du})(iu);function Ase(n){let e;const t=new Set,r=(u,f)=>{const h=typeof u=="function"?u(e):u;if(h!==e){const p=e;e=f?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},i=()=>e,s=(u,f=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=f(e);function m(){const g=f(e);if(!h(p,g)){const v=p;u(p=g,v)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(u,f,h)=>f||h?s(u,f,h):(t.add(u),()=>t.delete(u)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Cse=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),CO=Cse?z.exports.useEffect:z.exports.useLayoutEffect;function Pse(n){const e=typeof n=="function"?Ase(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=z.exports.useReducer(_=>_+1,0),o=e.getState(),a=z.exports.useRef(o),l=z.exports.useRef(r),u=z.exports.useRef(i),f=z.exports.useRef(!1),h=z.exports.useRef();h.current===void 0&&(h.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||u.current!==i||f.current)&&(p=r(o),m=!i(h.current,p)),CO(()=>{m&&(h.current=p),a.current=o,l.current=r,u.current=i,f.current=!1});const g=z.exports.useRef(o);CO(()=>{const _=()=>{try{const w=e.getState(),S=l.current(w);u.current(h.current,S)||(a.current=w,h.current=S,s())}catch{f.current=!0,s()}},y=e.subscribe(_);return e.getState()!==g.current&&_(),y},[]);const v=m?p:h.current;return z.exports.useDebugValue(v),v};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var jU={exports:{}},pw={exports:{}},mw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PO;function Rse(){return PO||(PO=1,function(n){function e(I,N){var U=I.length;I.push(N);e:for(;0<U;){var X=U-1>>>1,Y=I[X];if(0<i(Y,N))I[X]=N,I[U]=Y,U=X;else break e}}function t(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var N=I[0],U=I.pop();if(U!==N){I[0]=U;e:for(var X=0,Y=I.length,ae=Y>>>1;X<ae;){var se=2*(X+1)-1,ge=I[se],oe=se+1,Ne=I[oe];if(0>i(ge,U))oe<Y&&0>i(Ne,ge)?(I[X]=Ne,I[oe]=U,X=oe):(I[X]=ge,I[se]=U,X=se);else if(oe<Y&&0>i(Ne,U))I[X]=Ne,I[oe]=U,X=oe;else break e}}return N}function i(I,N){var U=I.sortIndex-N.sortIndex;return U!==0?U:I.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,p=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var N=t(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=I)r(u),N.sortIndex=N.expirationTime,e(l,N);else break;N=t(u)}}function M(I){if(v=!1,S(I),!g)if(t(l)!==null)g=!0,$(T);else{var N=t(u);N!==null&&ie(M,N.startTime-I)}}function T(I,N){g=!1,v&&(v=!1,y(A),A=-1),m=!0;var U=p;try{for(S(N),h=t(l);h!==null&&(!(h.expirationTime>N)||I&&!G());){var X=h.callback;if(typeof X=="function"){h.callback=null,p=h.priorityLevel;var Y=X(h.expirationTime<=N);N=n.unstable_now(),typeof Y=="function"?h.callback=Y:h===t(l)&&r(l),S(N)}else r(l);h=t(l)}if(h!==null)var ae=!0;else{var se=t(u);se!==null&&ie(M,se.startTime-N),ae=!1}return ae}finally{h=null,p=U,m=!1}}var P=!1,L=null,A=-1,R=5,k=-1;function G(){return!(n.unstable_now()-k<R)}function Z(){if(L!==null){var I=n.unstable_now();k=I;var N=!0;try{N=L(!0,I)}finally{N?W():(P=!1,L=null)}}else P=!1}var W;if(typeof w=="function")W=function(){w(Z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,j=O.port2;O.port1.onmessage=Z,W=function(){j.postMessage(null)}}else W=function(){_(Z,0)};function $(I){L=I,P||(P=!0,W())}function ie(I,N){A=_(function(){I(n.unstable_now())},N)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,$(T))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var U=p;p=N;try{return I()}finally{p=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,N){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=p;p=I;try{return N()}finally{p=U}},n.unstable_scheduleCallback=function(I,N,U){var X=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,I){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,I={id:f++,callback:N,priorityLevel:I,startTime:U,expirationTime:Y,sortIndex:-1},U>X?(I.sortIndex=U,e(u,I),t(l)===null&&I===t(u)&&(v?(y(A),A=-1):v=!0,ie(M,U-X))):(I.sortIndex=Y,e(l,I),g||m||(g=!0,$(T))),I},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(I){var N=p;return function(){var U=p;p=N;try{return I.apply(this,arguments)}finally{p=U}}}}(mw)),mw}var RO;function Lse(){return RO||(RO=1,function(n){n.exports=Rse()}(pw)),pw.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ose=function(e){var t={},r=z.exports,i=Lse(),s=Object.assign;function o(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,x=1;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),T=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=T&&c[T]||c["@@iterator"],typeof c=="function"?c:null)}function L(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case _:return"Suspense";case y:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case g:return(c.displayName||"Context")+".Consumer";case m:return(c._context.displayName||"Context")+".Provider";case v:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case w:return d=c.displayName||null,d!==null?d:L(c.type)||"Memo";case S:d=c._payload,c=c._init;try{return L(c(d))}catch{}}return null}function A(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function R(c){var d=c,x=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(x=d.return),c=d.return;while(c)}return d.tag===3?x:null}function k(c){if(R(c)!==c)throw Error(o(188))}function G(c){var d=c.alternate;if(!d){if(d=R(c),d===null)throw Error(o(188));return d!==c?null:c}for(var x=c,b=d;;){var E=x.return;if(E===null)break;var C=E.alternate;if(C===null){if(b=E.return,b!==null){x=b;continue}break}if(E.child===C.child){for(C=E.child;C;){if(C===x)return k(E),c;if(C===b)return k(E),d;C=C.sibling}throw Error(o(188))}if(x.return!==b.return)x=E,b=C;else{for(var H=!1,J=E.child;J;){if(J===x){H=!0,x=E,b=C;break}if(J===b){H=!0,b=E,x=C;break}J=J.sibling}if(!H){for(J=C.child;J;){if(J===x){H=!0,x=C,b=E;break}if(J===b){H=!0,b=C,x=E;break}J=J.sibling}if(!H)throw Error(o(189))}}if(x.alternate!==b)throw Error(o(190))}if(x.tag!==3)throw Error(o(188));return x.stateNode.current===x?c:d}function Z(c){return c=G(c),c!==null?W(c):null}function W(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=W(c);if(d!==null)return d;c=c.sibling}return null}function O(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){if(c.tag!==4){var d=O(c);if(d!==null)return d}c=c.sibling}return null}var j=Array.isArray,$=e.getPublicInstance,ie=e.getRootHostContext,I=e.getChildHostContext,N=e.prepareForCommit,U=e.resetAfterCommit,X=e.createInstance,Y=e.appendInitialChild,ae=e.finalizeInitialChildren,se=e.prepareUpdate,ge=e.shouldSetTextContent,oe=e.createTextInstance,Ne=e.scheduleTimeout,Ue=e.cancelTimeout,He=e.noTimeout,Pe=e.isPrimaryRenderer,Ke=e.supportsMutation,ve=e.supportsPersistence,fe=e.supportsHydration,Me=e.getInstanceFromNode,Be=e.preparePortalMount,Re=e.getCurrentEventPriority,tt=e.detachDeletedInstance,Xe=e.supportsMicrotasks,$e=e.scheduleMicrotask,re=e.supportsTestSelectors,Ee=e.findFiberRoot,F=e.getBoundingRect,D=e.getTextContent,te=e.isHiddenSubtree,ye=e.matchAccessibilityRole,be=e.setFocusIfFocusable,De=e.setupIntersectionObserver,nt=e.appendChild,ke=e.appendChildToContainer,xe=e.commitTextUpdate,Je=e.commitMount,q=e.commitUpdate,de=e.insertBefore,Ae=e.insertInContainerBefore,Ie=e.removeChild,it=e.removeChildFromContainer,xt=e.resetTextContent,Qt=e.hideInstance,K=e.hideTextInstance,pe=e.unhideInstance,Te=e.unhideTextInstance,je=e.clearContainer,Qe=e.cloneInstance,Pt=e.createContainerChildSet,bn=e.appendChildToContainerChildSet,Hn=e.finalizeContainerChildren,Ss=e.replaceContainerChildren,Wt=e.cloneHiddenInstance,xi=e.cloneHiddenTextInstance,Ir=e.canHydrateInstance,tm=e.canHydrateTextInstance,x_=e.canHydrateSuspenseInstance,nm=e.isSuspenseInstancePending,qf=e.isSuspenseInstanceFallback,V=e.registerSuspenseInstanceRetry,ue=e.getNextHydratableSibling,_e=e.getFirstHydratableChild,le=e.getFirstHydratableChildWithinContainer,Se=e.getFirstHydratableChildWithinSuspenseInstance,rt=e.hydrateInstance,at=e.hydrateTextInstance,gt=e.hydrateSuspenseInstance,ht=e.getNextHydratableInstanceAfterSuspenseInstance,Rt=e.commitHydratedContainer,wt=e.commitHydratedSuspenseInstance,Tt=e.clearSuspenseBoundary,sn=e.clearSuspenseBoundaryFromContainer,no=e.shouldDeleteUnhydratedTailInstances,Ko=e.didNotMatchHydratedContainerTextInstance,Jo=e.didNotMatchHydratedTextInstance,Dr;function bt(c){if(Dr===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);Dr=d&&d[1]||""}return`
`+Dr+c}var bs=!1;function on(c,d){if(!c||bs)return"";bs=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Oe){var b=Oe}Reflect.construct(c,[],d)}else{try{d.call()}catch(Oe){b=Oe}c.call(d.prototype)}else{try{throw Error()}catch(Oe){b=Oe}c()}}catch(Oe){if(Oe&&b&&typeof Oe.stack=="string"){for(var E=Oe.stack.split(`
`),C=b.stack.split(`
`),H=E.length-1,J=C.length-1;1<=H&&0<=J&&E[H]!==C[J];)J--;for(;1<=H&&0<=J;H--,J--)if(E[H]!==C[J]){if(H!==1||J!==1)do if(H--,J--,0>J||E[H]!==C[J]){var me=`
`+E[H].replace(" at new "," at ");return c.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",c.displayName)),me}while(1<=H&&0<=J);break}}}finally{bs=!1,Error.prepareStackTrace=x}return(c=c?c.displayName||c.name:"")?bt(c):""}var Nr=Object.prototype.hasOwnProperty,wi=[],Si=-1;function bi(c){return{current:c}}function pt(c){0>Si||(c.current=wi[Si],wi[Si]=null,Si--)}function Et(c,d){Si++,wi[Si]=c.current,c.current=d}var Mi={},Ft=bi(Mi),Gn=bi(!1),ro=Mi;function io(c,d){var x=c.type.contextTypes;if(!x)return Mi;var b=c.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===d)return b.__reactInternalMemoizedMaskedChildContext;var E={},C;for(C in x)E[C]=d[C];return b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=E),E}function kr(c){return c=c.childContextTypes,c!=null}function rm(){pt(Gn),pt(Ft)}function CA(c,d,x){if(Ft.current!==Mi)throw Error(o(168));Et(Ft,d),Et(Gn,x)}function PA(c,d,x){var b=c.stateNode;if(d=d.childContextTypes,typeof b.getChildContext!="function")return x;b=b.getChildContext();for(var E in b)if(!(E in d))throw Error(o(108,A(c)||"Unknown",E));return s({},x,b)}function im(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Mi,ro=Ft.current,Et(Ft,c),Et(Gn,Gn.current),!0}function RA(c,d,x){var b=c.stateNode;if(!b)throw Error(o(169));x?(c=PA(c,d,ro),b.__reactInternalMemoizedMergedChildContext=c,pt(Gn),pt(Ft),Et(Ft,c)):pt(Gn),Et(Gn,x)}var Ji=Math.clz32?Math.clz32:l5,o5=Math.log,a5=Math.LN2;function l5(c){return c>>>=0,c===0?32:31-(o5(c)/a5|0)|0}var sm=64,om=4194304;function Xf(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function am(c,d){var x=c.pendingLanes;if(x===0)return 0;var b=0,E=c.suspendedLanes,C=c.pingedLanes,H=x&268435455;if(H!==0){var J=H&~E;J!==0?b=Xf(J):(C&=H,C!==0&&(b=Xf(C)))}else H=x&~E,H!==0?b=Xf(H):C!==0&&(b=Xf(C));if(b===0)return 0;if(d!==0&&d!==b&&(d&E)===0&&(E=b&-b,C=d&-d,E>=C||E===16&&(C&4194240)!==0))return d;if((b&4)!==0&&(b|=x&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=b;0<d;)x=31-Ji(d),E=1<<x,b|=c[x],d&=~E;return b}function u5(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c5(c,d){for(var x=c.suspendedLanes,b=c.pingedLanes,E=c.expirationTimes,C=c.pendingLanes;0<C;){var H=31-Ji(C),J=1<<H,me=E[H];me===-1?((J&x)===0||(J&b)!==0)&&(E[H]=u5(J,d)):me<=d&&(c.expiredLanes|=J),C&=~J}}function w_(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function S_(c){for(var d=[],x=0;31>x;x++)d.push(c);return d}function Yf(c,d,x){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-Ji(d),c[d]=x}function f5(c,d){var x=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var b=c.eventTimes;for(c=c.expirationTimes;0<x;){var E=31-Ji(x),C=1<<E;d[E]=0,b[E]=-1,c[E]=-1,x&=~C}}function b_(c,d){var x=c.entangledLanes|=d;for(c=c.entanglements;x;){var b=31-Ji(x),E=1<<b;E&d|c[b]&d&&(c[b]|=d),x&=~E}}var Ot=0;function LA(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var M_=i.unstable_scheduleCallback,OA=i.unstable_cancelCallback,d5=i.unstable_shouldYield,h5=i.unstable_requestPaint,jn=i.unstable_now,T_=i.unstable_ImmediatePriority,p5=i.unstable_UserBlockingPriority,E_=i.unstable_NormalPriority,m5=i.unstable_IdlePriority,lm=null,Ms=null;function g5(c){if(Ms&&typeof Ms.onCommitFiberRoot=="function")try{Ms.onCommitFiberRoot(lm,c,void 0,(c.current.flags&128)===128)}catch{}}function v5(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Ts=typeof Object.is=="function"?Object.is:v5,so=null,um=!1,A_=!1;function IA(c){so===null?so=[c]:so.push(c)}function y5(c){um=!0,IA(c)}function Es(){if(!A_&&so!==null){A_=!0;var c=0,d=Ot;try{var x=so;for(Ot=1;c<x.length;c++){var b=x[c];do b=b(!0);while(b!==null)}so=null,um=!1}catch(E){throw so!==null&&(so=so.slice(c+1)),M_(T_,Es),E}finally{Ot=d,A_=!1}}return null}var _5=a.ReactCurrentBatchConfig;function cm(c,d){if(Ts(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var x=Object.keys(c),b=Object.keys(d);if(x.length!==b.length)return!1;for(b=0;b<x.length;b++){var E=x[b];if(!Nr.call(d,E)||!Ts(c[E],d[E]))return!1}return!0}function x5(c){switch(c.tag){case 5:return bt(c.type);case 16:return bt("Lazy");case 13:return bt("Suspense");case 19:return bt("SuspenseList");case 0:case 2:case 15:return c=on(c.type,!1),c;case 11:return c=on(c.type.render,!1),c;case 1:return c=on(c.type,!0),c;default:return""}}function Zi(c,d){if(c&&c.defaultProps){d=s({},d),c=c.defaultProps;for(var x in c)d[x]===void 0&&(d[x]=c[x]);return d}return d}var fm=bi(null),dm=null,Uu=null,C_=null;function P_(){C_=Uu=dm=null}function DA(c,d,x){Pe?(Et(fm,d._currentValue),d._currentValue=x):(Et(fm,d._currentValue2),d._currentValue2=x)}function R_(c){var d=fm.current;pt(fm),Pe?c._currentValue=d:c._currentValue2=d}function L_(c,d,x){for(;c!==null;){var b=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),c===x)break;c=c.return}}function Bu(c,d){dm=c,C_=Uu=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(ei=!0),c.firstContext=null)}function Ti(c){var d=Pe?c._currentValue:c._currentValue2;if(C_!==c)if(c={context:c,memoizedValue:d,next:null},Uu===null){if(dm===null)throw Error(o(308));Uu=c,dm.dependencies={lanes:0,firstContext:c}}else Uu=Uu.next=c;return d}var As=null,Zo=!1;function O_(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NA(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function oo(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function Qo(c,d){var x=c.updateQueue;x!==null&&(x=x.shared,Pn!==null&&(c.mode&1)!==0&&(_t&2)===0?(c=x.interleaved,c===null?(d.next=d,As===null?As=[x]:As.push(x)):(d.next=c.next,c.next=d),x.interleaved=d):(c=x.pending,c===null?d.next=d:(d.next=c.next,c.next=d),x.pending=d))}function hm(c,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194240)!==0)){var b=d.lanes;b&=c.pendingLanes,x|=b,d.lanes=x,b_(c,x)}}function kA(c,d){var x=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,x===b)){var E=null,C=null;if(x=x.firstBaseUpdate,x!==null){do{var H={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};C===null?E=C=H:C=C.next=H,x=x.next}while(x!==null);C===null?E=C=d:C=C.next=d}else E=C=d;x={baseState:b.baseState,firstBaseUpdate:E,lastBaseUpdate:C,shared:b.shared,effects:b.effects},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=d:c.next=d,x.lastBaseUpdate=d}function pm(c,d,x,b){var E=c.updateQueue;Zo=!1;var C=E.firstBaseUpdate,H=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var me=J,Oe=me.next;me.next=null,H===null?C=Oe:H.next=Oe,H=me;var qe=c.alternate;qe!==null&&(qe=qe.updateQueue,J=qe.lastBaseUpdate,J!==H&&(J===null?qe.firstBaseUpdate=Oe:J.next=Oe,qe.lastBaseUpdate=me))}if(C!==null){var ct=E.baseState;H=0,qe=Oe=me=null,J=C;do{var st=J.lane,$t=J.eventTime;if((b&st)===st){qe!==null&&(qe=qe.next={eventTime:$t,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var et=c,dr=J;switch(st=d,$t=x,dr.tag){case 1:if(et=dr.payload,typeof et=="function"){ct=et.call($t,ct,st);break e}ct=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=dr.payload,st=typeof et=="function"?et.call($t,ct,st):et,st==null)break e;ct=s({},ct,st);break e;case 2:Zo=!0}}J.callback!==null&&J.lane!==0&&(c.flags|=64,st=E.effects,st===null?E.effects=[J]:st.push(J))}else $t={eventTime:$t,lane:st,tag:J.tag,payload:J.payload,callback:J.callback,next:null},qe===null?(Oe=qe=$t,me=ct):qe=qe.next=$t,H|=st;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;st=J,J=st.next,st.next=null,E.lastBaseUpdate=st,E.shared.pending=null}}while(1);if(qe===null&&(me=ct),E.baseState=me,E.firstBaseUpdate=Oe,E.lastBaseUpdate=qe,d=E.shared.interleaved,d!==null){E=d;do H|=E.lane,E=E.next;while(E!==d)}else C===null&&(E.shared.lanes=0);Yu|=H,c.lanes=H,c.memoizedState=ct}}function FA(c,d,x){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var b=c[d],E=b.callback;if(E!==null){if(b.callback=null,b=x,typeof E!="function")throw Error(o(191,E));E.call(b)}}}var zA=new r.Component().refs;function I_(c,d,x,b){d=c.memoizedState,x=x(b,d),x=x==null?d:s({},d,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var mm={isMounted:function(c){return(c=c._reactInternals)?R(c)===c:!1},enqueueSetState:function(c,d,x){c=c._reactInternals;var b=Mr(),E=na(c),C=oo(b,E);C.payload=d,x!=null&&(C.callback=x),Qo(c,C),d=Ri(c,E,b),d!==null&&hm(d,c,E)},enqueueReplaceState:function(c,d,x){c=c._reactInternals;var b=Mr(),E=na(c),C=oo(b,E);C.tag=1,C.payload=d,x!=null&&(C.callback=x),Qo(c,C),d=Ri(c,E,b),d!==null&&hm(d,c,E)},enqueueForceUpdate:function(c,d){c=c._reactInternals;var x=Mr(),b=na(c),E=oo(x,b);E.tag=2,d!=null&&(E.callback=d),Qo(c,E),d=Ri(c,b,x),d!==null&&hm(d,c,b)}};function UA(c,d,x,b,E,C,H){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,C,H):d.prototype&&d.prototype.isPureReactComponent?!cm(x,b)||!cm(E,C):!0}function BA(c,d,x){var b=!1,E=Mi,C=d.contextType;return typeof C=="object"&&C!==null?C=Ti(C):(E=kr(d)?ro:Ft.current,b=d.contextTypes,C=(b=b!=null)?io(c,E):Mi),d=new d(x,C),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=mm,c.stateNode=d,d._reactInternals=c,b&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=E,c.__reactInternalMemoizedMaskedChildContext=C),d}function VA(c,d,x,b){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,b),d.state!==c&&mm.enqueueReplaceState(d,d.state,null)}function D_(c,d,x,b){var E=c.stateNode;E.props=x,E.state=c.memoizedState,E.refs=zA,O_(c);var C=d.contextType;typeof C=="object"&&C!==null?E.context=Ti(C):(C=kr(d)?ro:Ft.current,E.context=io(c,C)),E.state=c.memoizedState,C=d.getDerivedStateFromProps,typeof C=="function"&&(I_(c,d,C,x),E.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(d=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),d!==E.state&&mm.enqueueReplaceState(E,E.state,null),pm(c,x,E,b),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308)}var Vu=[],Hu=0,gm=null,vm=0,Ei=[],Ai=0,hl=null,ao=1,lo="";function pl(c,d){Vu[Hu++]=vm,Vu[Hu++]=gm,gm=c,vm=d}function HA(c,d,x){Ei[Ai++]=ao,Ei[Ai++]=lo,Ei[Ai++]=hl,hl=c;var b=ao;c=lo;var E=32-Ji(b)-1;b&=~(1<<E),x+=1;var C=32-Ji(d)+E;if(30<C){var H=E-E%5;C=(b&(1<<H)-1).toString(32),b>>=H,E-=H,ao=1<<32-Ji(d)+E|x<<E|b,lo=C+c}else ao=1<<C|x<<E|b,lo=c}function N_(c){c.return!==null&&(pl(c,1),HA(c,1,0))}function k_(c){for(;c===gm;)gm=Vu[--Hu],Vu[Hu]=null,vm=Vu[--Hu],Vu[Hu]=null;for(;c===hl;)hl=Ei[--Ai],Ei[Ai]=null,lo=Ei[--Ai],Ei[Ai]=null,ao=Ei[--Ai],Ei[Ai]=null}var Zr=null,Qr=null,an=!1,Kf=!1,Qi=null;function GA(c,d){var x=Li(5,null,null,0);x.elementType="DELETED",x.stateNode=d,x.return=c,d=c.deletions,d===null?(c.deletions=[x],c.flags|=16):d.push(x)}function jA(c,d){switch(c.tag){case 5:return d=Ir(d,c.type,c.pendingProps),d!==null?(c.stateNode=d,Zr=c,Qr=_e(d),!0):!1;case 6:return d=tm(d,c.pendingProps),d!==null?(c.stateNode=d,Zr=c,Qr=null,!0):!1;case 13:if(d=x_(d),d!==null){var x=hl!==null?{id:ao,overflow:lo}:null;return c.memoizedState={dehydrated:d,treeContext:x,retryLane:1073741824},x=Li(18,null,null,0),x.stateNode=d,x.return=c,c.child=x,Zr=c,Qr=null,!0}return!1;default:return!1}}function F_(c){return(c.mode&1)!==0&&(c.flags&128)===0}function z_(c){if(an){var d=Qr;if(d){var x=d;if(!jA(c,d)){if(F_(c))throw Error(o(418));d=ue(x);var b=Zr;d&&jA(c,d)?GA(b,x):(c.flags=c.flags&-4097|2,an=!1,Zr=c)}}else{if(F_(c))throw Error(o(418));c.flags=c.flags&-4097|2,an=!1,Zr=c}}}function WA(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Zr=c}function Jf(c){if(!fe||c!==Zr)return!1;if(!an)return WA(c),an=!0,!1;if(c.tag!==3&&(c.tag!==5||no(c.type)&&!ge(c.type,c.memoizedProps))){var d=Qr;if(d){if(F_(c)){for(c=Qr;c;)c=ue(c);throw Error(o(418))}for(;d;)GA(c,d),d=ue(d)}}if(WA(c),c.tag===13){if(!fe)throw Error(o(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));Qr=ht(c)}else Qr=Zr?ue(c.stateNode):null;return!0}function Gu(){fe&&(Qr=Zr=null,Kf=an=!1)}function U_(c){Qi===null?Qi=[c]:Qi.push(c)}function Zf(c,d,x){if(c=x.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(o(309));var b=x.stateNode}if(!b)throw Error(o(147,c));var E=b,C=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===C?d.ref:(d=function(H){var J=E.refs;J===zA&&(J=E.refs={}),H===null?delete J[C]:J[C]=H},d._stringRef=C,d)}if(typeof c!="string")throw Error(o(284));if(!x._owner)throw Error(o(290,c))}return c}function ym(c,d){throw c=Object.prototype.toString.call(d),Error(o(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function $A(c){var d=c._init;return d(c._payload)}function qA(c){function d(ce,ee){if(c){var he=ce.deletions;he===null?(ce.deletions=[ee],ce.flags|=16):he.push(ee)}}function x(ce,ee){if(!c)return null;for(;ee!==null;)d(ce,ee),ee=ee.sibling;return null}function b(ce,ee){for(ce=new Map;ee!==null;)ee.key!==null?ce.set(ee.key,ee):ce.set(ee.index,ee),ee=ee.sibling;return ce}function E(ce,ee){return ce=ia(ce,ee),ce.index=0,ce.sibling=null,ce}function C(ce,ee,he){return ce.index=he,c?(he=ce.alternate,he!==null?(he=he.index,he<ee?(ce.flags|=2,ee):he):(ce.flags|=2,ee)):(ce.flags|=1048576,ee)}function H(ce){return c&&ce.alternate===null&&(ce.flags|=2),ce}function J(ce,ee,he,Ge){return ee===null||ee.tag!==6?(ee=Sx(he,ce.mode,Ge),ee.return=ce,ee):(ee=E(ee,he),ee.return=ce,ee)}function me(ce,ee,he,Ge){var Ze=he.type;return Ze===f?qe(ce,ee,he.props.children,Ge,he.key):ee!==null&&(ee.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===S&&$A(Ze)===ee.type)?(Ge=E(ee,he.props),Ge.ref=Zf(ce,ee,he),Ge.return=ce,Ge):(Ge=Ym(he.type,he.key,he.props,null,ce.mode,Ge),Ge.ref=Zf(ce,ee,he),Ge.return=ce,Ge)}function Oe(ce,ee,he,Ge){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==he.containerInfo||ee.stateNode.implementation!==he.implementation?(ee=bx(he,ce.mode,Ge),ee.return=ce,ee):(ee=E(ee,he.children||[]),ee.return=ce,ee)}function qe(ce,ee,he,Ge,Ze){return ee===null||ee.tag!==7?(ee=wl(he,ce.mode,Ge,Ze),ee.return=ce,ee):(ee=E(ee,he),ee.return=ce,ee)}function ct(ce,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=Sx(""+ee,ce.mode,he),ee.return=ce,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case l:return he=Ym(ee.type,ee.key,ee.props,null,ce.mode,he),he.ref=Zf(ce,null,ee),he.return=ce,he;case u:return ee=bx(ee,ce.mode,he),ee.return=ce,ee;case S:var Ge=ee._init;return ct(ce,Ge(ee._payload),he)}if(j(ee)||P(ee))return ee=wl(ee,ce.mode,he,null),ee.return=ce,ee;ym(ce,ee)}return null}function st(ce,ee,he,Ge){var Ze=ee!==null?ee.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return Ze!==null?null:J(ce,ee,""+he,Ge);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case l:return he.key===Ze?me(ce,ee,he,Ge):null;case u:return he.key===Ze?Oe(ce,ee,he,Ge):null;case S:return Ze=he._init,st(ce,ee,Ze(he._payload),Ge)}if(j(he)||P(he))return Ze!==null?null:qe(ce,ee,he,Ge,null);ym(ce,he)}return null}function $t(ce,ee,he,Ge,Ze){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return ce=ce.get(he)||null,J(ee,ce,""+Ge,Ze);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:return ce=ce.get(Ge.key===null?he:Ge.key)||null,me(ee,ce,Ge,Ze);case u:return ce=ce.get(Ge.key===null?he:Ge.key)||null,Oe(ee,ce,Ge,Ze);case S:var vt=Ge._init;return $t(ce,ee,he,vt(Ge._payload),Ze)}if(j(Ge)||P(Ge))return ce=ce.get(he)||null,qe(ee,ce,Ge,Ze,null);ym(ee,Ge)}return null}function et(ce,ee,he,Ge){for(var Ze=null,vt=null,ft=ee,It=ee=0,$n=null;ft!==null&&It<he.length;It++){ft.index>It?($n=ft,ft=null):$n=ft.sibling;var Dt=st(ce,ft,he[It],Ge);if(Dt===null){ft===null&&(ft=$n);break}c&&ft&&Dt.alternate===null&&d(ce,ft),ee=C(Dt,ee,It),vt===null?Ze=Dt:vt.sibling=Dt,vt=Dt,ft=$n}if(It===he.length)return x(ce,ft),an&&pl(ce,It),Ze;if(ft===null){for(;It<he.length;It++)ft=ct(ce,he[It],Ge),ft!==null&&(ee=C(ft,ee,It),vt===null?Ze=ft:vt.sibling=ft,vt=ft);return an&&pl(ce,It),Ze}for(ft=b(ce,ft);It<he.length;It++)$n=$t(ft,ce,It,he[It],Ge),$n!==null&&(c&&$n.alternate!==null&&ft.delete($n.key===null?It:$n.key),ee=C($n,ee,It),vt===null?Ze=$n:vt.sibling=$n,vt=$n);return c&&ft.forEach(function(sa){return d(ce,sa)}),an&&pl(ce,It),Ze}function dr(ce,ee,he,Ge){var Ze=P(he);if(typeof Ze!="function")throw Error(o(150));if(he=Ze.call(he),he==null)throw Error(o(151));for(var vt=Ze=null,ft=ee,It=ee=0,$n=null,Dt=he.next();ft!==null&&!Dt.done;It++,Dt=he.next()){ft.index>It?($n=ft,ft=null):$n=ft.sibling;var sa=st(ce,ft,Dt.value,Ge);if(sa===null){ft===null&&(ft=$n);break}c&&ft&&sa.alternate===null&&d(ce,ft),ee=C(sa,ee,It),vt===null?Ze=sa:vt.sibling=sa,vt=sa,ft=$n}if(Dt.done)return x(ce,ft),an&&pl(ce,It),Ze;if(ft===null){for(;!Dt.done;It++,Dt=he.next())Dt=ct(ce,Dt.value,Ge),Dt!==null&&(ee=C(Dt,ee,It),vt===null?Ze=Dt:vt.sibling=Dt,vt=Dt);return an&&pl(ce,It),Ze}for(ft=b(ce,ft);!Dt.done;It++,Dt=he.next())Dt=$t(ft,ce,It,Dt.value,Ge),Dt!==null&&(c&&Dt.alternate!==null&&ft.delete(Dt.key===null?It:Dt.key),ee=C(Dt,ee,It),vt===null?Ze=Dt:vt.sibling=Dt,vt=Dt);return c&&ft.forEach(function(K5){return d(ce,K5)}),an&&pl(ce,It),Ze}function Oi(ce,ee,he,Ge){if(typeof he=="object"&&he!==null&&he.type===f&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case l:e:{for(var Ze=he.key,vt=ee;vt!==null;){if(vt.key===Ze){if(Ze=he.type,Ze===f){if(vt.tag===7){x(ce,vt.sibling),ee=E(vt,he.props.children),ee.return=ce,ce=ee;break e}}else if(vt.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===S&&$A(Ze)===vt.type){x(ce,vt.sibling),ee=E(vt,he.props),ee.ref=Zf(ce,vt,he),ee.return=ce,ce=ee;break e}x(ce,vt);break}else d(ce,vt);vt=vt.sibling}he.type===f?(ee=wl(he.props.children,ce.mode,Ge,he.key),ee.return=ce,ce=ee):(Ge=Ym(he.type,he.key,he.props,null,ce.mode,Ge),Ge.ref=Zf(ce,ee,he),Ge.return=ce,ce=Ge)}return H(ce);case u:e:{for(vt=he.key;ee!==null;){if(ee.key===vt)if(ee.tag===4&&ee.stateNode.containerInfo===he.containerInfo&&ee.stateNode.implementation===he.implementation){x(ce,ee.sibling),ee=E(ee,he.children||[]),ee.return=ce,ce=ee;break e}else{x(ce,ee);break}else d(ce,ee);ee=ee.sibling}ee=bx(he,ce.mode,Ge),ee.return=ce,ce=ee}return H(ce);case S:return vt=he._init,Oi(ce,ee,vt(he._payload),Ge)}if(j(he))return et(ce,ee,he,Ge);if(P(he))return dr(ce,ee,he,Ge);ym(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,ee!==null&&ee.tag===6?(x(ce,ee.sibling),ee=E(ee,he),ee.return=ce,ce=ee):(x(ce,ee),ee=Sx(he,ce.mode,Ge),ee.return=ce,ce=ee),H(ce)):x(ce,ee)}return Oi}var ju=qA(!0),XA=qA(!1),Qf={},Ci=bi(Qf),ed=bi(Qf),Wu=bi(Qf);function Cs(c){if(c===Qf)throw Error(o(174));return c}function B_(c,d){Et(Wu,d),Et(ed,c),Et(Ci,Qf),c=ie(d),pt(Ci),Et(Ci,c)}function $u(){pt(Ci),pt(ed),pt(Wu)}function YA(c){var d=Cs(Wu.current),x=Cs(Ci.current);d=I(x,c.type,d),x!==d&&(Et(ed,c),Et(Ci,d))}function V_(c){ed.current===c&&(pt(Ci),pt(ed))}var cn=bi(0);function _m(c){for(var d=c;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||nm(x)||qf(x)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var H_=[];function G_(){for(var c=0;c<H_.length;c++){var d=H_[c];Pe?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}H_.length=0}var xm=a.ReactCurrentDispatcher,Pi=a.ReactCurrentBatchConfig,qu=0,gn=null,ur=null,Wn=null,wm=!1,td=!1,nd=0,w5=0;function cr(){throw Error(o(321))}function j_(c,d){if(d===null)return!1;for(var x=0;x<d.length&&x<c.length;x++)if(!Ts(c[x],d[x]))return!1;return!0}function W_(c,d,x,b,E,C){if(qu=C,gn=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,xm.current=c===null||c.memoizedState===null?T5:E5,c=x(b,E),td){C=0;do{if(td=!1,nd=0,25<=C)throw Error(o(301));C+=1,Wn=ur=null,d.updateQueue=null,xm.current=A5,c=x(b,E)}while(td)}if(xm.current=Em,d=ur!==null&&ur.next!==null,qu=0,Wn=ur=gn=null,wm=!1,d)throw Error(o(300));return c}function $_(){var c=nd!==0;return nd=0,c}function uo(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?gn.memoizedState=Wn=c:Wn=Wn.next=c,Wn}function Ps(){if(ur===null){var c=gn.alternate;c=c!==null?c.memoizedState:null}else c=ur.next;var d=Wn===null?gn.memoizedState:Wn.next;if(d!==null)Wn=d,ur=c;else{if(c===null)throw Error(o(310));ur=c,c={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},Wn===null?gn.memoizedState=Wn=c:Wn=Wn.next=c}return Wn}function ml(c,d){return typeof d=="function"?d(c):d}function Sm(c){var d=Ps(),x=d.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=c;var b=ur,E=b.baseQueue,C=x.pending;if(C!==null){if(E!==null){var H=E.next;E.next=C.next,C.next=H}b.baseQueue=E=C,x.pending=null}if(E!==null){C=E.next,b=b.baseState;var J=H=null,me=null,Oe=C;do{var qe=Oe.lane;if((qu&qe)===qe)me!==null&&(me=me.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),b=Oe.hasEagerState?Oe.eagerState:c(b,Oe.action);else{var ct={lane:qe,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};me===null?(J=me=ct,H=b):me=me.next=ct,gn.lanes|=qe,Yu|=qe}Oe=Oe.next}while(Oe!==null&&Oe!==C);me===null?H=b:me.next=J,Ts(b,d.memoizedState)||(ei=!0),d.memoizedState=b,d.baseState=H,d.baseQueue=me,x.lastRenderedState=b}if(c=x.interleaved,c!==null){E=c;do C=E.lane,gn.lanes|=C,Yu|=C,E=E.next;while(E!==c)}else E===null&&(x.lanes=0);return[d.memoizedState,x.dispatch]}function bm(c){var d=Ps(),x=d.queue;if(x===null)throw Error(o(311));x.lastRenderedReducer=c;var b=x.dispatch,E=x.pending,C=d.memoizedState;if(E!==null){x.pending=null;var H=E=E.next;do C=c(C,H.action),H=H.next;while(H!==E);Ts(C,d.memoizedState)||(ei=!0),d.memoizedState=C,d.baseQueue===null&&(d.baseState=C),x.lastRenderedState=C}return[C,b]}function KA(){}function JA(c,d){var x=gn,b=Ps(),E=d(),C=!Ts(b.memoizedState,E);if(C&&(b.memoizedState=E,ei=!0),b=b.queue,id(eC.bind(null,x,b,c),[c]),b.getSnapshot!==d||C||Wn!==null&&Wn.memoizedState.tag&1){if(x.flags|=2048,rd(9,QA.bind(null,x,b,E,d),void 0,null),Pn===null)throw Error(o(349));(qu&30)!==0||ZA(x,d,E)}return E}function ZA(c,d,x){c.flags|=16384,c={getSnapshot:d,value:x},d=gn.updateQueue,d===null?(d={lastEffect:null,stores:null},gn.updateQueue=d,d.stores=[c]):(x=d.stores,x===null?d.stores=[c]:x.push(c))}function QA(c,d,x,b){d.value=x,d.getSnapshot=b,tC(d)&&Ri(c,1,-1)}function eC(c,d,x){return x(function(){tC(d)&&Ri(c,1,-1)})}function tC(c){var d=c.getSnapshot;c=c.value;try{var x=d();return!Ts(c,x)}catch{return!0}}function q_(c){var d=uo();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:c},d.queue=c,c=c.dispatch=M5.bind(null,gn,c),[d.memoizedState,c]}function rd(c,d,x,b){return c={tag:c,create:d,destroy:x,deps:b,next:null},d=gn.updateQueue,d===null?(d={lastEffect:null,stores:null},gn.updateQueue=d,d.lastEffect=c.next=c):(x=d.lastEffect,x===null?d.lastEffect=c.next=c:(b=x.next,x.next=c,c.next=b,d.lastEffect=c)),c}function nC(){return Ps().memoizedState}function Mm(c,d,x,b){var E=uo();gn.flags|=c,E.memoizedState=rd(1|d,x,void 0,b===void 0?null:b)}function Tm(c,d,x,b){var E=Ps();b=b===void 0?null:b;var C=void 0;if(ur!==null){var H=ur.memoizedState;if(C=H.destroy,b!==null&&j_(b,H.deps)){E.memoizedState=rd(d,x,C,b);return}}gn.flags|=c,E.memoizedState=rd(1|d,x,C,b)}function X_(c,d){return Mm(8390656,8,c,d)}function id(c,d){return Tm(2048,8,c,d)}function rC(c,d){return Tm(4,2,c,d)}function iC(c,d){return Tm(4,4,c,d)}function sC(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function oC(c,d,x){return x=x!=null?x.concat([c]):null,Tm(4,4,sC.bind(null,d,c),x)}function Y_(){}function aC(c,d){var x=Ps();d=d===void 0?null:d;var b=x.memoizedState;return b!==null&&d!==null&&j_(d,b[1])?b[0]:(x.memoizedState=[c,d],c)}function lC(c,d){var x=Ps();d=d===void 0?null:d;var b=x.memoizedState;return b!==null&&d!==null&&j_(d,b[1])?b[0]:(c=c(),x.memoizedState=[c,d],c)}function S5(c,d){var x=Ot;Ot=x!==0&&4>x?x:4,c(!0);var b=Pi.transition;Pi.transition={};try{c(!1),d()}finally{Ot=x,Pi.transition=b}}function uC(){return Ps().memoizedState}function b5(c,d,x){var b=na(c);x={lane:b,action:x,hasEagerState:!1,eagerState:null,next:null},cC(c)?fC(d,x):(dC(c,d,x),x=Mr(),c=Ri(c,b,x),c!==null&&hC(c,d,b))}function M5(c,d,x){var b=na(c),E={lane:b,action:x,hasEagerState:!1,eagerState:null,next:null};if(cC(c))fC(d,E);else{dC(c,d,E);var C=c.alternate;if(c.lanes===0&&(C===null||C.lanes===0)&&(C=d.lastRenderedReducer,C!==null))try{var H=d.lastRenderedState,J=C(H,x);if(E.hasEagerState=!0,E.eagerState=J,Ts(J,H))return}catch{}finally{}x=Mr(),c=Ri(c,b,x),c!==null&&hC(c,d,b)}}function cC(c){var d=c.alternate;return c===gn||d!==null&&d===gn}function fC(c,d){td=wm=!0;var x=c.pending;x===null?d.next=d:(d.next=x.next,x.next=d),c.pending=d}function dC(c,d,x){Pn!==null&&(c.mode&1)!==0&&(_t&2)===0?(c=d.interleaved,c===null?(x.next=x,As===null?As=[d]:As.push(d)):(x.next=c.next,c.next=x),d.interleaved=x):(c=d.pending,c===null?x.next=x:(x.next=c.next,c.next=x),d.pending=x)}function hC(c,d,x){if((x&4194240)!==0){var b=d.lanes;b&=c.pendingLanes,x|=b,d.lanes=x,b_(c,x)}}var Em={readContext:Ti,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},T5={readContext:Ti,useCallback:function(c,d){return uo().memoizedState=[c,d===void 0?null:d],c},useContext:Ti,useEffect:X_,useImperativeHandle:function(c,d,x){return x=x!=null?x.concat([c]):null,Mm(4194308,4,sC.bind(null,d,c),x)},useLayoutEffect:function(c,d){return Mm(4194308,4,c,d)},useInsertionEffect:function(c,d){return Mm(4,2,c,d)},useMemo:function(c,d){var x=uo();return d=d===void 0?null:d,c=c(),x.memoizedState=[c,d],c},useReducer:function(c,d,x){var b=uo();return d=x!==void 0?x(d):d,b.memoizedState=b.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},b.queue=c,c=c.dispatch=b5.bind(null,gn,c),[b.memoizedState,c]},useRef:function(c){var d=uo();return c={current:c},d.memoizedState=c},useState:q_,useDebugValue:Y_,useDeferredValue:function(c){var d=q_(c),x=d[0],b=d[1];return X_(function(){var E=Pi.transition;Pi.transition={};try{b(c)}finally{Pi.transition=E}},[c]),x},useTransition:function(){var c=q_(!1),d=c[0];return c=S5.bind(null,c[1]),uo().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,x){var b=gn,E=uo();if(an){if(x===void 0)throw Error(o(407));x=x()}else{if(x=d(),Pn===null)throw Error(o(349));(qu&30)!==0||ZA(b,d,x)}E.memoizedState=x;var C={value:x,getSnapshot:d};return E.queue=C,X_(eC.bind(null,b,C,c),[c]),b.flags|=2048,rd(9,QA.bind(null,b,C,x,d),void 0,null),x},useId:function(){var c=uo(),d=Pn.identifierPrefix;if(an){var x=lo,b=ao;x=(b&~(1<<32-Ji(b)-1)).toString(32)+x,d=":"+d+"R"+x,x=nd++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=w5++,d=":"+d+"r"+x.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},E5={readContext:Ti,useCallback:aC,useContext:Ti,useEffect:id,useImperativeHandle:oC,useInsertionEffect:rC,useLayoutEffect:iC,useMemo:lC,useReducer:Sm,useRef:nC,useState:function(){return Sm(ml)},useDebugValue:Y_,useDeferredValue:function(c){var d=Sm(ml),x=d[0],b=d[1];return id(function(){var E=Pi.transition;Pi.transition={};try{b(c)}finally{Pi.transition=E}},[c]),x},useTransition:function(){var c=Sm(ml)[0],d=Ps().memoizedState;return[c,d]},useMutableSource:KA,useSyncExternalStore:JA,useId:uC,unstable_isNewReconciler:!1},A5={readContext:Ti,useCallback:aC,useContext:Ti,useEffect:id,useImperativeHandle:oC,useInsertionEffect:rC,useLayoutEffect:iC,useMemo:lC,useReducer:bm,useRef:nC,useState:function(){return bm(ml)},useDebugValue:Y_,useDeferredValue:function(c){var d=bm(ml),x=d[0],b=d[1];return id(function(){var E=Pi.transition;Pi.transition={};try{b(c)}finally{Pi.transition=E}},[c]),x},useTransition:function(){var c=bm(ml)[0],d=Ps().memoizedState;return[c,d]},useMutableSource:KA,useSyncExternalStore:JA,useId:uC,unstable_isNewReconciler:!1};function K_(c,d){try{var x="",b=d;do x+=x5(b),b=b.return;while(b);var E=x}catch(C){E=`
Error generating stack: `+C.message+`
`+C.stack}return{value:c,source:d,stack:E}}function J_(c,d){try{console.error(d.value)}catch(x){setTimeout(function(){throw x})}}var C5=typeof WeakMap=="function"?WeakMap:Map;function pC(c,d,x){x=oo(-1,x),x.tag=3,x.payload={element:null};var b=d.value;return x.callback=function(){Hm||(Hm=!0,mx=b),J_(c,d)},x}function mC(c,d,x){x=oo(-1,x),x.tag=3;var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var E=d.value;x.payload=function(){return b(E)},x.callback=function(){J_(c,d)}}var C=c.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(x.callback=function(){J_(c,d),typeof b!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var H=d.stack;this.componentDidCatch(d.value,{componentStack:H!==null?H:""})}),x}function gC(c,d,x){var b=c.pingCache;if(b===null){b=c.pingCache=new C5;var E=new Set;b.set(d,E)}else E=b.get(d),E===void 0&&(E=new Set,b.set(d,E));E.has(x)||(E.add(x),c=H5.bind(null,c,d,x),d.then(c,c))}function vC(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function yC(c,d,x,b,E){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(d=oo(-1,1),d.tag=2,Qo(x,d))),x.lanes|=1),c):(c.flags|=65536,c.lanes=E,c)}function Rs(c){c.flags|=4}function _C(c,d){if(c!==null&&c.child===d.child)return!0;if((d.flags&16)!==0)return!1;for(c=d.child;c!==null;){if((c.flags&12854)!==0||(c.subtreeFlags&12854)!==0)return!1;c=c.sibling}return!0}var sd,od,Am,Cm;if(Ke)sd=function(c,d){for(var x=d.child;x!==null;){if(x.tag===5||x.tag===6)Y(c,x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},od=function(){},Am=function(c,d,x,b,E){if(c=c.memoizedProps,c!==b){var C=d.stateNode,H=Cs(Ci.current);x=se(C,x,c,b,E,H),(d.updateQueue=x)&&Rs(d)}},Cm=function(c,d,x,b){x!==b&&Rs(d)};else if(ve){sd=function(c,d,x,b){for(var E=d.child;E!==null;){if(E.tag===5){var C=E.stateNode;x&&b&&(C=Wt(C,E.type,E.memoizedProps,E)),Y(c,C)}else if(E.tag===6)C=E.stateNode,x&&b&&(C=xi(C,E.memoizedProps,E)),Y(c,C);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)C=E.child,C!==null&&(C.return=E),sd(c,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===d)break;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var xC=function(c,d,x,b){for(var E=d.child;E!==null;){if(E.tag===5){var C=E.stateNode;x&&b&&(C=Wt(C,E.type,E.memoizedProps,E)),bn(c,C)}else if(E.tag===6)C=E.stateNode,x&&b&&(C=xi(C,E.memoizedProps,E)),bn(c,C);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)C=E.child,C!==null&&(C.return=E),xC(c,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===d)break;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};od=function(c,d){var x=d.stateNode;if(!_C(c,d)){c=x.containerInfo;var b=Pt(c);xC(b,d,!1,!1),x.pendingChildren=b,Rs(d),Hn(c,b)}},Am=function(c,d,x,b,E){var C=c.stateNode,H=c.memoizedProps;if((c=_C(c,d))&&H===b)d.stateNode=C;else{var J=d.stateNode,me=Cs(Ci.current),Oe=null;H!==b&&(Oe=se(J,x,H,b,E,me)),c&&Oe===null?d.stateNode=C:(C=Qe(C,Oe,x,H,b,d,c,J),ae(C,x,b,E,me)&&Rs(d),d.stateNode=C,c?Rs(d):sd(C,d,!1,!1))}},Cm=function(c,d,x,b){x!==b?(c=Cs(Wu.current),x=Cs(Ci.current),d.stateNode=oe(b,c,x,d),Rs(d)):d.stateNode=c.stateNode}}else od=function(){},Am=function(){},Cm=function(){};function ad(c,d){if(!an)switch(c.tailMode){case"hidden":d=c.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var b=null;x!==null;)x.alternate!==null&&(b=x),x=x.sibling;b===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function fr(c){var d=c.alternate!==null&&c.alternate.child===c.child,x=0,b=0;if(d)for(var E=c.child;E!==null;)x|=E.lanes|E.childLanes,b|=E.subtreeFlags&14680064,b|=E.flags&14680064,E.return=c,E=E.sibling;else for(E=c.child;E!==null;)x|=E.lanes|E.childLanes,b|=E.subtreeFlags,b|=E.flags,E.return=c,E=E.sibling;return c.subtreeFlags|=b,c.childLanes=x,d}function P5(c,d,x){var b=d.pendingProps;switch(k_(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(d),null;case 1:return kr(d.type)&&rm(),fr(d),null;case 3:return b=d.stateNode,$u(),pt(Gn),pt(Ft),G_(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(c===null||c.child===null)&&(Jf(d)?Rs(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Qi!==null&&(yx(Qi),Qi=null))),od(c,d),fr(d),null;case 5:V_(d),x=Cs(Wu.current);var E=d.type;if(c!==null&&d.stateNode!=null)Am(c,d,E,b,x),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!b){if(d.stateNode===null)throw Error(o(166));return fr(d),null}if(c=Cs(Ci.current),Jf(d)){if(!fe)throw Error(o(175));c=rt(d.stateNode,d.type,d.memoizedProps,x,c,d,!Kf),d.updateQueue=c,c!==null&&Rs(d)}else{var C=X(E,b,x,c,d);sd(C,d,!1,!1),d.stateNode=C,ae(C,E,b,x,c)&&Rs(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return fr(d),null;case 6:if(c&&d.stateNode!=null)Cm(c,d,c.memoizedProps,b);else{if(typeof b!="string"&&d.stateNode===null)throw Error(o(166));if(c=Cs(Wu.current),x=Cs(Ci.current),Jf(d)){if(!fe)throw Error(o(176));if(c=d.stateNode,b=d.memoizedProps,(x=at(c,b,d,!Kf))&&(E=Zr,E!==null))switch(C=(E.mode&1)!==0,E.tag){case 3:Ko(E.stateNode.containerInfo,c,b,C);break;case 5:Jo(E.type,E.memoizedProps,E.stateNode,c,b,C)}x&&Rs(d)}else d.stateNode=oe(b,c,x,d)}return fr(d),null;case 13:if(pt(cn),b=d.memoizedState,an&&Qr!==null&&(d.mode&1)!==0&&(d.flags&128)===0){for(c=Qr;c;)c=ue(c);return Gu(),d.flags|=98560,d}if(b!==null&&b.dehydrated!==null){if(b=Jf(d),c===null){if(!b)throw Error(o(318));if(!fe)throw Error(o(344));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));gt(c,d)}else Gu(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;return fr(d),null}return Qi!==null&&(yx(Qi),Qi=null),(d.flags&128)!==0?(d.lanes=x,d):(b=b!==null,x=!1,c===null?Jf(d):x=c.memoizedState!==null,b&&!x&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(cn.current&1)!==0?kn===0&&(kn=3):xx())),d.updateQueue!==null&&(d.flags|=4),fr(d),null);case 4:return $u(),od(c,d),c===null&&Be(d.stateNode.containerInfo),fr(d),null;case 10:return R_(d.type._context),fr(d),null;case 17:return kr(d.type)&&rm(),fr(d),null;case 19:if(pt(cn),E=d.memoizedState,E===null)return fr(d),null;if(b=(d.flags&128)!==0,C=E.rendering,C===null)if(b)ad(E,!1);else{if(kn!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(C=_m(c),C!==null){for(d.flags|=128,ad(E,!1),c=C.updateQueue,c!==null&&(d.updateQueue=c,d.flags|=4),d.subtreeFlags=0,c=x,b=d.child;b!==null;)x=b,E=c,x.flags&=14680066,C=x.alternate,C===null?(x.childLanes=0,x.lanes=E,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=C.childLanes,x.lanes=C.lanes,x.child=C.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=C.memoizedProps,x.memoizedState=C.memoizedState,x.updateQueue=C.updateQueue,x.type=C.type,E=C.dependencies,x.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),b=b.sibling;return Et(cn,cn.current&1|2),d.child}c=c.sibling}E.tail!==null&&jn()>px&&(d.flags|=128,b=!0,ad(E,!1),d.lanes=4194304)}else{if(!b)if(c=_m(C),c!==null){if(d.flags|=128,b=!0,c=c.updateQueue,c!==null&&(d.updateQueue=c,d.flags|=4),ad(E,!0),E.tail===null&&E.tailMode==="hidden"&&!C.alternate&&!an)return fr(d),null}else 2*jn()-E.renderingStartTime>px&&x!==1073741824&&(d.flags|=128,b=!0,ad(E,!1),d.lanes=4194304);E.isBackwards?(C.sibling=d.child,d.child=C):(c=E.last,c!==null?c.sibling=C:d.child=C,E.last=C)}return E.tail!==null?(d=E.tail,E.rendering=d,E.tail=d.sibling,E.renderingStartTime=jn(),d.sibling=null,c=cn.current,Et(cn,b?c&1|2:c&1),d):(fr(d),null);case 22:case 23:return _x(),b=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==b&&(d.flags|=8192),b&&(d.mode&1)!==0?(ti&1073741824)!==0&&(fr(d),Ke&&d.subtreeFlags&6&&(d.flags|=8192)):fr(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var R5=a.ReactCurrentOwner,ei=!1;function br(c,d,x,b){d.child=c===null?XA(d,null,x,b):ju(d,c.child,x,b)}function wC(c,d,x,b,E){x=x.render;var C=d.ref;return Bu(d,E),b=W_(c,d,x,b,C,E),x=$_(),c!==null&&!ei?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~E,co(c,d,E)):(an&&x&&N_(d),d.flags|=1,br(c,d,b,E),d.child)}function SC(c,d,x,b,E){if(c===null){var C=x.type;return typeof C=="function"&&!wx(C)&&C.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(d.tag=15,d.type=C,bC(c,d,C,b,E)):(c=Ym(x.type,null,b,d,d.mode,E),c.ref=d.ref,c.return=d,d.child=c)}if(C=c.child,(c.lanes&E)===0){var H=C.memoizedProps;if(x=x.compare,x=x!==null?x:cm,x(H,b)&&c.ref===d.ref)return co(c,d,E)}return d.flags|=1,c=ia(C,b),c.ref=d.ref,c.return=d,d.child=c}function bC(c,d,x,b,E){if(c!==null&&cm(c.memoizedProps,b)&&c.ref===d.ref)if(ei=!1,(c.lanes&E)!==0)(c.flags&131072)!==0&&(ei=!0);else return d.lanes=c.lanes,co(c,d,E);return Z_(c,d,x,b,E)}function MC(c,d,x){var b=d.pendingProps,E=b.children,C=c!==null?c.memoizedState:null;if(b.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null},Et(Xu,ti),ti|=x;else if((x&1073741824)!==0)d.memoizedState={baseLanes:0,cachePool:null},b=C!==null?C.baseLanes:x,Et(Xu,ti),ti|=b;else return c=C!==null?C.baseLanes|x:x,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null},d.updateQueue=null,Et(Xu,ti),ti|=c,null;else C!==null?(b=C.baseLanes|x,d.memoizedState=null):b=x,Et(Xu,ti),ti|=b;return br(c,d,E,x),d.child}function TC(c,d){var x=d.ref;(c===null&&x!==null||c!==null&&c.ref!==x)&&(d.flags|=512,d.flags|=2097152)}function Z_(c,d,x,b,E){var C=kr(x)?ro:Ft.current;return C=io(d,C),Bu(d,E),x=W_(c,d,x,b,C,E),b=$_(),c!==null&&!ei?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~E,co(c,d,E)):(an&&b&&N_(d),d.flags|=1,br(c,d,x,E),d.child)}function EC(c,d,x,b,E){if(kr(x)){var C=!0;im(d)}else C=!1;if(Bu(d,E),d.stateNode===null)c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),BA(d,x,b),D_(d,x,b,E),b=!0;else if(c===null){var H=d.stateNode,J=d.memoizedProps;H.props=J;var me=H.context,Oe=x.contextType;typeof Oe=="object"&&Oe!==null?Oe=Ti(Oe):(Oe=kr(x)?ro:Ft.current,Oe=io(d,Oe));var qe=x.getDerivedStateFromProps,ct=typeof qe=="function"||typeof H.getSnapshotBeforeUpdate=="function";ct||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(J!==b||me!==Oe)&&VA(d,H,b,Oe),Zo=!1;var st=d.memoizedState;H.state=st,pm(d,b,H,E),me=d.memoizedState,J!==b||st!==me||Gn.current||Zo?(typeof qe=="function"&&(I_(d,x,qe,b),me=d.memoizedState),(J=Zo||UA(d,x,J,b,st,me,Oe))?(ct||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(d.flags|=4194308)):(typeof H.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=me),H.props=b,H.state=me,H.context=Oe,b=J):(typeof H.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{H=d.stateNode,NA(c,d),J=d.memoizedProps,Oe=d.type===d.elementType?J:Zi(d.type,J),H.props=Oe,ct=d.pendingProps,st=H.context,me=x.contextType,typeof me=="object"&&me!==null?me=Ti(me):(me=kr(x)?ro:Ft.current,me=io(d,me));var $t=x.getDerivedStateFromProps;(qe=typeof $t=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(J!==ct||st!==me)&&VA(d,H,b,me),Zo=!1,st=d.memoizedState,H.state=st,pm(d,b,H,E);var et=d.memoizedState;J!==ct||st!==et||Gn.current||Zo?(typeof $t=="function"&&(I_(d,x,$t,b),et=d.memoizedState),(Oe=Zo||UA(d,x,Oe,b,st,et,me)||!1)?(qe||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(b,et,me),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(b,et,me)),typeof H.componentDidUpdate=="function"&&(d.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof H.componentDidUpdate!="function"||J===c.memoizedProps&&st===c.memoizedState||(d.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&st===c.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=et),H.props=b,H.state=et,H.context=me,b=Oe):(typeof H.componentDidUpdate!="function"||J===c.memoizedProps&&st===c.memoizedState||(d.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||J===c.memoizedProps&&st===c.memoizedState||(d.flags|=1024),b=!1)}return Q_(c,d,x,b,C,E)}function Q_(c,d,x,b,E,C){TC(c,d);var H=(d.flags&128)!==0;if(!b&&!H)return E&&RA(d,x,!1),co(c,d,C);b=d.stateNode,R5.current=d;var J=H&&typeof x.getDerivedStateFromError!="function"?null:b.render();return d.flags|=1,c!==null&&H?(d.child=ju(d,c.child,null,C),d.child=ju(d,null,J,C)):br(c,d,J,C),d.memoizedState=b.state,E&&RA(d,x,!0),d.child}function AC(c){var d=c.stateNode;d.pendingContext?CA(c,d.pendingContext,d.pendingContext!==d.context):d.context&&CA(c,d.context,!1),B_(c,d.containerInfo)}function CC(c,d,x,b,E){return Gu(),U_(E),d.flags|=256,br(c,d,x,b),d.child}var Pm={dehydrated:null,treeContext:null,retryLane:0};function Rm(c){return{baseLanes:c,cachePool:null}}function PC(c,d,x){var b=d.pendingProps,E=cn.current,C=!1,H=(d.flags&128)!==0,J;if((J=H)||(J=c!==null&&c.memoizedState===null?!1:(E&2)!==0),J?(C=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(E|=1),Et(cn,E&1),c===null)return z_(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:qf(c)?d.lanes=8:d.lanes=1073741824,null):(E=b.children,c=b.fallback,C?(b=d.mode,C=d.child,E={mode:"hidden",children:E},(b&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=E):C=Km(E,b,0,null),c=wl(c,b,x,null),C.return=d,c.return=d,C.sibling=c,d.child=C,d.child.memoizedState=Rm(x),d.memoizedState=Pm,c):ex(d,E));if(E=c.memoizedState,E!==null){if(J=E.dehydrated,J!==null){if(H)return d.flags&256?(d.flags&=-257,Lm(c,d,x,Error(o(422)))):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(C=b.fallback,E=d.mode,b=Km({mode:"visible",children:b.children},E,0,null),C=wl(C,E,x,null),C.flags|=2,b.return=d,C.return=d,b.sibling=C,d.child=b,(d.mode&1)!==0&&ju(d,c.child,null,x),d.child.memoizedState=Rm(x),d.memoizedState=Pm,C);if((d.mode&1)===0)d=Lm(c,d,x,null);else if(qf(J))d=Lm(c,d,x,Error(o(419)));else if(b=(x&c.childLanes)!==0,ei||b){if(b=Pn,b!==null){switch(x&-x){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}b=(C&(b.suspendedLanes|x))!==0?0:C,b!==0&&b!==E.retryLane&&(E.retryLane=b,Ri(c,b,-1))}xx(),d=Lm(c,d,x,Error(o(421)))}else nm(J)?(d.flags|=128,d.child=c.child,d=G5.bind(null,c),V(J,d),d=null):(x=E.treeContext,fe&&(Qr=Se(J),Zr=d,an=!0,Qi=null,Kf=!1,x!==null&&(Ei[Ai++]=ao,Ei[Ai++]=lo,Ei[Ai++]=hl,ao=x.id,lo=x.overflow,hl=d)),d=ex(d,d.pendingProps.children),d.flags|=4096);return d}return C?(b=LC(c,d,b.children,b.fallback,x),C=d.child,E=c.child.memoizedState,C.memoizedState=E===null?Rm(x):{baseLanes:E.baseLanes|x,cachePool:null},C.childLanes=c.childLanes&~x,d.memoizedState=Pm,b):(x=RC(c,d,b.children,x),d.memoizedState=null,x)}return C?(b=LC(c,d,b.children,b.fallback,x),C=d.child,E=c.child.memoizedState,C.memoizedState=E===null?Rm(x):{baseLanes:E.baseLanes|x,cachePool:null},C.childLanes=c.childLanes&~x,d.memoizedState=Pm,b):(x=RC(c,d,b.children,x),d.memoizedState=null,x)}function ex(c,d){return d=Km({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function RC(c,d,x,b){var E=c.child;return c=E.sibling,x=ia(E,{mode:"visible",children:x}),(d.mode&1)===0&&(x.lanes=b),x.return=d,x.sibling=null,c!==null&&(b=d.deletions,b===null?(d.deletions=[c],d.flags|=16):b.push(c)),d.child=x}function LC(c,d,x,b,E){var C=d.mode;c=c.child;var H=c.sibling,J={mode:"hidden",children:x};return(C&1)===0&&d.child!==c?(x=d.child,x.childLanes=0,x.pendingProps=J,d.deletions=null):(x=ia(c,J),x.subtreeFlags=c.subtreeFlags&14680064),H!==null?b=ia(H,b):(b=wl(b,C,E,null),b.flags|=2),b.return=d,x.return=d,x.sibling=b,d.child=x,b}function Lm(c,d,x,b){return b!==null&&U_(b),ju(d,c.child,null,x),c=ex(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function OC(c,d,x){c.lanes|=d;var b=c.alternate;b!==null&&(b.lanes|=d),L_(c.return,d,x)}function tx(c,d,x,b,E){var C=c.memoizedState;C===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:x,tailMode:E}:(C.isBackwards=d,C.rendering=null,C.renderingStartTime=0,C.last=b,C.tail=x,C.tailMode=E)}function IC(c,d,x){var b=d.pendingProps,E=b.revealOrder,C=b.tail;if(br(c,d,b.children,x),b=cn.current,(b&2)!==0)b=b&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&OC(c,x,d);else if(c.tag===19)OC(c,x,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}if(Et(cn,b),(d.mode&1)===0)d.memoizedState=null;else switch(E){case"forwards":for(x=d.child,E=null;x!==null;)c=x.alternate,c!==null&&_m(c)===null&&(E=x),x=x.sibling;x=E,x===null?(E=d.child,d.child=null):(E=x.sibling,x.sibling=null),tx(d,!1,E,x,C);break;case"backwards":for(x=null,E=d.child,d.child=null;E!==null;){if(c=E.alternate,c!==null&&_m(c)===null){d.child=E;break}c=E.sibling,E.sibling=x,x=E,E=c}tx(d,!0,x,null,C);break;case"together":tx(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function co(c,d,x){if(c!==null&&(d.dependencies=c.dependencies),Yu|=d.lanes,(x&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(o(153));if(d.child!==null){for(c=d.child,x=ia(c,c.pendingProps),d.child=x,x.return=d;c.sibling!==null;)c=c.sibling,x=x.sibling=ia(c,c.pendingProps),x.return=d;x.sibling=null}return d.child}function L5(c,d,x){switch(d.tag){case 3:AC(d),Gu();break;case 5:YA(d);break;case 1:kr(d.type)&&im(d);break;case 4:B_(d,d.stateNode.containerInfo);break;case 10:DA(d,d.type._context,d.memoizedProps.value);break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(Et(cn,cn.current&1),d.flags|=128,null):(x&d.child.childLanes)!==0?PC(c,d,x):(Et(cn,cn.current&1),c=co(c,d,x),c!==null?c.sibling:null);Et(cn,cn.current&1);break;case 19:if(b=(x&d.childLanes)!==0,(c.flags&128)!==0){if(b)return IC(c,d,x);d.flags|=128}var E=d.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),Et(cn,cn.current),b)break;return null;case 22:case 23:return d.lanes=0,MC(c,d,x)}return co(c,d,x)}function O5(c,d){switch(k_(d),d.tag){case 1:return kr(d.type)&&rm(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return $u(),pt(Gn),pt(Ft),G_(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return V_(d),null;case 13:if(pt(cn),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(o(340));Gu()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return pt(cn),null;case 4:return $u(),null;case 10:return R_(d.type._context),null;case 22:case 23:return _x(),null;case 24:return null;default:return null}}var Om=!1,gl=!1,I5=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Im(c,d){var x=c.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(b){Ur(c,d,b)}else x.current=null}function nx(c,d,x){try{x()}catch(b){Ur(c,d,b)}}var DC=!1;function D5(c,d){for(N(c.containerInfo),Ve=d;Ve!==null;)if(c=Ve,d=c.child,(c.subtreeFlags&1028)!==0&&d!==null)d.return=c,Ve=d;else for(;Ve!==null;){c=Ve;try{var x=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,E=x.memoizedState,C=c.stateNode,H=C.getSnapshotBeforeUpdate(c.elementType===c.type?b:Zi(c.type,b),E);C.__reactInternalSnapshotBeforeUpdate=H}break;case 3:Ke&&je(c.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(J){Ur(c,c.return,J)}if(d=c.sibling,d!==null){d.return=c.return,Ve=d;break}Ve=c.return}return x=DC,DC=!1,x}function vl(c,d,x){var b=d.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var E=b=b.next;do{if((E.tag&c)===c){var C=E.destroy;E.destroy=void 0,C!==void 0&&nx(d,x,C)}E=E.next}while(E!==b)}}function ld(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&c)===c){var b=x.create;x.destroy=b()}x=x.next}while(x!==d)}}function rx(c){var d=c.ref;if(d!==null){var x=c.stateNode;switch(c.tag){case 5:c=$(x);break;default:c=x}typeof d=="function"?d(c):d.current=c}}function NC(c,d,x){if(Ms&&typeof Ms.onCommitFiberUnmount=="function")try{Ms.onCommitFiberUnmount(lm,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(c=d.updateQueue,c!==null&&(c=c.lastEffect,c!==null)){var b=c=c.next;do{var E=b,C=E.destroy;E=E.tag,C!==void 0&&((E&2)!==0||(E&4)!==0)&&nx(d,x,C),b=b.next}while(b!==c)}break;case 1:if(Im(d,x),c=d.stateNode,typeof c.componentWillUnmount=="function")try{c.props=d.memoizedProps,c.state=d.memoizedState,c.componentWillUnmount()}catch(H){Ur(d,x,H)}break;case 5:Im(d,x);break;case 4:Ke?VC(c,d,x):ve&&ve&&(d=d.stateNode.containerInfo,x=Pt(d),Ss(d,x))}}function kC(c,d,x){for(var b=d;;)if(NC(c,b,x),b.child===null||Ke&&b.tag===4){if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}else b.child.return=b,b=b.child}function FC(c){var d=c.alternate;d!==null&&(c.alternate=null,FC(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&tt(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function zC(c){return c.tag===5||c.tag===3||c.tag===4}function UC(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||zC(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function BC(c){if(Ke){e:{for(var d=c.return;d!==null;){if(zC(d))break e;d=d.return}throw Error(o(160))}var x=d;switch(x.tag){case 5:d=x.stateNode,x.flags&32&&(xt(d),x.flags&=-33),x=UC(c),sx(c,x,d);break;case 3:case 4:d=x.stateNode.containerInfo,x=UC(c),ix(c,x,d);break;default:throw Error(o(161))}}}function ix(c,d,x){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?Ae(x,c,d):ke(x,c);else if(b!==4&&(c=c.child,c!==null))for(ix(c,d,x),c=c.sibling;c!==null;)ix(c,d,x),c=c.sibling}function sx(c,d,x){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?de(x,c,d):nt(x,c);else if(b!==4&&(c=c.child,c!==null))for(sx(c,d,x),c=c.sibling;c!==null;)sx(c,d,x),c=c.sibling}function VC(c,d,x){for(var b=d,E=!1,C,H;;){if(!E){E=b.return;e:for(;;){if(E===null)throw Error(o(160));switch(C=E.stateNode,E.tag){case 5:H=!1;break e;case 3:C=C.containerInfo,H=!0;break e;case 4:C=C.containerInfo,H=!0;break e}E=E.return}E=!0}if(b.tag===5||b.tag===6)kC(c,b,x),H?it(C,b.stateNode):Ie(C,b.stateNode);else if(b.tag===18)H?sn(C,b.stateNode):Tt(C,b.stateNode);else if(b.tag===4){if(b.child!==null){C=b.stateNode.containerInfo,H=!0,b.child.return=b,b=b.child;continue}}else if(NC(c,b,x),b.child!==null){b.child.return=b,b=b.child;continue}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return,b.tag===4&&(E=!1)}b.sibling.return=b.return,b=b.sibling}}function ox(c,d){if(Ke){switch(d.tag){case 0:case 11:case 14:case 15:vl(3,d,d.return),ld(3,d),vl(5,d,d.return);return;case 1:return;case 5:var x=d.stateNode;if(x!=null){var b=d.memoizedProps;c=c!==null?c.memoizedProps:b;var E=d.type,C=d.updateQueue;d.updateQueue=null,C!==null&&q(x,C,E,c,b,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));x=d.memoizedProps,xe(d.stateNode,c!==null?c.memoizedProps:x,x);return;case 3:fe&&c!==null&&c.memoizedState.isDehydrated&&Rt(d.stateNode.containerInfo);return;case 12:return;case 13:Dm(d);return;case 19:Dm(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:vl(3,d,d.return),ld(3,d),vl(5,d,d.return);return;case 12:return;case 13:Dm(d);return;case 19:Dm(d);return;case 3:fe&&c!==null&&c.memoizedState.isDehydrated&&Rt(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(ve){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,Ss(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function Dm(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var x=c.stateNode;x===null&&(x=c.stateNode=new I5),d.forEach(function(b){var E=j5.bind(null,c,b);x.has(b)||(x.add(b),b.then(E,E))})}}function N5(c,d){for(Ve=d;Ve!==null;){d=Ve;var x=d.deletions;if(x!==null)for(var b=0;b<x.length;b++){var E=x[b];try{var C=c;Ke?VC(C,E,d):kC(C,E,d);var H=E.alternate;H!==null&&(H.return=null),E.return=null}catch(Ze){Ur(E,d,Ze)}}if(x=d.child,(d.subtreeFlags&12854)!==0&&x!==null)x.return=d,Ve=x;else for(;Ve!==null;){d=Ve;try{var J=d.flags;if(J&32&&Ke&&xt(d.stateNode),J&512){var me=d.alternate;if(me!==null){var Oe=me.ref;Oe!==null&&(typeof Oe=="function"?Oe(null):Oe.current=null)}}if(J&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var qe=d.alternate;(qe===null||qe.memoizedState===null)&&(hx=jn())}break;case 22:var ct=d.memoizedState!==null,st=d.alternate,$t=st!==null&&st.memoizedState!==null;if(x=d,Ke){e:if(b=x,E=ct,C=null,Ke)for(var et=b;;){if(et.tag===5){if(C===null){C=et;var dr=et.stateNode;E?Qt(dr):pe(et.stateNode,et.memoizedProps)}}else if(et.tag===6){if(C===null){var Oi=et.stateNode;E?K(Oi):Te(Oi,et.memoizedProps)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===b)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===b)break;for(;et.sibling===null;){if(et.return===null||et.return===b)break e;C===et&&(C=null),et=et.return}C===et&&(C=null),et.sibling.return=et.return,et=et.sibling}}if(ct&&!$t&&(x.mode&1)!==0){Ve=x;for(var ce=x.child;ce!==null;){for(x=Ve=ce;Ve!==null;){b=Ve;var ee=b.child;switch(b.tag){case 0:case 11:case 14:case 15:vl(4,b,b.return);break;case 1:Im(b,b.return);var he=b.stateNode;if(typeof he.componentWillUnmount=="function"){var Ge=b.return;try{he.props=b.memoizedProps,he.state=b.memoizedState,he.componentWillUnmount()}catch(Ze){Ur(b,Ge,Ze)}}break;case 5:Im(b,b.return);break;case 22:if(b.memoizedState!==null){jC(x);continue}}ee!==null?(ee.return=b,Ve=ee):jC(x)}ce=ce.sibling}}}switch(J&4102){case 2:BC(d),d.flags&=-3;break;case 6:BC(d),d.flags&=-3,ox(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,ox(d.alternate,d);break;case 4:ox(d.alternate,d)}}catch(Ze){Ur(d,d.return,Ze)}if(x=d.sibling,x!==null){x.return=d.return,Ve=x;break}Ve=d.return}}}function k5(c,d,x){Ve=c,HC(c)}function HC(c,d,x){for(var b=(c.mode&1)!==0;Ve!==null;){var E=Ve,C=E.child;if(E.tag===22&&b){var H=E.memoizedState!==null||Om;if(!H){var J=E.alternate,me=J!==null&&J.memoizedState!==null||gl;J=Om;var Oe=gl;if(Om=H,(gl=me)&&!Oe)for(Ve=E;Ve!==null;)H=Ve,me=H.child,H.tag===22&&H.memoizedState!==null?WC(E):me!==null?(me.return=H,Ve=me):WC(E);for(;C!==null;)Ve=C,HC(C),C=C.sibling;Ve=E,Om=J,gl=Oe}GC(c)}else(E.subtreeFlags&8772)!==0&&C!==null?(C.return=E,Ve=C):GC(c)}}function GC(c){for(;Ve!==null;){var d=Ve;if((d.flags&8772)!==0){var x=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:gl||ld(5,d);break;case 1:var b=d.stateNode;if(d.flags&4&&!gl)if(x===null)b.componentDidMount();else{var E=d.elementType===d.type?x.memoizedProps:Zi(d.type,x.memoizedProps);b.componentDidUpdate(E,x.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var C=d.updateQueue;C!==null&&FA(d,C,b);break;case 3:var H=d.updateQueue;if(H!==null){if(x=null,d.child!==null)switch(d.child.tag){case 5:x=$(d.child.stateNode);break;case 1:x=d.child.stateNode}FA(d,H,x)}break;case 5:var J=d.stateNode;x===null&&d.flags&4&&Je(J,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(fe&&d.memoizedState===null){var me=d.alternate;if(me!==null){var Oe=me.memoizedState;if(Oe!==null){var qe=Oe.dehydrated;qe!==null&&wt(qe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}gl||d.flags&512&&rx(d)}catch(ct){Ur(d,d.return,ct)}}if(d===c){Ve=null;break}if(x=d.sibling,x!==null){x.return=d.return,Ve=x;break}Ve=d.return}}function jC(c){for(;Ve!==null;){var d=Ve;if(d===c){Ve=null;break}var x=d.sibling;if(x!==null){x.return=d.return,Ve=x;break}Ve=d.return}}function WC(c){for(;Ve!==null;){var d=Ve;try{switch(d.tag){case 0:case 11:case 15:var x=d.return;try{ld(4,d)}catch(me){Ur(d,x,me)}break;case 1:var b=d.stateNode;if(typeof b.componentDidMount=="function"){var E=d.return;try{b.componentDidMount()}catch(me){Ur(d,E,me)}}var C=d.return;try{rx(d)}catch(me){Ur(d,C,me)}break;case 5:var H=d.return;try{rx(d)}catch(me){Ur(d,H,me)}}}catch(me){Ur(d,d.return,me)}if(d===c){Ve=null;break}var J=d.sibling;if(J!==null){J.return=d.return,Ve=J;break}Ve=d.return}}var Nm=0,km=1,Fm=2,zm=3,Um=4;if(typeof Symbol=="function"&&Symbol.for){var ud=Symbol.for;Nm=ud("selector.component"),km=ud("selector.has_pseudo_class"),Fm=ud("selector.role"),zm=ud("selector.test_id"),Um=ud("selector.text")}function ax(c){var d=Me(c);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(c=Ee(c),c===null)throw Error(o(362));return c.stateNode.current}function lx(c,d){switch(d.$$typeof){case Nm:if(c.type===d.value)return!0;break;case km:e:{d=d.value,c=[c,0];for(var x=0;x<c.length;){var b=c[x++],E=c[x++],C=d[E];if(b.tag!==5||!te(b)){for(;C!=null&&lx(b,C);)E++,C=d[E];if(E===d.length){d=!0;break e}else for(b=b.child;b!==null;)c.push(b,E),b=b.sibling}}d=!1}return d;case Fm:if(c.tag===5&&ye(c.stateNode,d.value))return!0;break;case Um:if((c.tag===5||c.tag===6)&&(c=D(c),c!==null&&0<=c.indexOf(d.value)))return!0;break;case zm:if(c.tag===5&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ux(c){switch(c.$$typeof){case Nm:return"<"+(L(c.value)||"Unknown")+">";case km:return":has("+(ux(c)||"")+")";case Fm:return'[role="'+c.value+'"]';case Um:return'"'+c.value+'"';case zm:return'[data-testname="'+c.value+'"]';default:throw Error(o(365))}}function $C(c,d){var x=[];c=[c,0];for(var b=0;b<c.length;){var E=c[b++],C=c[b++],H=d[C];if(E.tag!==5||!te(E)){for(;H!=null&&lx(E,H);)C++,H=d[C];if(C===d.length)x.push(E);else for(E=E.child;E!==null;)c.push(E,C),E=E.sibling}}return x}function cx(c,d){if(!re)throw Error(o(363));c=ax(c),c=$C(c,d),d=[],c=Array.from(c);for(var x=0;x<c.length;){var b=c[x++];if(b.tag===5)te(b)||d.push(b.stateNode);else for(b=b.child;b!==null;)c.push(b),b=b.sibling}return d}var F5=Math.ceil,Bm=a.ReactCurrentDispatcher,fx=a.ReactCurrentOwner,Mn=a.ReactCurrentBatchConfig,_t=0,Pn=null,Rn=null,tr=0,ti=0,Xu=bi(0),kn=0,cd=null,Yu=0,Vm=0,dx=0,fd=null,Fr=null,hx=0,px=1/0;function Ku(){px=jn()+500}var Hm=!1,mx=null,ea=null,Gm=!1,ta=null,jm=0,dd=0,gx=null,Wm=-1,$m=0;function Mr(){return(_t&6)!==0?jn():Wm!==-1?Wm:Wm=jn()}function na(c){return(c.mode&1)===0?1:(_t&2)!==0&&tr!==0?tr&-tr:_5.transition!==null?($m===0&&(c=sm,sm<<=1,(sm&4194240)===0&&(sm=64),$m=c),$m):(c=Ot,c!==0?c:Re())}function Ri(c,d,x){if(50<dd)throw dd=0,gx=null,Error(o(185));var b=qm(c,d);return b===null?null:(Yf(b,d,x),((_t&2)===0||b!==Pn)&&(b===Pn&&((_t&2)===0&&(Vm|=d),kn===4&&ra(b,tr)),zr(b,x),d===1&&_t===0&&(c.mode&1)===0&&(Ku(),um&&Es())),b)}function qm(c,d){c.lanes|=d;var x=c.alternate;for(x!==null&&(x.lanes|=d),x=c,c=c.return;c!==null;)c.childLanes|=d,x=c.alternate,x!==null&&(x.childLanes|=d),x=c,c=c.return;return x.tag===3?x.stateNode:null}function zr(c,d){var x=c.callbackNode;c5(c,d);var b=am(c,c===Pn?tr:0);if(b===0)x!==null&&OA(x),c.callbackNode=null,c.callbackPriority=0;else if(d=b&-b,c.callbackPriority!==d){if(x!=null&&OA(x),d===1)c.tag===0?y5(XC.bind(null,c)):IA(XC.bind(null,c)),Xe?$e(function(){_t===0&&Es()}):M_(T_,Es),x=null;else{switch(LA(b)){case 1:x=T_;break;case 4:x=p5;break;case 16:x=E_;break;case 536870912:x=m5;break;default:x=E_}x=rP(x,qC.bind(null,c))}c.callbackPriority=d,c.callbackNode=x}}function qC(c,d){if(Wm=-1,$m=0,(_t&6)!==0)throw Error(o(327));var x=c.callbackNode;if(xl()&&c.callbackNode!==x)return null;var b=am(c,c===Pn?tr:0);if(b===0)return null;if((b&30)!==0||(b&c.expiredLanes)!==0||d)d=Xm(c,b);else{d=b;var E=_t;_t|=2;var C=JC();(Pn!==c||tr!==d)&&(Ku(),yl(c,d));do try{B5();break}catch(J){KC(c,J)}while(1);P_(),Bm.current=C,_t=E,Rn!==null?d=0:(Pn=null,tr=0,d=kn)}if(d!==0){if(d===2&&(E=w_(c),E!==0&&(b=E,d=vx(c,E))),d===1)throw x=cd,yl(c,0),ra(c,b),zr(c,jn()),x;if(d===6)ra(c,b);else{if(E=c.current.alternate,(b&30)===0&&!z5(E)&&(d=Xm(c,b),d===2&&(C=w_(c),C!==0&&(b=C,d=vx(c,C))),d===1))throw x=cd,yl(c,0),ra(c,b),zr(c,jn()),x;switch(c.finishedWork=E,c.finishedLanes=b,d){case 0:case 1:throw Error(o(345));case 2:_l(c,Fr);break;case 3:if(ra(c,b),(b&130023424)===b&&(d=hx+500-jn(),10<d)){if(am(c,0)!==0)break;if(E=c.suspendedLanes,(E&b)!==b){Mr(),c.pingedLanes|=c.suspendedLanes&E;break}c.timeoutHandle=Ne(_l.bind(null,c,Fr),d);break}_l(c,Fr);break;case 4:if(ra(c,b),(b&4194240)===b)break;for(d=c.eventTimes,E=-1;0<b;){var H=31-Ji(b);C=1<<H,H=d[H],H>E&&(E=H),b&=~C}if(b=E,b=jn()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*F5(b/1960))-b,10<b){c.timeoutHandle=Ne(_l.bind(null,c,Fr),b);break}_l(c,Fr);break;case 5:_l(c,Fr);break;default:throw Error(o(329))}}}return zr(c,jn()),c.callbackNode===x?qC.bind(null,c):null}function vx(c,d){var x=fd;return c.current.memoizedState.isDehydrated&&(yl(c,d).flags|=256),c=Xm(c,d),c!==2&&(d=Fr,Fr=x,d!==null&&yx(d)),c}function yx(c){Fr===null?Fr=c:Fr.push.apply(Fr,c)}function z5(c){for(var d=c;;){if(d.flags&16384){var x=d.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var b=0;b<x.length;b++){var E=x[b],C=E.getSnapshot;E=E.value;try{if(!Ts(C(),E))return!1}catch{return!1}}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function ra(c,d){for(d&=~dx,d&=~Vm,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var x=31-Ji(d),b=1<<x;c[x]=-1,d&=~b}}function XC(c){if((_t&6)!==0)throw Error(o(327));xl();var d=am(c,0);if((d&1)===0)return zr(c,jn()),null;var x=Xm(c,d);if(c.tag!==0&&x===2){var b=w_(c);b!==0&&(d=b,x=vx(c,b))}if(x===1)throw x=cd,yl(c,0),ra(c,d),zr(c,jn()),x;if(x===6)throw Error(o(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,_l(c,Fr),zr(c,jn()),null}function YC(c){ta!==null&&ta.tag===0&&(_t&6)===0&&xl();var d=_t;_t|=1;var x=Mn.transition,b=Ot;try{if(Mn.transition=null,Ot=1,c)return c()}finally{Ot=b,Mn.transition=x,_t=d,(_t&6)===0&&Es()}}function _x(){ti=Xu.current,pt(Xu)}function yl(c,d){c.finishedWork=null,c.finishedLanes=0;var x=c.timeoutHandle;if(x!==He&&(c.timeoutHandle=He,Ue(x)),Rn!==null)for(x=Rn.return;x!==null;){var b=x;switch(k_(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&rm();break;case 3:$u(),pt(Gn),pt(Ft),G_();break;case 5:V_(b);break;case 4:$u();break;case 13:pt(cn);break;case 19:pt(cn);break;case 10:R_(b.type._context);break;case 22:case 23:_x()}x=x.return}if(Pn=c,Rn=c=ia(c.current,null),tr=ti=d,kn=0,cd=null,dx=Vm=Yu=0,Fr=fd=null,As!==null){for(d=0;d<As.length;d++)if(x=As[d],b=x.interleaved,b!==null){x.interleaved=null;var E=b.next,C=x.pending;if(C!==null){var H=C.next;C.next=E,b.next=H}x.pending=b}As=null}return c}function KC(c,d){do{var x=Rn;try{if(P_(),xm.current=Em,wm){for(var b=gn.memoizedState;b!==null;){var E=b.queue;E!==null&&(E.pending=null),b=b.next}wm=!1}if(qu=0,Wn=ur=gn=null,td=!1,nd=0,fx.current=null,x===null||x.return===null){kn=1,cd=d,Rn=null;break}e:{var C=c,H=x.return,J=x,me=d;if(d=tr,J.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Oe=me,qe=J,ct=qe.tag;if((qe.mode&1)===0&&(ct===0||ct===11||ct===15)){var st=qe.alternate;st?(qe.updateQueue=st.updateQueue,qe.memoizedState=st.memoizedState,qe.lanes=st.lanes):(qe.updateQueue=null,qe.memoizedState=null)}var $t=vC(H);if($t!==null){$t.flags&=-257,yC($t,H,J,C,d),$t.mode&1&&gC(C,Oe,d),d=$t,me=Oe;var et=d.updateQueue;if(et===null){var dr=new Set;dr.add(me),d.updateQueue=dr}else et.add(me);break e}else{if((d&1)===0){gC(C,Oe,d),xx();break e}me=Error(o(426))}}else if(an&&J.mode&1){var Oi=vC(H);if(Oi!==null){(Oi.flags&65536)===0&&(Oi.flags|=256),yC(Oi,H,J,C,d),U_(me);break e}}C=me,kn!==4&&(kn=2),fd===null?fd=[C]:fd.push(C),me=K_(me,J),J=H;do{switch(J.tag){case 3:J.flags|=65536,d&=-d,J.lanes|=d;var ce=pC(J,me,d);kA(J,ce);break e;case 1:C=me;var ee=J.type,he=J.stateNode;if((J.flags&128)===0&&(typeof ee.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(ea===null||!ea.has(he)))){J.flags|=65536,d&=-d,J.lanes|=d;var Ge=mC(J,C,d);kA(J,Ge);break e}}J=J.return}while(J!==null)}QC(x)}catch(Ze){d=Ze,Rn===x&&x!==null&&(Rn=x=x.return);continue}break}while(1)}function JC(){var c=Bm.current;return Bm.current=Em,c===null?Em:c}function xx(){(kn===0||kn===3||kn===2)&&(kn=4),Pn===null||(Yu&268435455)===0&&(Vm&268435455)===0||ra(Pn,tr)}function Xm(c,d){var x=_t;_t|=2;var b=JC();Pn===c&&tr===d||yl(c,d);do try{U5();break}catch(E){KC(c,E)}while(1);if(P_(),_t=x,Bm.current=b,Rn!==null)throw Error(o(261));return Pn=null,tr=0,kn}function U5(){for(;Rn!==null;)ZC(Rn)}function B5(){for(;Rn!==null&&!d5();)ZC(Rn)}function ZC(c){var d=nP(c.alternate,c,ti);c.memoizedProps=c.pendingProps,d===null?QC(c):Rn=d,fx.current=null}function QC(c){var d=c;do{var x=d.alternate;if(c=d.return,(d.flags&32768)===0){if(x=P5(x,d,ti),x!==null){Rn=x;return}}else{if(x=O5(x,d),x!==null){x.flags&=32767,Rn=x;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{kn=6,Rn=null;return}}if(d=d.sibling,d!==null){Rn=d;return}Rn=d=c}while(d!==null);kn===0&&(kn=5)}function _l(c,d){var x=Ot,b=Mn.transition;try{Mn.transition=null,Ot=1,V5(c,d,x)}finally{Mn.transition=b,Ot=x}return null}function V5(c,d,x){do xl();while(ta!==null);if((_t&6)!==0)throw Error(o(327));var b=c.finishedWork,E=c.finishedLanes;if(b===null)return null;if(c.finishedWork=null,c.finishedLanes=0,b===c.current)throw Error(o(177));c.callbackNode=null,c.callbackPriority=0;var C=b.lanes|b.childLanes;if(f5(c,C),c===Pn&&(Rn=Pn=null,tr=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||Gm||(Gm=!0,rP(E_,function(){return xl(),null})),C=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||C){C=Mn.transition,Mn.transition=null;var H=Ot;Ot=1;var J=_t;_t|=4,fx.current=null,D5(c,b),N5(c,b),U(c.containerInfo),c.current=b,k5(b),h5(),_t=J,Ot=H,Mn.transition=C}else c.current=b;if(Gm&&(Gm=!1,ta=c,jm=E),C=c.pendingLanes,C===0&&(ea=null),g5(b.stateNode),zr(c,jn()),d!==null)for(x=c.onRecoverableError,b=0;b<d.length;b++)x(d[b]);if(Hm)throw Hm=!1,c=mx,mx=null,c;return(jm&1)!==0&&c.tag!==0&&xl(),C=c.pendingLanes,(C&1)!==0?c===gx?dd++:(dd=0,gx=c):dd=0,Es(),null}function xl(){if(ta!==null){var c=LA(jm),d=Mn.transition,x=Ot;try{if(Mn.transition=null,Ot=16>c?16:c,ta===null)var b=!1;else{if(c=ta,ta=null,jm=0,(_t&6)!==0)throw Error(o(331));var E=_t;for(_t|=4,Ve=c.current;Ve!==null;){var C=Ve,H=C.child;if((Ve.flags&16)!==0){var J=C.deletions;if(J!==null){for(var me=0;me<J.length;me++){var Oe=J[me];for(Ve=Oe;Ve!==null;){var qe=Ve;switch(qe.tag){case 0:case 11:case 15:vl(8,qe,C)}var ct=qe.child;if(ct!==null)ct.return=qe,Ve=ct;else for(;Ve!==null;){qe=Ve;var st=qe.sibling,$t=qe.return;if(FC(qe),qe===Oe){Ve=null;break}if(st!==null){st.return=$t,Ve=st;break}Ve=$t}}}var et=C.alternate;if(et!==null){var dr=et.child;if(dr!==null){et.child=null;do{var Oi=dr.sibling;dr.sibling=null,dr=Oi}while(dr!==null)}}Ve=C}}if((C.subtreeFlags&2064)!==0&&H!==null)H.return=C,Ve=H;else e:for(;Ve!==null;){if(C=Ve,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:vl(9,C,C.return)}var ce=C.sibling;if(ce!==null){ce.return=C.return,Ve=ce;break e}Ve=C.return}}var ee=c.current;for(Ve=ee;Ve!==null;){H=Ve;var he=H.child;if((H.subtreeFlags&2064)!==0&&he!==null)he.return=H,Ve=he;else e:for(H=ee;Ve!==null;){if(J=Ve,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:ld(9,J)}}catch(Ze){Ur(J,J.return,Ze)}if(J===H){Ve=null;break e}var Ge=J.sibling;if(Ge!==null){Ge.return=J.return,Ve=Ge;break e}Ve=J.return}}if(_t=E,Es(),Ms&&typeof Ms.onPostCommitFiberRoot=="function")try{Ms.onPostCommitFiberRoot(lm,c)}catch{}b=!0}return b}finally{Ot=x,Mn.transition=d}}return!1}function eP(c,d,x){d=K_(x,d),d=pC(c,d,1),Qo(c,d),d=Mr(),c=qm(c,1),c!==null&&(Yf(c,1,d),zr(c,d))}function Ur(c,d,x){if(c.tag===3)eP(c,c,x);else for(;d!==null;){if(d.tag===3){eP(d,c,x);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(ea===null||!ea.has(b))){c=K_(x,c),c=mC(d,c,1),Qo(d,c),c=Mr(),d=qm(d,1),d!==null&&(Yf(d,1,c),zr(d,c));break}}d=d.return}}function H5(c,d,x){var b=c.pingCache;b!==null&&b.delete(d),d=Mr(),c.pingedLanes|=c.suspendedLanes&x,Pn===c&&(tr&x)===x&&(kn===4||kn===3&&(tr&130023424)===tr&&500>jn()-hx?yl(c,0):dx|=x),zr(c,d)}function tP(c,d){d===0&&((c.mode&1)===0?d=1:(d=om,om<<=1,(om&130023424)===0&&(om=4194304)));var x=Mr();c=qm(c,d),c!==null&&(Yf(c,d,x),zr(c,x))}function G5(c){var d=c.memoizedState,x=0;d!==null&&(x=d.retryLane),tP(c,x)}function j5(c,d){var x=0;switch(c.tag){case 13:var b=c.stateNode,E=c.memoizedState;E!==null&&(x=E.retryLane);break;case 19:b=c.stateNode;break;default:throw Error(o(314))}b!==null&&b.delete(d),tP(c,x)}var nP;nP=function(c,d,x){if(c!==null)if(c.memoizedProps!==d.pendingProps||Gn.current)ei=!0;else{if((c.lanes&x)===0&&(d.flags&128)===0)return ei=!1,L5(c,d,x);ei=(c.flags&131072)!==0}else ei=!1,an&&(d.flags&1048576)!==0&&HA(d,vm,d.index);switch(d.lanes=0,d.tag){case 2:var b=d.type;c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),c=d.pendingProps;var E=io(d,Ft.current);Bu(d,x),E=W_(null,d,b,c,E,x);var C=$_();return d.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,kr(b)?(C=!0,im(d)):C=!1,d.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,O_(d),E.updater=mm,d.stateNode=E,E._reactInternals=d,D_(d,b,c,x),d=Q_(null,d,b,!0,C,x)):(d.tag=0,an&&C&&N_(d),br(null,d,E,x),d=d.child),d;case 16:b=d.elementType;e:{switch(c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),c=d.pendingProps,E=b._init,b=E(b._payload),d.type=b,E=d.tag=$5(b),c=Zi(b,c),E){case 0:d=Z_(null,d,b,c,x);break e;case 1:d=EC(null,d,b,c,x);break e;case 11:d=wC(null,d,b,c,x);break e;case 14:d=SC(null,d,b,Zi(b.type,c),x);break e}throw Error(o(306,b,""))}return d;case 0:return b=d.type,E=d.pendingProps,E=d.elementType===b?E:Zi(b,E),Z_(c,d,b,E,x);case 1:return b=d.type,E=d.pendingProps,E=d.elementType===b?E:Zi(b,E),EC(c,d,b,E,x);case 3:e:{if(AC(d),c===null)throw Error(o(387));b=d.pendingProps,C=d.memoizedState,E=C.element,NA(c,d),pm(d,b,null,x);var H=d.memoizedState;if(b=H.element,fe&&C.isDehydrated)if(C={element:b,isDehydrated:!1,cache:H.cache,transitions:H.transitions},d.updateQueue.baseState=C,d.memoizedState=C,d.flags&256){E=Error(o(423)),d=CC(c,d,b,x,E);break e}else if(b!==E){E=Error(o(424)),d=CC(c,d,b,x,E);break e}else for(fe&&(Qr=le(d.stateNode.containerInfo),Zr=d,an=!0,Qi=null,Kf=!1),x=XA(d,null,b,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Gu(),b===E){d=co(c,d,x);break e}br(c,d,b,x)}d=d.child}return d;case 5:return YA(d),c===null&&z_(d),b=d.type,E=d.pendingProps,C=c!==null?c.memoizedProps:null,H=E.children,ge(b,E)?H=null:C!==null&&ge(b,C)&&(d.flags|=32),TC(c,d),br(c,d,H,x),d.child;case 6:return c===null&&z_(d),null;case 13:return PC(c,d,x);case 4:return B_(d,d.stateNode.containerInfo),b=d.pendingProps,c===null?d.child=ju(d,null,b,x):br(c,d,b,x),d.child;case 11:return b=d.type,E=d.pendingProps,E=d.elementType===b?E:Zi(b,E),wC(c,d,b,E,x);case 7:return br(c,d,d.pendingProps,x),d.child;case 8:return br(c,d,d.pendingProps.children,x),d.child;case 12:return br(c,d,d.pendingProps.children,x),d.child;case 10:e:{if(b=d.type._context,E=d.pendingProps,C=d.memoizedProps,H=E.value,DA(d,b,H),C!==null)if(Ts(C.value,H)){if(C.children===E.children&&!Gn.current){d=co(c,d,x);break e}}else for(C=d.child,C!==null&&(C.return=d);C!==null;){var J=C.dependencies;if(J!==null){H=C.child;for(var me=J.firstContext;me!==null;){if(me.context===b){if(C.tag===1){me=oo(-1,x&-x),me.tag=2;var Oe=C.updateQueue;if(Oe!==null){Oe=Oe.shared;var qe=Oe.pending;qe===null?me.next=me:(me.next=qe.next,qe.next=me),Oe.pending=me}}C.lanes|=x,me=C.alternate,me!==null&&(me.lanes|=x),L_(C.return,x,d),J.lanes|=x;break}me=me.next}}else if(C.tag===10)H=C.type===d.type?null:C.child;else if(C.tag===18){if(H=C.return,H===null)throw Error(o(341));H.lanes|=x,J=H.alternate,J!==null&&(J.lanes|=x),L_(H,x,d),H=C.sibling}else H=C.child;if(H!==null)H.return=C;else for(H=C;H!==null;){if(H===d){H=null;break}if(C=H.sibling,C!==null){C.return=H.return,H=C;break}H=H.return}C=H}br(c,d,E.children,x),d=d.child}return d;case 9:return E=d.type,b=d.pendingProps.children,Bu(d,x),E=Ti(E),b=b(E),d.flags|=1,br(c,d,b,x),d.child;case 14:return b=d.type,E=Zi(b,d.pendingProps),E=Zi(b.type,E),SC(c,d,b,E,x);case 15:return bC(c,d,d.type,d.pendingProps,x);case 17:return b=d.type,E=d.pendingProps,E=d.elementType===b?E:Zi(b,E),c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,kr(b)?(c=!0,im(d)):c=!1,Bu(d,x),BA(d,b,E),D_(d,b,E,x),Q_(null,d,b,!0,c,x);case 19:return IC(c,d,x);case 22:return MC(c,d,x)}throw Error(o(156,d.tag))};function rP(c,d){return M_(c,d)}function W5(c,d,x,b){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(c,d,x,b){return new W5(c,d,x,b)}function wx(c){return c=c.prototype,!(!c||!c.isReactComponent)}function $5(c){if(typeof c=="function")return wx(c)?1:0;if(c!=null){if(c=c.$$typeof,c===v)return 11;if(c===w)return 14}return 2}function ia(c,d){var x=c.alternate;return x===null?(x=Li(c.tag,d,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=d,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&14680064,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,d=c.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x}function Ym(c,d,x,b,E,C){var H=2;if(b=c,typeof c=="function")wx(c)&&(H=1);else if(typeof c=="string")H=5;else e:switch(c){case f:return wl(x.children,E,C,d);case h:H=8,E|=8;break;case p:return c=Li(12,x,d,E|2),c.elementType=p,c.lanes=C,c;case _:return c=Li(13,x,d,E),c.elementType=_,c.lanes=C,c;case y:return c=Li(19,x,d,E),c.elementType=y,c.lanes=C,c;case M:return Km(x,E,C,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case m:H=10;break e;case g:H=9;break e;case v:H=11;break e;case w:H=14;break e;case S:H=16,b=null;break e}throw Error(o(130,c==null?c:typeof c,""))}return d=Li(H,x,d,E),d.elementType=c,d.type=b,d.lanes=C,d}function wl(c,d,x,b){return c=Li(7,c,b,d),c.lanes=x,c}function Km(c,d,x,b){return c=Li(22,c,b,d),c.elementType=M,c.lanes=x,c.stateNode={},c}function Sx(c,d,x){return c=Li(6,c,null,d),c.lanes=x,c}function bx(c,d,x){return d=Li(4,c.children!==null?c.children:[],c.key,d),d.lanes=x,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function q5(c,d,x,b,E){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=He,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=S_(0),this.expirationTimes=S_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=S_(0),this.identifierPrefix=b,this.onRecoverableError=E,fe&&(this.mutableSourceEagerHydrationData=null)}function iP(c,d,x,b,E,C,H,J,me){return c=new q5(c,d,x,J,me),d===1?(d=1,C===!0&&(d|=8)):d=0,C=Li(3,null,null,d),c.current=C,C.stateNode=c,C.memoizedState={element:b,isDehydrated:x,cache:null,transitions:null},O_(C),c}function sP(c){if(!c)return Mi;c=c._reactInternals;e:{if(R(c)!==c||c.tag!==1)throw Error(o(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(kr(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(c.tag===1){var x=c.type;if(kr(x))return PA(c,x,d)}return d}function oP(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(o(188)):(c=Object.keys(c).join(","),Error(o(268,c)));return c=Z(d),c===null?null:c.stateNode}function aP(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<d?x:d}}function Mx(c,d){aP(c,d),(c=c.alternate)&&aP(c,d)}function X5(c){return c=Z(c),c===null?null:c.stateNode}function Y5(){return null}return t.attemptContinuousHydration=function(c){if(c.tag===13){var d=Mr();Ri(c,134217728,d),Mx(c,134217728)}},t.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var d=Mr(),x=na(c);Ri(c,x,d),Mx(c,x)}},t.attemptSynchronousHydration=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var x=Xf(d.pendingLanes);x!==0&&(b_(d,x|1),zr(d,jn()),(_t&6)===0&&(Ku(),Es()))}break;case 13:var b=Mr();YC(function(){return Ri(c,1,b)}),Mx(c,1)}},t.batchedUpdates=function(c,d){var x=_t;_t|=1;try{return c(d)}finally{_t=x,_t===0&&(Ku(),um&&Es())}},t.createComponentSelector=function(c){return{$$typeof:Nm,value:c}},t.createContainer=function(c,d,x,b,E,C,H){return iP(c,d,!1,null,x,b,E,C,H)},t.createHasPseudoClassSelector=function(c){return{$$typeof:km,value:c}},t.createHydrationContainer=function(c,d,x,b,E,C,H,J,me){return c=iP(x,b,!0,c,E,C,H,J,me),c.context=sP(null),x=c.current,b=Mr(),E=na(x),C=oo(b,E),C.callback=d!=null?d:null,Qo(x,C),c.current.lanes=E,Yf(c,E,b),zr(c,b),c},t.createPortal=function(c,d,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:c,containerInfo:d,implementation:x}},t.createRoleSelector=function(c){return{$$typeof:Fm,value:c}},t.createTestNameSelector=function(c){return{$$typeof:zm,value:c}},t.createTextSelector=function(c){return{$$typeof:Um,value:c}},t.deferredUpdates=function(c){var d=Ot,x=Mn.transition;try{return Mn.transition=null,Ot=16,c()}finally{Ot=d,Mn.transition=x}},t.discreteUpdates=function(c,d,x,b,E){var C=Ot,H=Mn.transition;try{return Mn.transition=null,Ot=1,c(d,x,b,E)}finally{Ot=C,Mn.transition=H,_t===0&&Ku()}},t.findAllNodes=cx,t.findBoundingRects=function(c,d){if(!re)throw Error(o(363));d=cx(c,d),c=[];for(var x=0;x<d.length;x++)c.push(F(d[x]));for(d=c.length-1;0<d;d--){x=c[d];for(var b=x.x,E=b+x.width,C=x.y,H=C+x.height,J=d-1;0<=J;J--)if(d!==J){var me=c[J],Oe=me.x,qe=Oe+me.width,ct=me.y,st=ct+me.height;if(b>=Oe&&C>=ct&&E<=qe&&H<=st){c.splice(d,1);break}else if(b!==Oe||x.width!==me.width||st<C||ct>H){if(!(C!==ct||x.height!==me.height||qe<b||Oe>E)){Oe>b&&(me.width+=Oe-b,me.x=b),qe<E&&(me.width=E-Oe),c.splice(d,1);break}}else{ct>C&&(me.height+=ct-C,me.y=C),st<H&&(me.height=H-ct),c.splice(d,1);break}}}return c},t.findHostInstance=oP,t.findHostInstanceWithNoPortals=function(c){return c=G(c),c=c!==null?O(c):null,c===null?null:c.stateNode},t.findHostInstanceWithWarning=function(c){return oP(c)},t.flushControlled=function(c){var d=_t;_t|=1;var x=Mn.transition,b=Ot;try{Mn.transition=null,Ot=1,c()}finally{Ot=b,Mn.transition=x,_t=d,_t===0&&(Ku(),Es())}},t.flushPassiveEffects=xl,t.flushSync=YC,t.focusWithin=function(c,d){if(!re)throw Error(o(363));for(c=ax(c),d=$C(c,d),d=Array.from(d),c=0;c<d.length;){var x=d[c++];if(!te(x)){if(x.tag===5&&be(x.stateNode))return!0;for(x=x.child;x!==null;)d.push(x),x=x.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ot},t.getFindAllNodesFailureDescription=function(c,d){if(!re)throw Error(o(363));var x=0,b=[];c=[ax(c),0];for(var E=0;E<c.length;){var C=c[E++],H=c[E++],J=d[H];if((C.tag!==5||!te(C))&&(lx(C,J)&&(b.push(ux(J)),H++,H>x&&(x=H)),H<d.length))for(C=C.child;C!==null;)c.push(C,H),C=C.sibling}if(x<d.length){for(c=[];x<d.length;x++)c.push(ux(d[x]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},t.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return $(c.child.stateNode);default:return c.child.stateNode}},t.injectIntoDevTools=function(c){if(c={bundleType:c.bundleType,version:c.version,rendererPackageName:c.rendererPackageName,rendererConfig:c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:X5,findFiberByHostInstance:c.findFiberByHostInstance||Y5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)c=!0;else{try{lm=d.inject(c),Ms=d}catch{}c=!!d.checkDCE}}return c},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(c,d,x,b){if(!re)throw Error(o(363));c=cx(c,d);var E=De(c,x,b).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(c,d){var x=d._getVersion;x=x(d._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[d,x]:c.mutableSourceEagerHydrationData.push(d,x)},t.runWithPriority=function(c,d){var x=Ot;try{return Ot=c,d()}finally{Ot=x}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(c,d,x,b){var E=d.current,C=Mr(),H=na(E);return x=sP(x),d.context===null?d.context=x:d.pendingContext=x,d=oo(C,H),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),Qo(E,d),c=Ri(E,H,C),c!==null&&hm(c,E,H),H},t};(function(n){n.exports=Ose})(jU);const Ise=mp(jU.exports);var iM={exports:{}},WU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(I,N){var U=I.length;I.push(N);e:for(;0<U;){var X=U-1>>>1,Y=I[X];if(0<i(Y,N))I[X]=N,I[U]=Y,U=X;else break e}}function t(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var N=I[0],U=I.pop();if(U!==N){I[0]=U;e:for(var X=0,Y=I.length,ae=Y>>>1;X<ae;){var se=2*(X+1)-1,ge=I[se],oe=se+1,Ne=I[oe];if(0>i(ge,U))oe<Y&&0>i(Ne,ge)?(I[X]=Ne,I[oe]=U,X=oe):(I[X]=ge,I[se]=U,X=se);else if(oe<Y&&0>i(Ne,U))I[X]=Ne,I[oe]=U,X=oe;else break e}}return N}function i(I,N){var U=I.sortIndex-N.sortIndex;return U!==0?U:I.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,h=null,p=3,m=!1,g=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(I){for(var N=t(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=I)r(u),N.sortIndex=N.expirationTime,e(l,N);else break;N=t(u)}}function M(I){if(v=!1,S(I),!g)if(t(l)!==null)g=!0,$(T);else{var N=t(u);N!==null&&ie(M,N.startTime-I)}}function T(I,N){g=!1,v&&(v=!1,y(A),A=-1),m=!0;var U=p;try{for(S(N),h=t(l);h!==null&&(!(h.expirationTime>N)||I&&!G());){var X=h.callback;if(typeof X=="function"){h.callback=null,p=h.priorityLevel;var Y=X(h.expirationTime<=N);N=n.unstable_now(),typeof Y=="function"?h.callback=Y:h===t(l)&&r(l),S(N)}else r(l);h=t(l)}if(h!==null)var ae=!0;else{var se=t(u);se!==null&&ie(M,se.startTime-N),ae=!1}return ae}finally{h=null,p=U,m=!1}}var P=!1,L=null,A=-1,R=5,k=-1;function G(){return!(n.unstable_now()-k<R)}function Z(){if(L!==null){var I=n.unstable_now();k=I;var N=!0;try{N=L(!0,I)}finally{N?W():(P=!1,L=null)}}else P=!1}var W;if(typeof w=="function")W=function(){w(Z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,j=O.port2;O.port1.onmessage=Z,W=function(){j.postMessage(null)}}else W=function(){_(Z,0)};function $(I){L=I,P||(P=!0,W())}function ie(I,N){A=_(function(){I(n.unstable_now())},N)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,$(T))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(I){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var U=p;p=N;try{return I()}finally{p=U}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,N){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=p;p=I;try{return N()}finally{p=U}},n.unstable_scheduleCallback=function(I,N,U){var X=n.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?X+U:X):U=X,I){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=U+Y,I={id:f++,callback:N,priorityLevel:I,startTime:U,expirationTime:Y,sortIndex:-1},U>X?(I.sortIndex=U,e(u,I),t(l)===null&&I===t(u)&&(v?(y(A),A=-1):v=!0,ie(M,U-X))):(I.sortIndex=Y,e(l,I),g||m||(g=!0,$(T))),I},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(I){var N=p;return function(){var U=p;p=N;try{return I.apply(this,arguments)}finally{p=U}}}})(WU);(function(n){n.exports=WU})(iM);function $U(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}const Mo=[];function qU(n,e,t=!1,r={}){for(const s of Mo)if($U(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,promise:n(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=Mo.indexOf(i);s!==-1&&Mo.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(Mo.push(i),!t)throw i.promise}const Dse=(n,e,t)=>qU(n,e,!1,t),Nse=(n,e,t)=>void qU(n,e,!0,t),kse=n=>{if(n===void 0||n.length===0)Mo.splice(0,Mo.length);else{const e=Mo.find(t=>$U(n,t.keys,t.equal));if(e){const t=Mo.indexOf(e);t!==-1&&Mo.splice(t,1)}}};var LO,OO;const XU=n=>n&&n.isOrthographicCamera,Fse=n=>n&&n.hasOwnProperty("current"),Xp=typeof window<"u"&&((LO=window.document)!=null&&LO.createElement||((OO=window.navigator)==null?void 0:OO.product)==="ReactNative")?z.exports.useLayoutEffect:z.exports.useEffect;function YU(n){const e=z.exports.useRef(n);return Xp(()=>void(e.current=n),[n]),e}function zse({set:n}){return Xp(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class KU extends z.exports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}KU.getDerivedStateFromError=()=>({error:!0});const JU="__default",Use=n=>n&&!!n.memoized&&!!n.changes;function ZU(n){const e=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}const kd=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},_n={obj:n=>n===Object(n)&&!_n.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(_n.str(n)||_n.num(n))return n===e;const s=_n.obj(n);if(s&&r==="reference")return n===e;const o=_n.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;for(a in i?e:n)if(n[a]!==e[a])return!1;if(_n.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function Bse(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function Vse(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function bc(n,e){const t=n;return(e!=null&&e.primitive||!t.__r3f)&&(t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),n}function sM(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const IO=/-\d+$/;function gw(n,e,t){if(_n.str(t)){if(IO.test(t)){const s=t.replace(IO,""),{target:o,key:a}=sM(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=sM(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function DO(n,e,t){var r,i;if(_n.str(t)){const{target:s,key:o}=sM(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function QU(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var f;const h=(f=n==null?void 0:n.__r3f)!=null?f:{},p=Object.entries(i),m=[];if(u){const v=Object.keys(l);for(let _=0;_<v.length;_++)i.hasOwnProperty(v[_])||p.unshift([v[_],JU+"remove"])}p.forEach(([v,_])=>{var y;if((y=n.__r3f)!=null&&y.primitive&&v==="object"||_n.equ(_,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return m.push([v,_,!0,[]]);let w=[];v.includes("-")&&(w=v.split("-")),m.push([v,_,!1,w]);for(const S in i){const M=i[S];S.startsWith(`${v}-`)&&m.push([S,M,!1,S.split("-")])}});const g={...i};return h.memoizedProps&&h.memoizedProps.args&&(g.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(g.attach=h.memoizedProps.attach),{memoized:g,changes:m}}function vw(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=Use(e)?e:QU(n,e),f=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let m=0;m<u.length;m++){let[g,v,_,y]=u[m],w=n,S=w[g];if(y.length&&(S=y.reduce((M,T)=>M[T],n),!(S&&S.set))){const[M,...T]=y.reverse();w=T.reverse().reduce((P,L)=>P[L],n),g=M}if(v===JU+"remove")if(S&&S.constructor){var h;v=new S.constructor(...(h=l.args)!=null?h:[])}else if(w.constructor){var p;const M=new w.constructor(...(p=w.__r3f.memoizedProps.args)!=null?p:[]);v=M[S],M.dispose&&M.dispose()}else v=0;if(_)v?s.handlers[g]=v:delete s.handlers[g],s.eventCount=Object.keys(s.handlers).length;else if(S&&S.set&&(S.copy||S instanceof du)){if(Array.isArray(v))S.fromArray?S.fromArray(v):S.set(...v);else if(S.copy&&v&&v.constructor&&S.constructor.name===v.constructor.name)S.copy(v);else if(v!==void 0){const M=S instanceof ze;!M&&S.setScalar?S.setScalar(v):S instanceof du&&v instanceof du?S.mask=v.mask:S.set(v),!("ColorManagement"in H0)&&!a.linear&&M&&S.convertSRGBToLinear()}}else w[g]=v,!a.linear&&w[g]instanceof Sn&&(w[g].encoding=Nt);Mc(n)}if(s.parent&&a.internal&&n.raycast&&f!==s.eventCount){const m=a.internal.interaction.indexOf(n);m>-1&&a.internal.interaction.splice(m,1),s.eventCount&&a.internal.interaction.push(n)}return u.length&&(i=n.__r3f)!=null&&i.parent&&oM(n),n}function Mc(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function oM(n){n.onUpdate==null||n.onUpdate(n)}function Hse(n,e){n.manual||(XU(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Gse(n,e,t){const r=t.pop(),i=t.reduce((s,o)=>s[o],n);return i[r]=e}function pv(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function jse(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return iu.exports.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return iu.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return iu.exports.ContinuousEventPriority;default:return iu.exports.DefaultEventPriority}}function eB(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function Wse(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{eB(t.capturedMap,e,r,i)})}function $se(n){function e(l){const{internal:u}=n.getState(),f=l.offsetX-u.initialClick[0],h=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+h*h))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var h;return(h=u.__r3f)==null?void 0:h.handlers["onPointer"+f]}))}function r(l,u){const f=n.getState(),h=new Set,p=[],m=u?u(f.internal.interaction):f.internal.interaction;for(let y=0;y<m.length;y++){const w=kd(m[y]);w&&(w.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function g(y){const w=kd(y);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var S;w.events.compute==null||w.events.compute(l,w,(S=w.previousRoot)==null?void 0:S.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(y,!0):[]}let v=m.flatMap(g).sort((y,w)=>{const S=kd(y.object),M=kd(w.object);return!S||!M?y.distance-w.distance:M.events.priority-S.events.priority||y.distance-w.distance}).filter(y=>{const w=pv(y);return h.has(w)?!1:(h.add(w),!0)});f.events.filter&&(v=f.events.filter(v,f));for(const y of v){let w=y.object;for(;w;){var _;(_=w.__r3f)!=null&&_.eventCount&&p.push({...y,eventObject:w}),w=w.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let y of f.internal.capturedMap.get(l.pointerId).values())h.has(pv(y.intersection))||p.push(y.intersection);return p}function i(l,u,f,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const v=kd(g.object)||p,{raycaster:_,pointer:y,camera:w,internal:S}=v,M=new B(y.x,y.y,0).unproject(w),T=k=>{var G,Z;return(G=(Z=S.capturedMap.get(k))==null?void 0:Z.has(g.eventObject))!=null?G:!1},P=k=>{const G={intersection:g,target:u.target};S.capturedMap.has(k)?S.capturedMap.get(k).set(g.eventObject,G):S.capturedMap.set(k,new Map([[g.eventObject,G]])),u.target.setPointerCapture(k)},L=k=>{const G=S.capturedMap.get(k);G&&eB(S.capturedMap,g.eventObject,G,k)};let A={};for(let k in u){let G=u[k];typeof G!="function"&&(A[k]=G)}let R={...g,...A,pointer:y,intersections:l,stopped:m.stopped,delta:f,unprojectedPoint:M,ray:_.ray,camera:w,stopPropagation(){const k="pointerId"in u&&S.capturedMap.get(u.pointerId);if((!k||k.has(g.eventObject))&&(R.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(G=>G.eventObject===g.eventObject))){const G=l.slice(0,l.indexOf(g));s([...G,g])}},target:{hasPointerCapture:T,setPointerCapture:P,releasePointerCapture:L},currentTarget:{hasPointerCapture:T,setPointerCapture:P,releasePointerCapture:L},nativeEvent:u};if(h(R),m.stopped===!0)break}}return l}function s(l){const{internal:u}=n.getState();for(const f of u.hovered.values())if(!l.length||!l.find(h=>h.object===f.object&&h.index===f.index&&h.instanceId===f.instanceId)){const p=f.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(pv(f)),p!=null&&p.eventCount){const g={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let f=0;f<u.length;f++){const h=u[f].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:f}=n.getState();"pointerId"in u&&f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),s([]))}}return function(f){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=f;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(f,m?t:void 0),y=g?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=_.map(S=>S.eventObject)),g&&!_.length&&y<=2&&(o(f,p.interaction),h&&h(f)),m&&s(_);function w(S){const M=S.eventObject,T=M.__r3f,P=T==null?void 0:T.handlers;if(!!(T!=null&&T.eventCount))if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const L=pv(S),A=p.hovered.get(L);A?A.stopped&&S.stopPropagation():(p.hovered.set(L,S),P.onPointerOver==null||P.onPointerOver(S),P.onPointerEnter==null||P.onPointerEnter(S))}P.onPointerMove==null||P.onPointerMove(S)}else{const L=P[l];L?(!g||p.initialHits.includes(M))&&(o(f,p.interaction.filter(A=>!p.initialHits.includes(A))),L(S)):g&&p.initialHits.includes(M)&&o(f,p.interaction.filter(A=>!p.initialHits.includes(A)))}}i(_,f,y,w)}}return{handlePointer:a}}let aM={},qse=n=>void(aM={...aM,...n});function Xse(n,e){function t(f,{args:h=[],attach:p,...m},g){let v=`${f[0].toUpperCase()}${f.slice(1)}`,_;if(f==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=m.object;_=bc(y,{type:f,root:g,attach:p,primitive:!0})}else{const y=aM[v];if(!y)throw new Error(`R3F: ${v} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");_=bc(new y(...h),{type:f,root:g,attach:p,memoizedProps:{args:h}})}return _.__r3f.attach===void 0&&(_ instanceof mt?_.__r3f.attach="geometry":_ instanceof Nn&&(_.__r3f.attach="material")),v!=="inject"&&vw(_,m),_}function r(f,h){let p=!1;if(h){var m,g;(m=h.__r3f)!=null&&m.attach?gw(f,h,h.__r3f.attach):h.isObject3D&&f.isObject3D&&(f.add(h),p=!0),p||(g=f.__r3f)==null||g.objects.push(h),h.__r3f||bc(h,{}),h.__r3f.parent=f,oM(h),Mc(h)}}function i(f,h,p){let m=!1;if(h){var g,v;if((g=h.__r3f)!=null&&g.attach)gw(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){h.parent=f,h.dispatchEvent({type:"added"});const _=f.children.filter(w=>w!==h),y=_.indexOf(p);f.children=[..._.slice(0,y),h,..._.slice(y)],m=!0}m||(v=f.__r3f)==null||v.objects.push(h),h.__r3f||bc(h,{}),h.__r3f.parent=f,oM(h),Mc(h)}}function s(f,h,p=!1){f&&[...f].forEach(m=>o(h,m,p))}function o(f,h,p){if(h){var m,g,v;if(h.__r3f&&(h.__r3f.parent=null),(m=f.__r3f)!=null&&m.objects&&(f.__r3f.objects=f.__r3f.objects.filter(M=>M!==h)),(g=h.__r3f)!=null&&g.attach)DO(f,h,h.__r3f.attach);else if(h.isObject3D&&f.isObject3D){var _;f.remove(h),(_=h.__r3f)!=null&&_.root&&Wse(h.__r3f.root,h)}const w=(v=h.__r3f)==null?void 0:v.primitive,S=p===void 0?h.dispose!==null&&!w:p;if(!w){var y;s((y=h.__r3f)==null?void 0:y.objects,h,S),s(h.children,h,S)}h.__r3f&&(delete h.__r3f.root,delete h.__r3f.objects,delete h.__r3f.handlers,delete h.__r3f.memoizedProps,w||delete h.__r3f),S&&h.dispose&&h.type!=="Scene"&&iM.exports.unstable_scheduleCallback(iM.exports.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),Mc(f)}}function a(f,h,p,m){var g;const v=(g=f.__r3f)==null?void 0:g.parent;if(!v)return;const _=t(h,p,f.__r3f.root);if(f.children){for(const y of f.children)y.__r3f&&r(_,y);f.children=f.children.filter(y=>!y.__r3f)}f.__r3f.objects.forEach(y=>r(_,y)),f.__r3f.objects=[],o(v,f),r(v,_),_.raycast&&_.__r3f.eventCount&&_.__r3f.root.getState().internal.interaction.push(_),[m,m.alternate].forEach(y=>{y!==null&&(y.stateNode=_,y.ref&&(typeof y.ref=="function"?y.ref(_):y.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Ise({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,h)=>{if(!h)return;const p=f.getState().scene;!p.__r3f||(p.__r3f.root=f,r(p,h))},removeChildFromContainer:(f,h)=>{!h||o(f.getState().scene,h)},insertInContainerBefore:(f,h,p)=>{if(!h||!p)return;const m=f.getState().scene;!m.__r3f||i(m,h,p)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var h;const p=(h=f==null?void 0:f.__r3f)!=null?h:{};return Boolean(p.handlers)},prepareUpdate(f,h,p,m){if(f.__r3f.primitive&&m.object&&m.object!==f)return[!0];{const{args:g=[],children:v,..._}=m,{args:y=[],children:w,...S}=p;if(!Array.isArray(g))throw new Error("R3F: the args prop must be an array!");if(g.some((T,P)=>T!==y[P]))return[!0];const M=QU(f,_,S,!0);return M.changes.length?[!1,M]:null}},commitUpdate(f,[h,p],m,g,v,_){h?a(f,m,v,_):vw(f,p)},commitMount(f,h,p,m){var g;const v=(g=f.__r3f)!=null?g:{};f.raycast&&v.handlers&&v.eventCount&&f.__r3f.root.getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>bc(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var h;const{attach:p,parent:m}=(h=f.__r3f)!=null?h:{};p&&m&&DO(m,f,p),f.isObject3D&&(f.visible=!1),Mc(f)},unhideInstance(f,h){var p;const{attach:m,parent:g}=(p=f.__r3f)!=null?p:{};m&&g&&gw(g,f,m),(f.isObject3D&&h.visible==null||h.visible)&&(f.visible=!0),Mc(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():iu.exports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&_n.fun(performance.now)?performance.now:_n.fun(Date.now)?Date.now:()=>0,scheduleTimeout:_n.fun(setTimeout)?setTimeout:void 0,cancelTimeout:_n.fun(clearTimeout)?clearTimeout:void 0}),applyProps:vw}}const tB=n=>!!(n!=null&&n.render),nB=z.exports.createContext(null),Yse=(n,e)=>{const t=Pse((a,l)=>{const u=new B,f=new B,h=new B;function p(y=l().camera,w=f,S=l().size){const{width:M,height:T,top:P,left:L}=S,A=M/T;w instanceof B?h.copy(w):h.set(...w);const R=y.getWorldPosition(u).distanceTo(h);if(XU(y))return{width:M/y.zoom,height:T/y.zoom,top:P,left:L,factor:1,distance:R,aspect:A};{const k=y.fov*Math.PI/180,G=2*Math.tan(k/2)*R,Z=G*(M/T);return{width:Z,height:G,top:P,left:L,factor:M/Z,distance:R,aspect:A}}}let m;const g=y=>a(w=>({performance:{...w.performance,current:y}})),v=new we;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(y=1)=>n(l(),y),advance:(y,w)=>e(y,w,l()),legacy:!1,linear:!1,flat:!1,scene:bc(new FE),controls:null,clock:new oA,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();m&&clearTimeout(m),y.performance.current!==y.performance.min&&g(y.performance.min),m=setTimeout(()=>g(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:y=>a(w=>({...w,events:{...w.events,...y}})),setSize:(y,w,S,M,T)=>{const P=l().camera,L={width:y,height:w,top:M||0,left:T||0,updateStyle:S};a(A=>({size:L,viewport:{...A.viewport,...p(P,f,L)}}))},setDpr:y=>a(w=>{const S=ZU(y);return{viewport:{...w.viewport,dpr:S,initialDpr:w.viewport.initialDpr||S}}}),setFrameloop:(y="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,y!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:z.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,w,S)=>{const M=l().internal;return M.priority=M.priority+(w>0?1:0),M.subscribers.push({ref:y,priority:w,store:S}),M.subscribers=M.subscribers.sort((T,P)=>T.priority-P.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(w>0?1:0),T.subscribers=T.subscribers.filter(P=>P.ref!==y))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:f,set:h}=t.getState();(l!==i||u.dpr!==s)&&(i=l,s=u.dpr,Hse(a,l),f.setPixelRatio(u.dpr),f.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,h(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let mv,Kse=new Set,Jse=new Set,Zse=new Set;function yw(n,e){if(!!n.size)for(const{callback:t}of n.values())t(e)}function Fd(n,e){switch(n){case"before":return yw(Kse,e);case"after":return yw(Jse,e);case"tail":return yw(Zse,e)}}let _w,xw;function ww(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),_w=e.internal.subscribers,mv=0;mv<_w.length;mv++)xw=_w[mv],xw.ref.current(xw.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Qse(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,Fd("before",l);for(const f of n.values()){var u;i=f.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(t+=ww(l,i))}if(Fd("after",l),t===0)return Fd("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var f;if(!l)return n.forEach(h=>o(h.store.getState()),u);(f=l.gl.xr)!=null&&f.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,f,h){if(u&&Fd("before",l),f)ww(l,f,h);else for(const p of n.values())ww(l,p.store.getState());u&&Fd("after",l)}return{loop:s,invalidate:o,advance:a}}function rB(){const n=z.exports.useContext(nB);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ol(n=t=>t,e){return rB()(n,e)}function eoe(n,e=0){const t=rB(),r=t.getState().internal.subscribe,i=YU(n);return Xp(()=>r(i,e,t),[e,r,t]),null}function iB(n,e){return function(t,...r){const i=new t;return n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Bse(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message})`))))))}}function cA(n,e,t,r){const i=Array.isArray(e)?e:[e],s=Dse(iB(t,r),[n,...i],{equal:_n.equ});return Array.isArray(e)?s:s[0]}cA.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return Nse(iB(t),[n,...r])};cA.clear=function(n,e){const t=Array.isArray(e)?e:[e];return kse([n,...t])};const Tf=new Map,{invalidate:NO,advance:kO}=Qse(Tf),{reconciler:G0,applyProps:gv}=Xse(Tf,jse),xc={objects:"shallow",strict:!1},toe=(n,e)=>{const t=typeof n=="function"?n(e):n;return tB(t)?t:new kE({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function noe(n){return n instanceof HTMLCanvasElement}function roe(n,e){if(e)return e;if(noe(n)&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}return{width:0,height:0,top:0,left:0}}function ioe(n){const e=Tf.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Yse(NO,kO),o=t||G0.createContainer(s,iu.exports.ConcurrentRoot,null,!1,null,"",i,null);e||Tf.set(n,{fiber:o,store:s});let a,l=!1;return{configure(u={}){let{gl:f,size:h,events:p,onCreated:m,shadows:g=!1,linear:v=!1,flat:_=!1,legacy:y=!1,orthographic:w=!1,frameloop:S="always",dpr:M=[1,2],performance:T,raycaster:P,camera:L,onPointerMissed:A}=u,R=s.getState(),k=R.gl;R.gl||R.set({gl:k=toe(f,n)});let G=R.raycaster;G||R.set({raycaster:G=new UU});const{params:Z,...W}=P||{};if(_n.equ(W,G,xc)||gv(G,{...W}),_n.equ(Z,G.params,xc)||gv(G,{params:{...G.params,...Z}}),!R.camera){const ie=L instanceof Op,I=ie?L:w?new Io(0,0,0,0,.1,1e3):new nn(75,0,.1,1e3);ie||(I.position.z=5,L&&gv(I,L),L!=null&&L.rotation||I.lookAt(0,0,0)),R.set({camera:I})}if(!R.xr){const ie=(U,X)=>{const Y=s.getState();Y.frameloop!=="never"&&kO(U,!0,Y,X)},I=()=>{const U=s.getState();U.gl.xr.enabled=U.gl.xr.isPresenting,U.gl.xr.setAnimationLoop(U.gl.xr.isPresenting?ie:null),U.gl.xr.isPresenting||NO(U)},N={connect(){const U=s.getState().gl;U.xr.addEventListener("sessionstart",I),U.xr.addEventListener("sessionend",I)},disconnect(){const U=s.getState().gl;U.xr.removeEventListener("sessionstart",I),U.xr.removeEventListener("sessionend",I)}};k.xr&&N.connect(),R.set({xr:N})}if(k.shadowMap){const ie=_n.boo(g);if(ie&&k.shadowMap.enabled!==g||!_n.equ(g,k.shadowMap,xc)){const I=k.shadowMap.enabled;k.shadowMap.enabled=!!g,ie?k.shadowMap.type=SE:Object.assign(k.shadowMap,g),I!==k.shadowMap.enabled&&(k.shadowMap.needsUpdate=!0)}}"ColorManagement"in H0&&Gse(H0,y,["ColorManagement","legacyMode"]);const O=v?Ho:Nt,j=_?gs:TE;k.outputEncoding!==O&&(k.outputEncoding=O),k.toneMapping!==j&&(k.toneMapping=j),R.legacy!==y&&R.set(()=>({legacy:y})),R.linear!==v&&R.set(()=>({linear:v})),R.flat!==_&&R.set(()=>({flat:_})),f&&!_n.fun(f)&&!tB(f)&&!_n.equ(f,k,xc)&&gv(k,f),p&&!R.events.handlers&&R.set({events:p(s)}),M&&R.viewport.dpr!==ZU(M)&&R.setDpr(M);const $=roe(n,h);return _n.equ($,R.size,xc)||R.setSize($.width,$.height,$.updateStyle,$.top,$.left),R.frameloop!==S&&R.setFrameloop(S),R.onPointerMissed||R.set({onPointerMissed:A}),T&&!_n.equ(T,R.performance,xc)&&R.set(ie=>({performance:{...ie.performance,...T}})),a=m,l=!0,this},render(u){return l||this.configure(),G0.updateContainer(ne(soe,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){sB(n)}}}function soe({store:n,children:e,onCreated:t,rootElement:r}){return Xp(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),z.exports.createElement(nB.Provider,{value:n},e)}function sB(n,e){const t=Tf.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),G0.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Vse(i),Tf.delete(n),e&&e(n)}catch{}},500)})}}G0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:z.exports.version});function lM(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var f=Date.now()-o;f<e&&f>=0?r=setTimeout(l,e-f):(r=null,t||(a=n.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var f=t&&!r;return r||(r=setTimeout(l,e)),f&&(a=n.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}lM.debounce=lM;var FO=lM;function ooe(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=z.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=z.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,h=z.exports.useRef(!1);z.exports.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,g]=z.exports.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:S,top:M,width:T,height:P,bottom:L,right:A,x:R,y:k}=l.current.element.getBoundingClientRect(),G={left:S,top:M,width:T,height:P,bottom:L,right:A,x:R,y:k};l.current.element instanceof HTMLElement&&i&&(G.height=l.current.element.offsetHeight,G.width=l.current.element.offsetWidth),Object.freeze(G),h.current&&!coe(l.current.lastBounds,G)&&a(l.current.lastBounds=G)};return[w,f?FO(w,f):w,u?FO(w,u):w]},[a,i,u,f]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){!l.current.element||(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",g,{capture:!0,passive:!0})))}const y=w=>{!w||w===l.current.element||(v(),l.current.element=w,l.current.scrollContainers=oB(w),_())};return loe(g,Boolean(t)),aoe(m),z.exports.useEffect(()=>{v(),_()},[t,g,m]),z.exports.useEffect(()=>v,[]),[y,o,p]}function aoe(n){z.exports.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function loe(n,e){z.exports.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function oB(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...oB(n.parentElement)]}const uoe=["x","y","top","bottom","left","right","width","height"],coe=(n,e)=>uoe.every(t=>n[t]===e[t]);var foe=Object.defineProperty,doe=Object.defineProperties,hoe=Object.getOwnPropertyDescriptors,zO=Object.getOwnPropertySymbols,poe=Object.prototype.hasOwnProperty,moe=Object.prototype.propertyIsEnumerable,UO=(n,e,t)=>e in n?foe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,BO=(n,e)=>{for(var t in e||(e={}))poe.call(e,t)&&UO(n,t,e[t]);if(zO)for(var t of zO(e))moe.call(e,t)&&UO(n,t,e[t]);return n},goe=(n,e)=>doe(n,hoe(e));function fA(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=fA(r,e,t);if(i)return i;r=e?null:r.sibling}}function aB(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const dA=aB(z.exports.createContext(null));class lB extends z.exports.Component{render(){return ne(dA.Provider,{value:this._reactInternals,children:this.props.children})}}const{ReactCurrentOwner:voe,ReactCurrentDispatcher:yoe}=z.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function _oe(){const n=z.exports.useContext(dA);if(!n)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.exports.useId();return z.exports.useMemo(()=>{var r;return(r=voe.current)!=null?r:fA(n,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}})},[n,e])}const zd=[],VO=new WeakMap;function xoe(){var n;const e=_oe();zd.splice(0,zd.length),fA(e,!0,t=>{var r;const i=(r=t.type)==null?void 0:r._context;i&&i!==dA&&zd.push(aB(i))});for(const t of zd){const r=(n=yoe.current)==null?void 0:n.readContext(t);VO.set(t,r)}return z.exports.useMemo(()=>zd.reduce((t,r)=>i=>z.exports.createElement(t,null,z.exports.createElement(r.Provider,goe(BO({},i),{value:VO.get(r)}))),t=>ne(lB,{...BO({},t)})),[])}const Sw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function woe(n){const{handlePointer:e}=$se(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(Sw).reduce((t,r)=>({...t,[r]:e(r)}),{}),connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=Sw[o];t.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=Sw[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const Soe=z.exports.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=woe,eventSource:a,eventPrefix:l,shadows:u,linear:f,flat:h,legacy:p,orthographic:m,frameloop:g,dpr:v,performance:_,raycaster:y,camera:w,onPointerMissed:S,onCreated:M,...T},P){z.exports.useMemo(()=>qse(H0),[]);const L=xoe(),[A,R]=ooe({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=z.exports.useRef(null),G=z.exports.useRef(null),[Z,W]=z.exports.useState(null);z.exports.useImperativeHandle(P,()=>k.current);const O=YU(S),[j,$]=z.exports.useState(!1),[ie,I]=z.exports.useState(!1);if(j)throw j;if(ie)throw ie;const N=z.exports.useRef(null);return R.width>0&&R.height>0&&Z&&(N.current||(N.current=ioe(Z)),N.current.configure({gl:s,events:o,shadows:u,linear:f,flat:h,legacy:p,orthographic:m,frameloop:g,dpr:v,performance:_,raycaster:y,camera:w,size:R,onPointerMissed:(...X)=>O.current==null?void 0:O.current(...X),onCreated:X=>{X.events.connect==null||X.events.connect(a?Fse(a)?a.current:a:G.current),l&&X.setEvents({compute:(Y,ae)=>{const se=Y[l+"X"],ge=Y[l+"Y"];ae.pointer.set(se/ae.size.width*2-1,-(ge/ae.size.height)*2+1),ae.raycaster.setFromCamera(ae.pointer,ae.camera)}}),M==null||M(X)}}),N.current.render(ne(L,{children:ne(KU,{set:I,children:ne(z.exports.Suspense,{fallback:ne(zse,{set:$}),children:e})})}))),Xp(()=>{W(k.current)},[]),z.exports.useEffect(()=>{if(Z)return()=>sB(Z)},[Z]),ne("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:a?"none":"auto",...i},...T,children:ne("div",{ref:A,style:{width:"100%",height:"100%"},children:ne("canvas",{ref:k,style:{display:"block"},children:t})})})}),boe=z.exports.forwardRef(function(e,t){return ne(lB,{children:ne(Soe,{...e,ref:t})})}),Moe=()=>{const n=cA(Kie,"/src/assets/earth2/scene.gltf"),[e,t]=z.exports.useState(0);return z.exports.useEffect(()=>{window.addEventListener("scroll",r=>{const i=window.scrollY;t(H3(i,0,1e3,0,Math.PI/1.5))}),t(H3(window.scrollY,0,1e3,0,Math.PI/1.5))},[]),ne(Yi,{children:ne("primitive",{object:n.scene,scale:.01,rotation:[e,0,0]})})},Toe="/assets/logo.186447c3.svg",Eoe="_Navbar__logo_qn9s6_5",HO={"Navbar__mobile-logo":"_Navbar__mobile-logo_qn9s6_1",Navbar__logo:Eoe,"Navbar__user-data":"_Navbar__user-data_qn9s6_19","Navbar__auth-buttons":"_Navbar__auth-buttons_qn9s6_30"};var Aoe=Object.create,a_=Object.defineProperty,Coe=Object.getOwnPropertyDescriptor,Poe=Object.getOwnPropertyNames,Roe=Object.getPrototypeOf,Loe=Object.prototype.hasOwnProperty,Ooe=(n,e)=>{for(var t in e)a_(n,t,{get:e[t],enumerable:!0})},uB=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Poe(e))!Loe.call(n,i)&&i!==t&&a_(n,i,{get:()=>e[i],enumerable:!(r=Coe(e,i))||r.enumerable});return n},Ioe=(n,e,t)=>(t=n!=null?Aoe(Roe(n)):{},uB(e||!n||!n.__esModule?a_(t,"default",{value:n,enumerable:!0}):t,n)),Doe=n=>uB(a_({},"__esModule",{value:!0}),n),cB={};Ooe(cB,{SessionContextProvider:()=>Noe,useSession:()=>zoe,useSessionContext:()=>koe,useSupabaseClient:()=>Foe,useUser:()=>Uoe});var fB=Doe(cB),Bi=Ioe(z.exports),Yp=(0,Bi.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),Noe=({supabaseClient:n,initialSession:e=null,children:t})=>{const[r,i]=(0,Bi.useState)(e),[s,o]=(0,Bi.useState)(!e),[a,l]=(0,Bi.useState)();(0,Bi.useEffect)(()=>{async function f(){const{data:{session:h},error:p}=await n.auth.getSession();{if(p){l(p),o(!1);return}i(h),o(!1)}}f()},[]),(0,Bi.useEffect)(()=>{const{data:{subscription:f}}=n.auth.onAuthStateChange((h,p)=>{p&&(h==="SIGNED_IN"||h==="TOKEN_REFRESHED")&&i(p),h==="SIGNED_OUT"&&i(null)});return()=>{f.unsubscribe()}},[]);const u=(0,Bi.useMemo)(()=>s?{isLoading:!0,session:null,error:null,supabaseClient:n}:a?{isLoading:!1,session:null,error:a,supabaseClient:n}:{isLoading:!1,session:r,error:null,supabaseClient:n},[s,r,a]);return Bi.default.createElement(Yp.Provider,{value:u},t)},koe=()=>{const n=(0,Bi.useContext)(Yp);if(n===void 0)throw new Error("useSessionContext must be used within a SessionContextProvider.");return n};function Foe(){const n=(0,Bi.useContext)(Yp);if(n===void 0)throw new Error("useSupabaseClient must be used within a SessionContextProvider.");return n.supabaseClient}var zoe=()=>{const n=(0,Bi.useContext)(Yp);if(n===void 0)throw new Error("useSession must be used within a SessionContextProvider.");return n.session},Uoe=()=>{var n,e;const t=(0,Bi.useContext)(Yp);if(t===void 0)throw new Error("useUser must be used within a SessionContextProvider.");return(e=(n=t.session)==null?void 0:n.user)!=null?e:null};const Boe=async n=>(await Ao.from("profiles").select("*").eq("id",n).single()).data,Voe=()=>{const n=fB.useUser(),e=typeof(n==null?void 0:n.id)<"u",{data:t}=iE(e&&"/profile",()=>{var r;return Boe((r=n==null?void 0:n.id)!=null?r:"")});return{profile:t}},l_=()=>{const{profile:n}=Voe();return lt("nav",{className:"px-8 py-8 flex justify-between items-center text-white",children:[ne("a",{children:ne("div",{children:ne("img",{title:"Logo",src:Toe,width:"132"})})}),ne("div",{children:ne("p",{className:"font-bold uppercase",children:"geoquizzr"})}),n!=null?lt("div",{className:HO["Navbar__user-data"],children:[ne(MH,{src:n.avatar_url}),ne("h5",{className:"font-semibold",children:n.username})]}):lt("div",{className:HO["Navbar__auth-buttons"],children:[ne("a",{href:"signup",children:ne(Ya,{className:"text-sm",children:"signup"})}),ne("a",{href:"login",children:ne(Ya,{variant:"outline",className:"text-sm",children:"login"})})]})]})},Hoe="/assets/warning.27cf2aff.svg",Goe="_FormNotice_1ubao_1",joe={FormNotice:Goe},hA=({variant:n,message:e})=>ne(a9,{children:lt(df.div,{className:joe.FormNotice,initial:{opacity:0},animate:{opacity:1},exit:{opacity:1},children:[ne("img",{title:"Warning icon",src:Hoe,width:"24",height:"24"}),ne("p",{children:e})]},"form-notice")});var GO;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(GO||(GO={}));function dt(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var jO=Array.isArray,WO=Object.keys,Woe=Object.prototype.hasOwnProperty,$oe=typeof Element<"u";function uM(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){var t=jO(n),r=jO(e),i,s,o;if(t&&r){if(s=n.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!uM(n[i],e[i]))return!1;return!0}if(t!=r)return!1;var a=n instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return n.getTime()==e.getTime();var u=n instanceof RegExp,f=e instanceof RegExp;if(u!=f)return!1;if(u&&f)return n.toString()==e.toString();var h=WO(n);if(s=h.length,s!==WO(e).length)return!1;for(i=s;i--!==0;)if(!Woe.call(e,h[i]))return!1;if($oe&&n instanceof Element&&e instanceof Element)return n===e;for(i=s;i--!==0;)if(o=h[i],!(o==="_owner"&&n.$$typeof)&&!uM(n[o],e[o]))return!1;return!0}return n!==n&&e!==e}var ba=function(e,t){try{return uM(e,t)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}},qoe=function(e){return Xoe(e)&&!Yoe(e)};function Xoe(n){return!!n&&typeof n=="object"}function Yoe(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||Zoe(n)}var Koe=typeof Symbol=="function"&&Symbol.for,Joe=Koe?Symbol.for("react.element"):60103;function Zoe(n){return n.$$typeof===Joe}function Qoe(n){return Array.isArray(n)?[]:{}}function j0(n,e){return e.clone!==!1&&e.isMergeableObject(n)?fp(Qoe(n),n,e):n}function eae(n,e,t){return n.concat(e).map(function(r){return j0(r,t)})}function tae(n,e,t){var r={};return t.isMergeableObject(n)&&Object.keys(n).forEach(function(i){r[i]=j0(n[i],t)}),Object.keys(e).forEach(function(i){!t.isMergeableObject(e[i])||!n[i]?r[i]=j0(e[i],t):r[i]=fp(n[i],e[i],t)}),r}function fp(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||eae,t.isMergeableObject=t.isMergeableObject||qoe;var r=Array.isArray(e),i=Array.isArray(n),s=r===i;return s?r?t.arrayMerge(n,e,t):tae(n,e,t):j0(e,t)}fp.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return fp(r,i,t)},{})};var cM=fp,nae=typeof global=="object"&&global&&global.Object===Object&&global;const dB=nae;var rae=typeof self=="object"&&self&&self.Object===Object&&self,iae=dB||rae||Function("return this")();const to=iae;var sae=to.Symbol;const il=sae;var hB=Object.prototype,oae=hB.hasOwnProperty,aae=hB.toString,Ud=il?il.toStringTag:void 0;function lae(n){var e=oae.call(n,Ud),t=n[Ud];try{n[Ud]=void 0;var r=!0}catch{}var i=aae.call(n);return r&&(e?n[Ud]=t:delete n[Ud]),i}var uae=Object.prototype,cae=uae.toString;function fae(n){return cae.call(n)}var dae="[object Null]",hae="[object Undefined]",$O=il?il.toStringTag:void 0;function Nu(n){return n==null?n===void 0?hae:dae:$O&&$O in Object(n)?lae(n):fae(n)}function pB(n,e){return function(t){return n(e(t))}}var pae=pB(Object.getPrototypeOf,Object);const pA=pae;function ku(n){return n!=null&&typeof n=="object"}var mae="[object Object]",gae=Function.prototype,vae=Object.prototype,mB=gae.toString,yae=vae.hasOwnProperty,_ae=mB.call(Object);function qO(n){if(!ku(n)||Nu(n)!=mae)return!1;var e=pA(n);if(e===null)return!0;var t=yae.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&mB.call(t)==_ae}function xae(){this.__data__=[],this.size=0}function gB(n,e){return n===e||n!==n&&e!==e}function u_(n,e){for(var t=n.length;t--;)if(gB(n[t][0],e))return t;return-1}var wae=Array.prototype,Sae=wae.splice;function bae(n){var e=this.__data__,t=u_(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Sae.call(e,t,1),--this.size,!0}function Mae(n){var e=this.__data__,t=u_(e,n);return t<0?void 0:e[t][1]}function Tae(n){return u_(this.__data__,n)>-1}function Eae(n,e){var t=this.__data__,r=u_(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Yo(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Yo.prototype.clear=xae;Yo.prototype.delete=bae;Yo.prototype.get=Mae;Yo.prototype.has=Tae;Yo.prototype.set=Eae;function Aae(){this.__data__=new Yo,this.size=0}function Cae(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Pae(n){return this.__data__.get(n)}function Rae(n){return this.__data__.has(n)}function Kp(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Lae="[object AsyncFunction]",Oae="[object Function]",Iae="[object GeneratorFunction]",Dae="[object Proxy]";function vB(n){if(!Kp(n))return!1;var e=Nu(n);return e==Oae||e==Iae||e==Lae||e==Dae}var Nae=to["__core-js_shared__"];const bw=Nae;var XO=function(){var n=/[^.]+$/.exec(bw&&bw.keys&&bw.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function kae(n){return!!XO&&XO in n}var Fae=Function.prototype,zae=Fae.toString;function Fu(n){if(n!=null){try{return zae.call(n)}catch{}try{return n+""}catch{}}return""}var Uae=/[\\^$.*+?()[\]{}|]/g,Bae=/^\[object .+?Constructor\]$/,Vae=Function.prototype,Hae=Object.prototype,Gae=Vae.toString,jae=Hae.hasOwnProperty,Wae=RegExp("^"+Gae.call(jae).replace(Uae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $ae(n){if(!Kp(n)||kae(n))return!1;var e=vB(n)?Wae:Bae;return e.test(Fu(n))}function qae(n,e){return n==null?void 0:n[e]}function zu(n,e){var t=qae(n,e);return $ae(t)?t:void 0}var Xae=zu(to,"Map");const dp=Xae;var Yae=zu(Object,"create");const hp=Yae;function Kae(){this.__data__=hp?hp(null):{},this.size=0}function Jae(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Zae="__lodash_hash_undefined__",Qae=Object.prototype,ele=Qae.hasOwnProperty;function tle(n){var e=this.__data__;if(hp){var t=e[n];return t===Zae?void 0:t}return ele.call(e,n)?e[n]:void 0}var nle=Object.prototype,rle=nle.hasOwnProperty;function ile(n){var e=this.__data__;return hp?e[n]!==void 0:rle.call(e,n)}var sle="__lodash_hash_undefined__";function ole(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=hp&&e===void 0?sle:e,this}function Tu(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Tu.prototype.clear=Kae;Tu.prototype.delete=Jae;Tu.prototype.get=tle;Tu.prototype.has=ile;Tu.prototype.set=ole;function ale(){this.size=0,this.__data__={hash:new Tu,map:new(dp||Yo),string:new Tu}}function lle(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function c_(n,e){var t=n.__data__;return lle(e)?t[typeof e=="string"?"string":"hash"]:t.map}function ule(n){var e=c_(this,n).delete(n);return this.size-=e?1:0,e}function cle(n){return c_(this,n).get(n)}function fle(n){return c_(this,n).has(n)}function dle(n,e){var t=c_(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function dl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}dl.prototype.clear=ale;dl.prototype.delete=ule;dl.prototype.get=cle;dl.prototype.has=fle;dl.prototype.set=dle;var hle=200;function ple(n,e){var t=this.__data__;if(t instanceof Yo){var r=t.__data__;if(!dp||r.length<hle-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new dl(r)}return t.set(n,e),this.size=t.size,this}function jf(n){var e=this.__data__=new Yo(n);this.size=e.size}jf.prototype.clear=Aae;jf.prototype.delete=Cae;jf.prototype.get=Pae;jf.prototype.has=Rae;jf.prototype.set=ple;function mle(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var gle=function(){try{var n=zu(Object,"defineProperty");return n({},"",{}),n}catch{}}();const YO=gle;function yB(n,e,t){e=="__proto__"&&YO?YO(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var vle=Object.prototype,yle=vle.hasOwnProperty;function _B(n,e,t){var r=n[e];(!(yle.call(n,e)&&gB(r,t))||t===void 0&&!(e in n))&&yB(n,e,t)}function f_(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(t[a],n[a],a,t,n):void 0;l===void 0&&(l=n[a]),i?yB(t,a,l):_B(t,a,l)}return t}function _le(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var xle="[object Arguments]";function KO(n){return ku(n)&&Nu(n)==xle}var xB=Object.prototype,wle=xB.hasOwnProperty,Sle=xB.propertyIsEnumerable,ble=KO(function(){return arguments}())?KO:function(n){return ku(n)&&wle.call(n,"callee")&&!Sle.call(n,"callee")};const Mle=ble;var Tle=Array.isArray;const Jp=Tle;function Ele(){return!1}var wB=typeof ci=="object"&&ci&&!ci.nodeType&&ci,JO=wB&&typeof fi=="object"&&fi&&!fi.nodeType&&fi,Ale=JO&&JO.exports===wB,ZO=Ale?to.Buffer:void 0,Cle=ZO?ZO.isBuffer:void 0,Ple=Cle||Ele;const SB=Ple;var Rle=9007199254740991,Lle=/^(?:0|[1-9]\d*)$/;function Ole(n,e){var t=typeof n;return e=e==null?Rle:e,!!e&&(t=="number"||t!="symbol"&&Lle.test(n))&&n>-1&&n%1==0&&n<e}var Ile=9007199254740991;function bB(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Ile}var Dle="[object Arguments]",Nle="[object Array]",kle="[object Boolean]",Fle="[object Date]",zle="[object Error]",Ule="[object Function]",Ble="[object Map]",Vle="[object Number]",Hle="[object Object]",Gle="[object RegExp]",jle="[object Set]",Wle="[object String]",$le="[object WeakMap]",qle="[object ArrayBuffer]",Xle="[object DataView]",Yle="[object Float32Array]",Kle="[object Float64Array]",Jle="[object Int8Array]",Zle="[object Int16Array]",Qle="[object Int32Array]",eue="[object Uint8Array]",tue="[object Uint8ClampedArray]",nue="[object Uint16Array]",rue="[object Uint32Array]",tn={};tn[Yle]=tn[Kle]=tn[Jle]=tn[Zle]=tn[Qle]=tn[eue]=tn[tue]=tn[nue]=tn[rue]=!0;tn[Dle]=tn[Nle]=tn[qle]=tn[kle]=tn[Xle]=tn[Fle]=tn[zle]=tn[Ule]=tn[Ble]=tn[Vle]=tn[Hle]=tn[Gle]=tn[jle]=tn[Wle]=tn[$le]=!1;function iue(n){return ku(n)&&bB(n.length)&&!!tn[Nu(n)]}function mA(n){return function(e){return n(e)}}var MB=typeof ci=="object"&&ci&&!ci.nodeType&&ci,gh=MB&&typeof fi=="object"&&fi&&!fi.nodeType&&fi,sue=gh&&gh.exports===MB,Mw=sue&&dB.process,oue=function(){try{var n=gh&&gh.require&&gh.require("util").types;return n||Mw&&Mw.binding&&Mw.binding("util")}catch{}}();const Ef=oue;var QO=Ef&&Ef.isTypedArray,aue=QO?mA(QO):iue;const lue=aue;var uue=Object.prototype,cue=uue.hasOwnProperty;function TB(n,e){var t=Jp(n),r=!t&&Mle(n),i=!t&&!r&&SB(n),s=!t&&!r&&!i&&lue(n),o=t||r||i||s,a=o?_le(n.length,String):[],l=a.length;for(var u in n)(e||cue.call(n,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ole(u,l)))&&a.push(u);return a}var fue=Object.prototype;function gA(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||fue;return n===t}var due=pB(Object.keys,Object);const hue=due;var pue=Object.prototype,mue=pue.hasOwnProperty;function gue(n){if(!gA(n))return hue(n);var e=[];for(var t in Object(n))mue.call(n,t)&&t!="constructor"&&e.push(t);return e}function EB(n){return n!=null&&bB(n.length)&&!vB(n)}function vA(n){return EB(n)?TB(n):gue(n)}function vue(n,e){return n&&f_(e,vA(e),n)}function yue(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var _ue=Object.prototype,xue=_ue.hasOwnProperty;function wue(n){if(!Kp(n))return yue(n);var e=gA(n),t=[];for(var r in n)r=="constructor"&&(e||!xue.call(n,r))||t.push(r);return t}function yA(n){return EB(n)?TB(n,!0):wue(n)}function Sue(n,e){return n&&f_(e,yA(e),n)}var AB=typeof ci=="object"&&ci&&!ci.nodeType&&ci,eI=AB&&typeof fi=="object"&&fi&&!fi.nodeType&&fi,bue=eI&&eI.exports===AB,tI=bue?to.Buffer:void 0,nI=tI?tI.allocUnsafe:void 0;function Mue(n,e){if(e)return n.slice();var t=n.length,r=nI?nI(t):new n.constructor(t);return n.copy(r),r}function CB(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}function Tue(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}function PB(){return[]}var Eue=Object.prototype,Aue=Eue.propertyIsEnumerable,rI=Object.getOwnPropertySymbols,Cue=rI?function(n){return n==null?[]:(n=Object(n),Tue(rI(n),function(e){return Aue.call(n,e)}))}:PB;const _A=Cue;function Pue(n,e){return f_(n,_A(n),e)}function RB(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var Rue=Object.getOwnPropertySymbols,Lue=Rue?function(n){for(var e=[];n;)RB(e,_A(n)),n=pA(n);return e}:PB;const LB=Lue;function Oue(n,e){return f_(n,LB(n),e)}function OB(n,e,t){var r=e(n);return Jp(n)?r:RB(r,t(n))}function Iue(n){return OB(n,vA,_A)}function Due(n){return OB(n,yA,LB)}var Nue=zu(to,"DataView");const fM=Nue;var kue=zu(to,"Promise");const dM=kue;var Fue=zu(to,"Set");const hM=Fue;var zue=zu(to,"WeakMap");const pM=zue;var iI="[object Map]",Uue="[object Object]",sI="[object Promise]",oI="[object Set]",aI="[object WeakMap]",lI="[object DataView]",Bue=Fu(fM),Vue=Fu(dp),Hue=Fu(dM),Gue=Fu(hM),jue=Fu(pM),Bl=Nu;(fM&&Bl(new fM(new ArrayBuffer(1)))!=lI||dp&&Bl(new dp)!=iI||dM&&Bl(dM.resolve())!=sI||hM&&Bl(new hM)!=oI||pM&&Bl(new pM)!=aI)&&(Bl=function(n){var e=Nu(n),t=e==Uue?n.constructor:void 0,r=t?Fu(t):"";if(r)switch(r){case Bue:return lI;case Vue:return iI;case Hue:return sI;case Gue:return oI;case jue:return aI}return e});const xA=Bl;var Wue=Object.prototype,$ue=Wue.hasOwnProperty;function que(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&$ue.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Xue=to.Uint8Array;const uI=Xue;function wA(n){var e=new n.constructor(n.byteLength);return new uI(e).set(new uI(n)),e}function Yue(n,e){var t=e?wA(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var Kue=/\w*$/;function Jue(n){var e=new n.constructor(n.source,Kue.exec(n));return e.lastIndex=n.lastIndex,e}var cI=il?il.prototype:void 0,fI=cI?cI.valueOf:void 0;function Zue(n){return fI?Object(fI.call(n)):{}}function Que(n,e){var t=e?wA(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var ece="[object Boolean]",tce="[object Date]",nce="[object Map]",rce="[object Number]",ice="[object RegExp]",sce="[object Set]",oce="[object String]",ace="[object Symbol]",lce="[object ArrayBuffer]",uce="[object DataView]",cce="[object Float32Array]",fce="[object Float64Array]",dce="[object Int8Array]",hce="[object Int16Array]",pce="[object Int32Array]",mce="[object Uint8Array]",gce="[object Uint8ClampedArray]",vce="[object Uint16Array]",yce="[object Uint32Array]";function _ce(n,e,t){var r=n.constructor;switch(e){case lce:return wA(n);case ece:case tce:return new r(+n);case uce:return Yue(n,t);case cce:case fce:case dce:case hce:case pce:case mce:case gce:case vce:case yce:return Que(n,t);case nce:return new r;case rce:case oce:return new r(n);case ice:return Jue(n);case sce:return new r;case ace:return Zue(n)}}var dI=Object.create,xce=function(){function n(){}return function(e){if(!Kp(e))return{};if(dI)return dI(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const wce=xce;function Sce(n){return typeof n.constructor=="function"&&!gA(n)?wce(pA(n)):{}}var bce="[object Map]";function Mce(n){return ku(n)&&xA(n)==bce}var hI=Ef&&Ef.isMap,Tce=hI?mA(hI):Mce;const Ece=Tce;var Ace="[object Set]";function Cce(n){return ku(n)&&xA(n)==Ace}var pI=Ef&&Ef.isSet,Pce=pI?mA(pI):Cce;const Rce=Pce;var Lce=1,Oce=2,Ice=4,IB="[object Arguments]",Dce="[object Array]",Nce="[object Boolean]",kce="[object Date]",Fce="[object Error]",DB="[object Function]",zce="[object GeneratorFunction]",Uce="[object Map]",Bce="[object Number]",NB="[object Object]",Vce="[object RegExp]",Hce="[object Set]",Gce="[object String]",jce="[object Symbol]",Wce="[object WeakMap]",$ce="[object ArrayBuffer]",qce="[object DataView]",Xce="[object Float32Array]",Yce="[object Float64Array]",Kce="[object Int8Array]",Jce="[object Int16Array]",Zce="[object Int32Array]",Qce="[object Uint8Array]",efe="[object Uint8ClampedArray]",tfe="[object Uint16Array]",nfe="[object Uint32Array]",Yt={};Yt[IB]=Yt[Dce]=Yt[$ce]=Yt[qce]=Yt[Nce]=Yt[kce]=Yt[Xce]=Yt[Yce]=Yt[Kce]=Yt[Jce]=Yt[Zce]=Yt[Uce]=Yt[Bce]=Yt[NB]=Yt[Vce]=Yt[Hce]=Yt[Gce]=Yt[jce]=Yt[Qce]=Yt[efe]=Yt[tfe]=Yt[nfe]=!0;Yt[Fce]=Yt[DB]=Yt[Wce]=!1;function vh(n,e,t,r,i,s){var o,a=e&Lce,l=e&Oce,u=e&Ice;if(t&&(o=i?t(n,r,i,s):t(n)),o!==void 0)return o;if(!Kp(n))return n;var f=Jp(n);if(f){if(o=que(n),!a)return CB(n,o)}else{var h=xA(n),p=h==DB||h==zce;if(SB(n))return Mue(n,a);if(h==NB||h==IB||p&&!i){if(o=l||p?{}:Sce(n),!a)return l?Oue(n,Sue(o,n)):Pue(n,vue(o,n))}else{if(!Yt[h])return i?n:{};o=_ce(n,h,a)}}s||(s=new jf);var m=s.get(n);if(m)return m;s.set(n,o),Rce(n)?n.forEach(function(_){o.add(vh(_,e,t,_,n,s))}):Ece(n)&&n.forEach(function(_,y){o.set(y,vh(_,e,t,y,n,s))});var g=u?l?Due:Iue:l?yA:vA,v=f?void 0:g(n);return mle(v||n,function(_,y){v&&(y=_,_=n[y]),_B(o,y,vh(_,e,t,y,n,s))}),o}var rfe=4;function mI(n){return vh(n,rfe)}function kB(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var ife="[object Symbol]";function SA(n){return typeof n=="symbol"||ku(n)&&Nu(n)==ife}var sfe="Expected a function";function bA(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(sfe);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return t.cache=s.set(i,o)||s,o};return t.cache=new(bA.Cache||dl),t}bA.Cache=dl;var ofe=500;function afe(n){var e=bA(n,function(r){return t.size===ofe&&t.clear(),r}),t=e.cache;return e}var lfe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ufe=/\\(\\)?/g,cfe=afe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(lfe,function(t,r,i,s){e.push(i?s.replace(ufe,"$1"):r||t)}),e});const ffe=cfe;var dfe=1/0;function hfe(n){if(typeof n=="string"||SA(n))return n;var e=n+"";return e=="0"&&1/n==-dfe?"-0":e}var pfe=1/0,gI=il?il.prototype:void 0,vI=gI?gI.toString:void 0;function FB(n){if(typeof n=="string")return n;if(Jp(n))return kB(n,FB)+"";if(SA(n))return vI?vI.call(n):"";var e=n+"";return e=="0"&&1/n==-pfe?"-0":e}function mfe(n){return n==null?"":FB(n)}function zB(n){return Jp(n)?kB(n,hfe):SA(n)?[n]:CB(ffe(mfe(n)))}var gfe=!0;function vfe(n,e){if(!gfe){if(n)return;var t="Warning: "+e;typeof console<"u"&&console.warn(t);try{throw Error(t)}catch{}}}var yfe=1,_fe=4;function xfe(n){return vh(n,yfe|_fe)}function On(){return On=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},On.apply(this,arguments)}function wfe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function MA(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function yI(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var _I=function(e){return Array.isArray(e)&&e.length===0},Fi=function(e){return typeof e=="function"},d_=function(e){return e!==null&&typeof e=="object"},Sfe=function(e){return String(Math.floor(Number(e)))===e},Tw=function(e){return Object.prototype.toString.call(e)==="[object String]"},bfe=function(e){return z.exports.Children.count(e)===0},Ew=function(e){return d_(e)&&Fi(e.then)};function rr(n,e,t,r){r===void 0&&(r=0);for(var i=zB(e);n&&r<i.length;)n=n[i[r++]];return n===void 0?t:n}function Js(n,e,t){for(var r=mI(n),i=r,s=0,o=zB(e);s<o.length-1;s++){var a=o[s],l=rr(n,o.slice(0,s+1));if(l&&(d_(l)||Array.isArray(l)))i=i[a]=mI(l);else{var u=o[s+1];i=i[a]=Sfe(u)&&Number(u)>=0?[]:{}}}return(s===0?n:i)[o[s]]===t?n:(t===void 0?delete i[o[s]]:i[o[s]]=t,s===0&&t===void 0&&delete r[o[s]],r)}function UB(n,e,t,r){t===void 0&&(t=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(n);i<s.length;i++){var o=s[i],a=n[o];d_(a)?t.get(a)||(t.set(a,!0),r[o]=Array.isArray(a)?[]:{},UB(a,e,t,r[o])):r[o]=e}return r}var h_=z.exports.createContext(void 0);h_.displayName="FormikContext";h_.Provider;h_.Consumer;function Mfe(){var n=z.exports.useContext(h_);return n||vfe(!1),n}function Tfe(n,e){switch(e.type){case"SET_VALUES":return On({},n,{values:e.payload});case"SET_TOUCHED":return On({},n,{touched:e.payload});case"SET_ERRORS":return ba(n.errors,e.payload)?n:On({},n,{errors:e.payload});case"SET_STATUS":return On({},n,{status:e.payload});case"SET_ISSUBMITTING":return On({},n,{isSubmitting:e.payload});case"SET_ISVALIDATING":return On({},n,{isValidating:e.payload});case"SET_FIELD_VALUE":return On({},n,{values:Js(n.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return On({},n,{touched:Js(n.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return On({},n,{errors:Js(n.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return On({},n,e.payload);case"SET_FORMIK_STATE":return e.payload(n);case"SUBMIT_ATTEMPT":return On({},n,{touched:UB(n.values,!0),isSubmitting:!0,submitCount:n.submitCount+1});case"SUBMIT_FAILURE":return On({},n,{isSubmitting:!1});case"SUBMIT_SUCCESS":return On({},n,{isSubmitting:!1});default:return n}}var Il={},vv={};function BB(n){var e=n.validateOnChange,t=e===void 0?!0:e,r=n.validateOnBlur,i=r===void 0?!0:r,s=n.validateOnMount,o=s===void 0?!1:s,a=n.isInitialValid,l=n.enableReinitialize,u=l===void 0?!1:l,f=n.onSubmit,h=MA(n,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=On({validateOnChange:t,validateOnBlur:i,validateOnMount:o,onSubmit:f},h),m=z.exports.useRef(p.initialValues),g=z.exports.useRef(p.initialErrors||Il),v=z.exports.useRef(p.initialTouched||vv),_=z.exports.useRef(p.initialStatus),y=z.exports.useRef(!1),w=z.exports.useRef({});z.exports.useEffect(function(){return y.current=!0,function(){y.current=!1}},[]);var S=z.exports.useReducer(Tfe,{values:p.initialValues,errors:p.initialErrors||Il,touched:p.initialTouched||vv,status:p.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),M=S[0],T=S[1],P=z.exports.useCallback(function(re,Ee){return new Promise(function(F,D){var te=p.validate(re,Ee);te==null?F(Il):Ew(te)?te.then(function(ye){F(ye||Il)},function(ye){D(ye)}):F(te)})},[p.validate]),L=z.exports.useCallback(function(re,Ee){var F=p.validationSchema,D=Fi(F)?F(Ee):F,te=Ee&&D.validateAt?D.validateAt(Ee,re):Afe(re,D);return new Promise(function(ye,be){te.then(function(){ye(Il)},function(De){De.name==="ValidationError"?ye(Efe(De)):be(De)})})},[p.validationSchema]),A=z.exports.useCallback(function(re,Ee){return new Promise(function(F){return F(w.current[re].validate(Ee))})},[]),R=z.exports.useCallback(function(re){var Ee=Object.keys(w.current).filter(function(D){return Fi(w.current[D].validate)}),F=Ee.length>0?Ee.map(function(D){return A(D,rr(re,D))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(F).then(function(D){return D.reduce(function(te,ye,be){return ye==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ye&&(te=Js(te,Ee[be],ye)),te},{})})},[A]),k=z.exports.useCallback(function(re){return Promise.all([R(re),p.validationSchema?L(re):{},p.validate?P(re):{}]).then(function(Ee){var F=Ee[0],D=Ee[1],te=Ee[2],ye=cM.all([F,D,te],{arrayMerge:Cfe});return ye})},[p.validate,p.validationSchema,R,P,L]),G=Ni(function(re){return re===void 0&&(re=M.values),T({type:"SET_ISVALIDATING",payload:!0}),k(re).then(function(Ee){return y.current&&(T({type:"SET_ISVALIDATING",payload:!1}),T({type:"SET_ERRORS",payload:Ee})),Ee})});z.exports.useEffect(function(){o&&y.current===!0&&ba(m.current,p.initialValues)&&G(m.current)},[o,G]);var Z=z.exports.useCallback(function(re){var Ee=re&&re.values?re.values:m.current,F=re&&re.errors?re.errors:g.current?g.current:p.initialErrors||{},D=re&&re.touched?re.touched:v.current?v.current:p.initialTouched||{},te=re&&re.status?re.status:_.current?_.current:p.initialStatus;m.current=Ee,g.current=F,v.current=D,_.current=te;var ye=function(){T({type:"RESET_FORM",payload:{isSubmitting:!!re&&!!re.isSubmitting,errors:F,touched:D,status:te,values:Ee,isValidating:!!re&&!!re.isValidating,submitCount:!!re&&!!re.submitCount&&typeof re.submitCount=="number"?re.submitCount:0}})};if(p.onReset){var be=p.onReset(M.values,Ke);Ew(be)?be.then(ye):ye()}else ye()},[p.initialErrors,p.initialStatus,p.initialTouched]);z.exports.useEffect(function(){y.current===!0&&!ba(m.current,p.initialValues)&&(u&&(m.current=p.initialValues,Z()),o&&G(m.current))},[u,p.initialValues,Z,o,G]),z.exports.useEffect(function(){u&&y.current===!0&&!ba(g.current,p.initialErrors)&&(g.current=p.initialErrors||Il,T({type:"SET_ERRORS",payload:p.initialErrors||Il}))},[u,p.initialErrors]),z.exports.useEffect(function(){u&&y.current===!0&&!ba(v.current,p.initialTouched)&&(v.current=p.initialTouched||vv,T({type:"SET_TOUCHED",payload:p.initialTouched||vv}))},[u,p.initialTouched]),z.exports.useEffect(function(){u&&y.current===!0&&!ba(_.current,p.initialStatus)&&(_.current=p.initialStatus,T({type:"SET_STATUS",payload:p.initialStatus}))},[u,p.initialStatus,p.initialTouched]);var W=Ni(function(re){if(w.current[re]&&Fi(w.current[re].validate)){var Ee=rr(M.values,re),F=w.current[re].validate(Ee);return Ew(F)?(T({type:"SET_ISVALIDATING",payload:!0}),F.then(function(D){return D}).then(function(D){T({type:"SET_FIELD_ERROR",payload:{field:re,value:D}}),T({type:"SET_ISVALIDATING",payload:!1})})):(T({type:"SET_FIELD_ERROR",payload:{field:re,value:F}}),Promise.resolve(F))}else if(p.validationSchema)return T({type:"SET_ISVALIDATING",payload:!0}),L(M.values,re).then(function(D){return D}).then(function(D){T({type:"SET_FIELD_ERROR",payload:{field:re,value:D[re]}}),T({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),O=z.exports.useCallback(function(re,Ee){var F=Ee.validate;w.current[re]={validate:F}},[]),j=z.exports.useCallback(function(re){delete w.current[re]},[]),$=Ni(function(re,Ee){T({type:"SET_TOUCHED",payload:re});var F=Ee===void 0?i:Ee;return F?G(M.values):Promise.resolve()}),ie=z.exports.useCallback(function(re){T({type:"SET_ERRORS",payload:re})},[]),I=Ni(function(re,Ee){var F=Fi(re)?re(M.values):re;T({type:"SET_VALUES",payload:F});var D=Ee===void 0?t:Ee;return D?G(F):Promise.resolve()}),N=z.exports.useCallback(function(re,Ee){T({type:"SET_FIELD_ERROR",payload:{field:re,value:Ee}})},[]),U=Ni(function(re,Ee,F){T({type:"SET_FIELD_VALUE",payload:{field:re,value:Ee}});var D=F===void 0?t:F;return D?G(Js(M.values,re,Ee)):Promise.resolve()}),X=z.exports.useCallback(function(re,Ee){var F=Ee,D=re,te;if(!Tw(re)){re.persist&&re.persist();var ye=re.target?re.target:re.currentTarget,be=ye.type,De=ye.name,nt=ye.id,ke=ye.value,xe=ye.checked,Je=ye.outerHTML,q=ye.options,de=ye.multiple;F=Ee||De||nt,D=/number|range/.test(be)?(te=parseFloat(ke),isNaN(te)?"":te):/checkbox/.test(be)?Rfe(rr(M.values,F),xe,ke):q&&de?Pfe(q):ke}F&&U(F,D)},[U,M.values]),Y=Ni(function(re){if(Tw(re))return function(Ee){return X(Ee,re)};X(re)}),ae=Ni(function(re,Ee,F){Ee===void 0&&(Ee=!0),T({type:"SET_FIELD_TOUCHED",payload:{field:re,value:Ee}});var D=F===void 0?i:F;return D?G(M.values):Promise.resolve()}),se=z.exports.useCallback(function(re,Ee){re.persist&&re.persist();var F=re.target,D=F.name,te=F.id,ye=F.outerHTML,be=Ee||D||te;ae(be,!0)},[ae]),ge=Ni(function(re){if(Tw(re))return function(Ee){return se(Ee,re)};se(re)}),oe=z.exports.useCallback(function(re){Fi(re)?T({type:"SET_FORMIK_STATE",payload:re}):T({type:"SET_FORMIK_STATE",payload:function(){return re}})},[]),Ne=z.exports.useCallback(function(re){T({type:"SET_STATUS",payload:re})},[]),Ue=z.exports.useCallback(function(re){T({type:"SET_ISSUBMITTING",payload:re})},[]),He=Ni(function(){return T({type:"SUBMIT_ATTEMPT"}),G().then(function(re){var Ee=re instanceof Error,F=!Ee&&Object.keys(re).length===0;if(F){var D;try{if(D=ve(),D===void 0)return}catch(te){throw te}return Promise.resolve(D).then(function(te){return y.current&&T({type:"SUBMIT_SUCCESS"}),te}).catch(function(te){if(y.current)throw T({type:"SUBMIT_FAILURE"}),te})}else if(y.current&&(T({type:"SUBMIT_FAILURE"}),Ee))throw re})}),Pe=Ni(function(re){re&&re.preventDefault&&Fi(re.preventDefault)&&re.preventDefault(),re&&re.stopPropagation&&Fi(re.stopPropagation)&&re.stopPropagation(),He().catch(function(Ee){console.warn("Warning: An unhandled error was caught from submitForm()",Ee)})}),Ke={resetForm:Z,validateForm:G,validateField:W,setErrors:ie,setFieldError:N,setFieldTouched:ae,setFieldValue:U,setStatus:Ne,setSubmitting:Ue,setTouched:$,setValues:I,setFormikState:oe,submitForm:He},ve=Ni(function(){return f(M.values,Ke)}),fe=Ni(function(re){re&&re.preventDefault&&Fi(re.preventDefault)&&re.preventDefault(),re&&re.stopPropagation&&Fi(re.stopPropagation)&&re.stopPropagation(),Z()}),Me=z.exports.useCallback(function(re){return{value:rr(M.values,re),error:rr(M.errors,re),touched:!!rr(M.touched,re),initialValue:rr(m.current,re),initialTouched:!!rr(v.current,re),initialError:rr(g.current,re)}},[M.errors,M.touched,M.values]),Be=z.exports.useCallback(function(re){return{setValue:function(F,D){return U(re,F,D)},setTouched:function(F,D){return ae(re,F,D)},setError:function(F){return N(re,F)}}},[U,ae,N]),Re=z.exports.useCallback(function(re){var Ee=d_(re),F=Ee?re.name:re,D=rr(M.values,F),te={name:F,value:D,onChange:Y,onBlur:ge};if(Ee){var ye=re.type,be=re.value,De=re.as,nt=re.multiple;ye==="checkbox"?be===void 0?te.checked=!!D:(te.checked=!!(Array.isArray(D)&&~D.indexOf(be)),te.value=be):ye==="radio"?(te.checked=D===be,te.value=be):De==="select"&&nt&&(te.value=te.value||[],te.multiple=!0)}return te},[ge,Y,M.values]),tt=z.exports.useMemo(function(){return!ba(m.current,M.values)},[m.current,M.values]),Xe=z.exports.useMemo(function(){return typeof a<"u"?tt?M.errors&&Object.keys(M.errors).length===0:a!==!1&&Fi(a)?a(p):a:M.errors&&Object.keys(M.errors).length===0},[a,tt,M.errors,p]),$e=On({},M,{initialValues:m.current,initialErrors:g.current,initialTouched:v.current,initialStatus:_.current,handleBlur:ge,handleChange:Y,handleReset:fe,handleSubmit:Pe,resetForm:Z,setErrors:ie,setFormikState:oe,setFieldTouched:ae,setFieldValue:U,setFieldError:N,setStatus:Ne,setSubmitting:Ue,setTouched:$,setValues:I,submitForm:He,validateForm:G,validateField:W,isValid:Xe,dirty:tt,unregisterField:j,registerField:O,getFieldProps:Re,getFieldMeta:Me,getFieldHelpers:Be,validateOnBlur:i,validateOnChange:t,validateOnMount:o});return $e}function Efe(n){var e={};if(n.inner){if(n.inner.length===0)return Js(e,n.path,n.message);for(var i=n.inner,t=Array.isArray(i),r=0,i=t?i:i[Symbol.iterator]();;){var s;if(t){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;rr(e,o.path)||(e=Js(e,o.path,o.message))}}return e}function Afe(n,e,t,r){t===void 0&&(t=!1),r===void 0&&(r={});var i=mM(n);return e[t?"validateSync":"validate"](i,{abortEarly:!1,context:r})}function mM(n){var e=Array.isArray(n)?[]:{};for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var r=String(t);Array.isArray(n[r])===!0?e[r]=n[r].map(function(i){return Array.isArray(i)===!0||qO(i)?mM(i):i!==""?i:void 0}):qO(n[r])?e[r]=mM(n[r]):e[r]=n[r]!==""?n[r]:void 0}return e}function Cfe(n,e,t){var r=n.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=t.clone!==!1,l=a&&t.isMergeableObject(s);r[o]=l?cM(Array.isArray(s)?[]:{},s,t):s}else t.isMergeableObject(s)?r[o]=cM(n[o],s,t):n.indexOf(s)===-1&&r.push(s)}),r}function Pfe(n){return Array.from(n).filter(function(e){return e.selected}).map(function(e){return e.value})}function Rfe(n,e,t){if(typeof n=="boolean")return Boolean(e);var r=[],i=!1,s=-1;if(Array.isArray(n))r=n,s=n.indexOf(t),i=s>=0;else if(!t||t=="true"||t=="false")return Boolean(e);return e&&t&&!i?r.concat(t):i?r.slice(0,s).concat(r.slice(s+1)):r}var Lfe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?z.exports.useLayoutEffect:z.exports.useEffect;function Ni(n){var e=z.exports.useRef(n);return Lfe(function(){e.current=n}),z.exports.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var Ofe=z.exports.forwardRef(function(n,e){var t=n.action,r=MA(n,["action"]),i=t!=null?t:"#",s=Mfe(),o=s.handleReset,a=s.handleSubmit;return z.exports.createElement("form",Object.assign({onSubmit:a,ref:e,onReset:o,action:i},r))});Ofe.displayName="Form";var Ife=function(e,t,r){var i=Af(e),s=i[t];return i.splice(t,1),i.splice(r,0,s),i},Dfe=function(e,t,r){var i=Af(e),s=i[t];return i[t]=i[r],i[r]=s,i},Aw=function(e,t,r){var i=Af(e);return i.splice(t,0,r),i},Nfe=function(e,t,r){var i=Af(e);return i[t]=r,i},Af=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(On({},e,{length:t+1}))}else return[]},kfe=function(n){wfe(e,n);function e(r){var i;return i=n.call(this,r)||this,i.updateArrayField=function(s,o,a){var l=i.props,u=l.name,f=l.formik.setFormikState;f(function(h){var p=typeof a=="function"?a:s,m=typeof o=="function"?o:s,g=Js(h.values,u,s(rr(h.values,u))),v=a?p(rr(h.errors,u)):void 0,_=o?m(rr(h.touched,u)):void 0;return _I(v)&&(v=void 0),_I(_)&&(_=void 0),On({},h,{values:g,errors:a?Js(h.errors,u,v):h.errors,touched:o?Js(h.touched,u,_):h.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(Af(o),[xfe(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return Dfe(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return Ife(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return Aw(a,s,o)},function(a){return Aw(a,s,null)},function(a){return Aw(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return Nfe(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var l=a?[s].concat(a):[s];return o<0&&(o=l.length),l},function(a){var l=a?[null].concat(a):[null];return o<0&&(o=l.length),l},function(a){var l=a?[null].concat(a):[null];return o<0&&(o=l.length),l}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(yI(i)),i.pop=i.pop.bind(yI(i)),i}var t=e.prototype;return t.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!ba(rr(i.formik.values,i.name),rr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},t.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?Af(o):[];return s||(s=a[i]),Fi(a.splice)&&a.splice(i,1),a},!0,!0),s},t.pop=function(){var i;return this.updateArrayField(function(s){var o=s;return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},t.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,l=s.children,u=s.name,f=s.formik,h=MA(f,["validate","validationSchema"]),p=On({},i,{form:h,name:u});return o?z.exports.createElement(o,p):a?a(p):l?typeof l=="function"?l(p):bfe(l)?null:z.exports.Children.only(l):null},e}(z.exports.Component);kfe.defaultProps={validateOnChange:!0};const Ffe="_Form_6od0k_1",zfe="_GoogleLogin_6od0k_18",Ufe="_GoogleLogin__separator_6od0k_24",Cw={Form:Ffe,GoogleLogin:zfe,GoogleLogin__separator:Ufe},Bfe={email:"",password:""},Vfe=()=>{const{login:n,error:e,isLoading:t,loginWithGoogle:r}=xE(),{handleChange:i,handleSubmit:s}=BB({initialValues:Bfe,onSubmit:async o=>{n(o)}});return lt("form",{onSubmit:s,className:Cw.Form,children:[ne("h2",{children:"Log In"}),ne("br",{}),e&&!t&&ne(hA,{variant:"error",message:e}),ne("br",{}),lt(df.div,{layout:!0,children:[ne(z0,{name:"email",placeholder:"email@example.com",label:"Email",onChange:i}),ne("br",{}),ne("br",{}),ne(z0,{name:"password",label:"Password",placeholder:"******",type:"password",onChange:i})]}),ne(Ya,{loading:t,children:"LOG IN"}),lt(df.div,{className:Cw.GoogleLogin,layout:!0,children:[lt("div",{className:Cw.GoogleLogin__separator,children:[ne("div",{}),ne("p",{children:"Or login with"}),ne("div",{})]}),ne(Ya,{variant:"outline",loading:t,type:"button",onClick:r,children:"GOOGLE"})]})]})},Hfe="_Form_6od0k_1",Gfe="_GoogleLogin_6od0k_18",jfe="_GoogleLogin__separator_6od0k_24",Pw={Form:Hfe,GoogleLogin:Gfe,GoogleLogin__separator:jfe},Wfe={email:"",password:""},$fe=()=>{const{signUp:n,error:e,isLoading:t,loginWithGoogle:r}=xE(),{handleChange:i,handleSubmit:s}=BB({initialValues:Wfe,onSubmit:async o=>{n(o)}});return lt("form",{onSubmit:s,className:Pw.Form,children:[ne("h2",{children:"Create Account"}),ne("br",{}),e&&!t&&ne(hA,{variant:"error",message:e}),ne("br",{}),lt(df.div,{layout:!0,children:[ne(z0,{name:"email",placeholder:"email@example.com",label:"Email",onChange:i}),ne("br",{}),ne("br",{}),ne(z0,{name:"password",label:"Password",type:"password",placeholder:"******",onChange:i})]}),ne(Ya,{loading:t,children:"sign up"}),lt(df.div,{className:Pw.GoogleLogin,layout:!0,children:[lt("div",{className:Pw.GoogleLogin__separator,children:[ne("div",{}),ne("p",{children:"Or Sign Up with"}),ne("div",{})]}),ne(Ya,{variant:"outline",type:"button",onClick:r,children:"GOOGLE"})]})]})};/**
 * @remix-run/router v1.0.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W0(){return W0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},W0.apply(this,arguments)}var Ia;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ia||(Ia={}));const xI="popstate";function qfe(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return gM("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:pp(i)}return Kfe(e,t,null,n)}function Xfe(){return Math.random().toString(36).substr(2,8)}function wI(n){return{usr:n.state,key:n.key}}function gM(n,e,t,r){return t===void 0&&(t=null),W0({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wf(e):e,{state:t,key:e&&e.key||r||Xfe()})}function pp(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wf(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Yfe(n){let e=typeof window<"u"&&typeof window.location<"u"&&window.location.origin!=="null"?window.location.origin:"unknown://unknown",t=typeof n=="string"?n:pp(n);return new URL(t,e)}function Kfe(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ia.Pop,l=null;function u(){a=Ia.Pop,l&&l({action:a,location:p.location})}function f(m,g){a=Ia.Push;let v=gM(p.location,m,g);t&&t(v,m);let _=wI(v),y=p.createHref(v);try{o.pushState(_,"",y)}catch{i.location.assign(y)}s&&l&&l({action:a,location:p.location})}function h(m,g){a=Ia.Replace;let v=gM(p.location,m,g);t&&t(v,m);let _=wI(v),y=p.createHref(v);o.replaceState(_,"",y),s&&l&&l({action:a,location:p.location})}let p={get action(){return a},get location(){return n(i,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(xI,u),l=m,()=>{i.removeEventListener(xI,u),l=null}},createHref(m){return e(i,m)},encodeLocation(m){let g=Yfe(typeof m=="string"?m:pp(m));return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(m){return o.go(m)}};return p}var SI;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(SI||(SI={}));function Jfe(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?Wf(e):e,i=HB(r.pathname||"/",t);if(i==null)return null;let s=VB(n);Zfe(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=ade(s[a],cde(i));return o}function VB(n,e,t,r){return e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r=""),n.forEach((i,s)=>{let o={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};o.relativePath.startsWith("/")&&(Qn(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(r.length));let a=ja([r,o.relativePath]),l=t.concat(o);i.children&&i.children.length>0&&(Qn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),VB(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:sde(a,i.index),routesMeta:l})}),e}function Zfe(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ode(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const Qfe=/^:\w+$/,ede=3,tde=2,nde=1,rde=10,ide=-2,bI=n=>n==="*";function sde(n,e){let t=n.split("/"),r=t.length;return t.some(bI)&&(r+=ide),e&&(r+=tde),t.filter(i=>!bI(i)).reduce((i,s)=>i+(Qfe.test(s)?ede:s===""?nde:rde),r)}function ode(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function ade(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],l=o===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",f=lde({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!f)return null;Object.assign(r,f.params);let h=a.route;s.push({params:r,pathname:ja([i,f.pathname]),pathnameBase:pde(ja([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ja([i,f.pathnameBase]))}return s}function lde(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ude(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,f,h)=>{if(f==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return u[f]=fde(a[h]||"",f),u},{}),pathname:s,pathnameBase:o,pattern:n}}function ude(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),TA(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(o,a)=>(r.push(a),"([^\\/]+)"));return n.endsWith("*")?(r.push("*"),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cde(n){try{return decodeURI(n)}catch(e){return TA(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function fde(n,e){try{return decodeURIComponent(n)}catch(t){return TA(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),n}}function HB(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Qn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function TA(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dde(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Wf(n):n;return{pathname:t?t.startsWith("/")?t:hde(t,e):e,search:mde(r),hash:gde(i)}}function hde(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Rw(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GB(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jB(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Wf(n):(i=W0({},n),Qn(!i.pathname||!i.pathname.includes("?"),Rw("?","pathname","search",i)),Qn(!i.pathname||!i.pathname.includes("#"),Rw("#","pathname","hash",i)),Qn(!i.search||!i.search.includes("#"),Rw("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=t;else{let h=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=dde(i,a),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const ja=n=>n.join("/").replace(/\/\/+/g,"/"),pde=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mde=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gde=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class vde{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function yde(n){return n instanceof vde}const _de=["post","put","patch","delete"];[..._de];/**
 * React Router v6.4.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vM(){return vM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},vM.apply(this,arguments)}function xde(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}const wde=typeof Object.is=="function"?Object.is:xde,{useState:Sde,useEffect:bde,useLayoutEffect:Mde,useDebugValue:Tde}=pu;function Ede(n,e,t){const r=e(),[{inst:i},s]=Sde({inst:{value:r,getSnapshot:e}});return Mde(()=>{i.value=r,i.getSnapshot=e,Lw(i)&&s({inst:i})},[n,r,e]),bde(()=>(Lw(i)&&s({inst:i}),n(()=>{Lw(i)&&s({inst:i})})),[n]),Tde(r),r}function Lw(n){const e=n.getSnapshot,t=n.value;try{const r=e();return!wde(t,r)}catch{return!0}}function Ade(n,e,t){return e()}const Cde=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pde=!Cde,Rde=Pde?Ade:Ede;"useSyncExternalStore"in pu&&(n=>n.useSyncExternalStore)(pu);const Lde=z.exports.createContext(null),Ode=z.exports.createContext(null),WB=z.exports.createContext(null),p_=z.exports.createContext(null),m_=z.exports.createContext(null),$f=z.exports.createContext({outlet:null,matches:[]}),$B=z.exports.createContext(null);function Ide(n,e){let{relative:t}=e===void 0?{}:e;Zp()||Qn(!1);let{basename:r,navigator:i}=z.exports.useContext(p_),{hash:s,pathname:o,search:a}=XB(n,{relative:t}),l=o;return r!=="/"&&(l=o==="/"?r:ja([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Zp(){return z.exports.useContext(m_)!=null}function Qp(){return Zp()||Qn(!1),z.exports.useContext(m_).location}function qB(){Zp()||Qn(!1);let{basename:n,navigator:e}=z.exports.useContext(p_),{matches:t}=z.exports.useContext($f),{pathname:r}=Qp(),i=JSON.stringify(GB(t).map(a=>a.pathnameBase)),s=z.exports.useRef(!1);return z.exports.useEffect(()=>{s.current=!0}),z.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!s.current)return;if(typeof a=="number"){e.go(a);return}let u=jB(a,JSON.parse(i),r,l.relative==="path");n!=="/"&&(u.pathname=u.pathname==="/"?n:ja([n,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[n,e,i,r])}function Dde(){let{matches:n}=z.exports.useContext($f),e=n[n.length-1];return e?e.params:{}}function XB(n,e){let{relative:t}=e===void 0?{}:e,{matches:r}=z.exports.useContext($f),{pathname:i}=Qp(),s=JSON.stringify(GB(r).map(o=>o.pathnameBase));return z.exports.useMemo(()=>jB(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function Nde(n,e){Zp()||Qn(!1);let{navigator:t}=z.exports.useContext(p_),r=z.exports.useContext(WB),{matches:i}=z.exports.useContext($f),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Qp(),u;if(e){var f;let v=typeof e=="string"?Wf(e):e;a==="/"||((f=v.pathname)==null?void 0:f.startsWith(a))||Qn(!1),u=v}else u=l;let h=u.pathname||"/",p=a==="/"?h:h.slice(a.length)||"/",m=Jfe(n,{pathname:p}),g=Ude(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:ja([a,t.encodeLocation?t.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:ja([a,t.encodeLocation?t.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r||void 0);return e&&g?ne(m_.Provider,{value:{location:vM({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ia.Pop},children:g}):g}function kde(){let n=Vde(),e=yde(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r};return lt(Yi,{children:[ne("h2",{children:"Unhandled Thrown Error!"}),ne("h3",{style:{fontStyle:"italic"},children:e}),t?ne("pre",{style:i,children:t}):null,ne("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),lt("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",ne("code",{style:s,children:"errorElement"})," props on\xA0",ne("code",{style:s,children:"<Route>"})]})]})}class Fde extends z.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?ne($B.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function zde(n){let{routeContext:e,match:t,children:r}=n,i=z.exports.useContext(Lde);return i&&t.route.errorElement&&(i._deepestRenderedBoundaryId=t.route.id),ne($f.Provider,{value:e,children:r})}function Ude(n,e,t){if(e===void 0&&(e=[]),n==null)if(t!=null&&t.errors)n=t.matches;else return null;let r=n,i=t==null?void 0:t.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||Qn(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=t?o.route.errorElement||ne(kde,{}):null,f=()=>ne(zde,{match:o,routeContext:{outlet:s,matches:e.concat(r.slice(0,a+1))},children:l?u:o.route.element!==void 0?o.route.element:s});return t&&(o.route.errorElement||a===0)?ne(Fde,{location:t.location,component:u,error:l,children:f()}):f()},null)}var MI;(function(n){n.UseRevalidator="useRevalidator"})(MI||(MI={}));var yM;(function(n){n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator"})(yM||(yM={}));function Bde(n){let e=z.exports.useContext(WB);return e||Qn(!1),e}function Vde(){var n;let e=z.exports.useContext($B),t=Bde(yM.UseRouteError),r=z.exports.useContext($f),i=r.matches[r.matches.length-1];return e||(r||Qn(!1),i.route.id||Qn(!1),(n=t.errors)==null?void 0:n[i.route.id])}function ya(n){Qn(!1)}function Hde(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Ia.Pop,navigator:s,static:o=!1}=n;Zp()&&Qn(!1);let a=e.replace(/^\/*/,"/"),l=z.exports.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Wf(r));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:m="default"}=r,g=z.exports.useMemo(()=>{let v=HB(u,a);return v==null?null:{pathname:v,search:f,hash:h,state:p,key:m}},[a,u,f,h,p,m]);return g==null?null:ne(p_.Provider,{value:l,children:ne(m_.Provider,{children:t,value:{location:g,navigationType:i}})})}function Gde(n){let{children:e,location:t}=n,r=z.exports.useContext(Ode),i=r&&!e?r.router.routes:_M(e);return Nde(i,t)}var TI;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(TI||(TI={}));new Promise(()=>{});function _M(n,e){e===void 0&&(e=[]);let t=[];return z.exports.Children.forEach(n,(r,i)=>{if(!z.exports.isValidElement(r))return;if(r.type===z.exports.Fragment){t.push.apply(t,_M(r.props.children,e));return}r.type!==ya&&Qn(!1),!r.props.index||!r.props.children||Qn(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=_M(r.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.4.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jde(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Wde(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $de(n,e){return n.button===0&&(!e||e==="_self")&&!Wde(n)}const qde=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Xde(n){let{basename:e,children:t,window:r}=n,i=z.exports.useRef();i.current==null&&(i.current=qfe({window:r,v5Compat:!0}));let s=i.current,[o,a]=z.exports.useState({action:s.action,location:s.location});return z.exports.useLayoutEffect(()=>s.listen(a),[s]),ne(Hde,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}const YB=z.exports.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:f}=e,h=jde(e,qde),p=Ide(u,{relative:i}),m=Yde(u,{replace:o,state:a,target:l,preventScrollReset:f,relative:i});function g(v){r&&r(v),v.defaultPrevented||m(v)}return ne("a",{...h,href:p,onClick:s?r:g,ref:t,target:l})});var EI;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmitImpl="useSubmitImpl",n.UseFetcher="useFetcher"})(EI||(EI={}));var AI;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(AI||(AI={}));function Yde(n,e){let{target:t,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=qB(),l=Qp(),u=XB(n,{relative:o});return z.exports.useCallback(f=>{if($de(f,t)){f.preventDefault();let h=r!==void 0?r:pp(l)===pp(u);a(n,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,t,n,s,o])}const Kde=({children:n})=>{Qp();const e="",t=z.exports.createRef(),r=e.slice(1,e.length).replace("/","-");return z.exports.useEffect(()=>{(t==null?void 0:t.current)!=null&&(t.current.style.opacity="1")},[]),ne(Yi,{children:lt(fB.SessionContextProvider,{supabaseClient:Ao,initialSession:null,children:[ne("div",{ref:t,className:`common-bg ${r}-background`}),n]})})},Jde="_MainContainer_19n7a_1",Zde="_BackgroundCity_19n7a_6",Qde="_globe_19n7a_23",CI={MainContainer:Jde,BackgroundCity:Zde,globe:Qde},PI=(n,e)=>(n%e+e)%e;class ehe extends eo{constructor(e,t){super(),dt(this,"object",void 0),dt(this,"domElement",void 0),dt(this,"enabled",!0),dt(this,"target",new B),dt(this,"minDistance",0),dt(this,"maxDistance",1/0),dt(this,"minZoom",0),dt(this,"maxZoom",1/0),dt(this,"minPolarAngle",0),dt(this,"maxPolarAngle",Math.PI),dt(this,"minAzimuthAngle",-1/0),dt(this,"maxAzimuthAngle",1/0),dt(this,"enableDamping",!1),dt(this,"dampingFactor",.05),dt(this,"enableZoom",!0),dt(this,"zoomSpeed",1),dt(this,"enableRotate",!0),dt(this,"rotateSpeed",1),dt(this,"enablePan",!0),dt(this,"panSpeed",1),dt(this,"screenSpacePanning",!0),dt(this,"keyPanSpeed",7),dt(this,"autoRotate",!1),dt(this,"autoRotateSpeed",2),dt(this,"reverseOrbit",!1),dt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),dt(this,"mouseButtons",{LEFT:kl.ROTATE,MIDDLE:kl.DOLLY,RIGHT:kl.PAN}),dt(this,"touches",{ONE:Fl.ROTATE,TWO:Fl.DOLLY_PAN}),dt(this,"target0",void 0),dt(this,"position0",void 0),dt(this,"zoom0",void 0),dt(this,"_domElementKeyEvents",null),dt(this,"getPolarAngle",void 0),dt(this,"getAzimuthalAngle",void 0),dt(this,"setPolarAngle",void 0),dt(this,"setAzimuthalAngle",void 0),dt(this,"getDistance",void 0),dt(this,"listenToKeyEvents",void 0),dt(this,"saveState",void 0),dt(this,"reset",void 0),dt(this,"update",void 0),dt(this,"connect",void 0),dt(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof nn?this.object.zoom:1,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=q=>{let de=PI(q,2*Math.PI),Ae=f.phi;Ae<0&&(Ae+=2*Math.PI),de<0&&(de+=2*Math.PI);let Ie=Math.abs(de-Ae);2*Math.PI-Ie<Ie&&(de<Ae?de+=2*Math.PI:Ae+=2*Math.PI),h.phi=de-Ae,r.update()},this.setAzimuthalAngle=q=>{let de=PI(q,2*Math.PI),Ae=f.theta;Ae<0&&(Ae+=2*Math.PI),de<0&&(de+=2*Math.PI);let Ie=Math.abs(de-Ae);2*Math.PI-Ie<Ie&&(de<Ae?de+=2*Math.PI:Ae+=2*Math.PI),h.theta=de-Ae,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=q=>{q.addEventListener("keydown",te),this._domElementKeyEvents=q},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object instanceof nn?r.object.zoom:1},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object instanceof nn&&(r.object.zoom=r.zoom0,r.object.updateProjectionMatrix()),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const q=new B,de=new Zn().setFromUnitVectors(e.up,new B(0,1,0)),Ae=de.clone().invert(),Ie=new B,it=new Zn,xt=2*Math.PI;return function(){const K=r.object.position;q.copy(K).sub(r.target),q.applyQuaternion(de),f.setFromVector3(q),r.autoRotate&&l===a.NONE&&Z(k()),r.enableDamping?(f.theta+=h.theta*r.dampingFactor,f.phi+=h.phi*r.dampingFactor):(f.theta+=h.theta,f.phi+=h.phi);let pe=r.minAzimuthAngle,Te=r.maxAzimuthAngle;return isFinite(pe)&&isFinite(Te)&&(pe<-Math.PI?pe+=xt:pe>Math.PI&&(pe-=xt),Te<-Math.PI?Te+=xt:Te>Math.PI&&(Te-=xt),pe<=Te?f.theta=Math.max(pe,Math.min(Te,f.theta)):f.theta=f.theta>(pe+Te)/2?Math.max(pe,f.theta):Math.min(Te,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=p,f.radius=Math.max(r.minDistance,Math.min(r.maxDistance,f.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),q.setFromSpherical(f),q.applyQuaternion(Ae),K.copy(r.target).add(q),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),p=1,g||Ie.distanceToSquared(r.object.position)>u||8*(1-it.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Ie.copy(r.object.position),it.copy(r.object.quaternion),g=!1,!0):!1}})(),this.connect=q=>{q===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=q,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",De),r.domElement.addEventListener("pointerdown",tt),r.domElement.addEventListener("pointercancel",re),r.domElement.addEventListener("wheel",D)},this.dispose=()=>{var q,de,Ae,Ie,it,xt;(q=r.domElement)===null||q===void 0||q.removeEventListener("contextmenu",De),(de=r.domElement)===null||de===void 0||de.removeEventListener("pointerdown",tt),(Ae=r.domElement)===null||Ae===void 0||Ae.removeEventListener("pointercancel",re),(Ie=r.domElement)===null||Ie===void 0||Ie.removeEventListener("wheel",D),(it=r.domElement)===null||it===void 0||it.ownerDocument.removeEventListener("pointermove",Xe),(xt=r.domElement)===null||xt===void 0||xt.ownerDocument.removeEventListener("pointerup",$e),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",te)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,f=new eM,h=new eM;let p=1;const m=new B;let g=!1;const v=new we,_=new we,y=new we,w=new we,S=new we,M=new we,T=new we,P=new we,L=new we,A=[],R={};function k(){return 2*Math.PI/60/60*r.autoRotateSpeed}function G(){return Math.pow(.95,r.zoomSpeed)}function Z(q){r.reverseOrbit?h.theta+=q:h.theta-=q}function W(q){r.reverseOrbit?h.phi+=q:h.phi-=q}const O=(()=>{const q=new B;return function(Ae,Ie){q.setFromMatrixColumn(Ie,0),q.multiplyScalar(-Ae),m.add(q)}})(),j=(()=>{const q=new B;return function(Ae,Ie){r.screenSpacePanning===!0?q.setFromMatrixColumn(Ie,1):(q.setFromMatrixColumn(Ie,0),q.crossVectors(r.object.up,q)),q.multiplyScalar(Ae),m.add(q)}})(),$=(()=>{const q=new B;return function(Ae,Ie){const it=r.domElement;if(it&&r.object instanceof nn&&r.object.isPerspectiveCamera){const xt=r.object.position;q.copy(xt).sub(r.target);let Qt=q.length();Qt*=Math.tan(r.object.fov/2*Math.PI/180),O(2*Ae*Qt/it.clientHeight,r.object.matrix),j(2*Ie*Qt/it.clientHeight,r.object.matrix)}else it&&r.object instanceof Io&&r.object.isOrthographicCamera?(O(Ae*(r.object.right-r.object.left)/r.object.zoom/it.clientWidth,r.object.matrix),j(Ie*(r.object.top-r.object.bottom)/r.object.zoom/it.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ie(q){r.object instanceof nn&&r.object.isPerspectiveCamera?p/=q:r.object instanceof Io&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*q)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function I(q){r.object instanceof nn&&r.object.isPerspectiveCamera?p*=q:r.object instanceof Io&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/q)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function N(q){v.set(q.clientX,q.clientY)}function U(q){T.set(q.clientX,q.clientY)}function X(q){w.set(q.clientX,q.clientY)}function Y(q){_.set(q.clientX,q.clientY),y.subVectors(_,v).multiplyScalar(r.rotateSpeed);const de=r.domElement;de&&(Z(2*Math.PI*y.x/de.clientHeight),W(2*Math.PI*y.y/de.clientHeight)),v.copy(_),r.update()}function ae(q){P.set(q.clientX,q.clientY),L.subVectors(P,T),L.y>0?ie(G()):L.y<0&&I(G()),T.copy(P),r.update()}function se(q){S.set(q.clientX,q.clientY),M.subVectors(S,w).multiplyScalar(r.panSpeed),$(M.x,M.y),w.copy(S),r.update()}function ge(q){q.deltaY<0?I(G()):q.deltaY>0&&ie(G()),r.update()}function oe(q){let de=!1;switch(q.code){case r.keys.UP:$(0,r.keyPanSpeed),de=!0;break;case r.keys.BOTTOM:$(0,-r.keyPanSpeed),de=!0;break;case r.keys.LEFT:$(r.keyPanSpeed,0),de=!0;break;case r.keys.RIGHT:$(-r.keyPanSpeed,0),de=!0;break}de&&(q.preventDefault(),r.update())}function Ne(){if(A.length==1)v.set(A[0].pageX,A[0].pageY);else{const q=.5*(A[0].pageX+A[1].pageX),de=.5*(A[0].pageY+A[1].pageY);v.set(q,de)}}function Ue(){if(A.length==1)w.set(A[0].pageX,A[0].pageY);else{const q=.5*(A[0].pageX+A[1].pageX),de=.5*(A[0].pageY+A[1].pageY);w.set(q,de)}}function He(){const q=A[0].pageX-A[1].pageX,de=A[0].pageY-A[1].pageY,Ae=Math.sqrt(q*q+de*de);T.set(0,Ae)}function Pe(){r.enableZoom&&He(),r.enablePan&&Ue()}function Ke(){r.enableZoom&&He(),r.enableRotate&&Ne()}function ve(q){if(A.length==1)_.set(q.pageX,q.pageY);else{const Ae=Je(q),Ie=.5*(q.pageX+Ae.x),it=.5*(q.pageY+Ae.y);_.set(Ie,it)}y.subVectors(_,v).multiplyScalar(r.rotateSpeed);const de=r.domElement;de&&(Z(2*Math.PI*y.x/de.clientHeight),W(2*Math.PI*y.y/de.clientHeight)),v.copy(_)}function fe(q){if(A.length==1)S.set(q.pageX,q.pageY);else{const de=Je(q),Ae=.5*(q.pageX+de.x),Ie=.5*(q.pageY+de.y);S.set(Ae,Ie)}M.subVectors(S,w).multiplyScalar(r.panSpeed),$(M.x,M.y),w.copy(S)}function Me(q){const de=Je(q),Ae=q.pageX-de.x,Ie=q.pageY-de.y,it=Math.sqrt(Ae*Ae+Ie*Ie);P.set(0,it),L.set(0,Math.pow(P.y/T.y,r.zoomSpeed)),ie(L.y),T.copy(P)}function Be(q){r.enableZoom&&Me(q),r.enablePan&&fe(q)}function Re(q){r.enableZoom&&Me(q),r.enableRotate&&ve(q)}function tt(q){if(r.enabled!==!1){if(A.length===0){var de,Ae;(de=r.domElement)===null||de===void 0||de.ownerDocument.addEventListener("pointermove",Xe),(Ae=r.domElement)===null||Ae===void 0||Ae.ownerDocument.addEventListener("pointerup",$e)}nt(q),q.pointerType==="touch"?ye(q):Ee(q)}}function Xe(q){r.enabled!==!1&&(q.pointerType==="touch"?be(q):F(q))}function $e(q){if(ke(q),A.length===0){var de,Ae,Ie;(de=r.domElement)===null||de===void 0||de.releasePointerCapture(q.pointerId),(Ae=r.domElement)===null||Ae===void 0||Ae.ownerDocument.removeEventListener("pointermove",Xe),(Ie=r.domElement)===null||Ie===void 0||Ie.ownerDocument.removeEventListener("pointerup",$e)}r.dispatchEvent(o),l=a.NONE}function re(q){ke(q)}function Ee(q){let de;switch(q.button){case 0:de=r.mouseButtons.LEFT;break;case 1:de=r.mouseButtons.MIDDLE;break;case 2:de=r.mouseButtons.RIGHT;break;default:de=-1}switch(de){case kl.DOLLY:if(r.enableZoom===!1)return;U(q),l=a.DOLLY;break;case kl.ROTATE:if(q.ctrlKey||q.metaKey||q.shiftKey){if(r.enablePan===!1)return;X(q),l=a.PAN}else{if(r.enableRotate===!1)return;N(q),l=a.ROTATE}break;case kl.PAN:if(q.ctrlKey||q.metaKey||q.shiftKey){if(r.enableRotate===!1)return;N(q),l=a.ROTATE}else{if(r.enablePan===!1)return;X(q),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function F(q){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Y(q);break;case a.DOLLY:if(r.enableZoom===!1)return;ae(q);break;case a.PAN:if(r.enablePan===!1)return;se(q);break}}function D(q){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(q.preventDefault(),r.dispatchEvent(s),ge(q),r.dispatchEvent(o))}function te(q){r.enabled===!1||r.enablePan===!1||oe(q)}function ye(q){switch(xe(q),A.length){case 1:switch(r.touches.ONE){case Fl.ROTATE:if(r.enableRotate===!1)return;Ne(),l=a.TOUCH_ROTATE;break;case Fl.PAN:if(r.enablePan===!1)return;Ue(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Fl.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Pe(),l=a.TOUCH_DOLLY_PAN;break;case Fl.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ke(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function be(q){switch(xe(q),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ve(q),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;fe(q),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Be(q),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Re(q),r.update();break;default:l=a.NONE}}function De(q){r.enabled!==!1&&q.preventDefault()}function nt(q){A.push(q)}function ke(q){delete R[q.pointerId];for(let de=0;de<A.length;de++)if(A[de].pointerId==q.pointerId){A.splice(de,1);return}}function xe(q){let de=R[q.pointerId];de===void 0&&(de=new we,R[q.pointerId]=de),de.set(q.pageX,q.pageY)}function Je(q){const de=q.pointerId===A[0].pointerId?A[1]:A[0];return R[de.pointerId]}t!==void 0&&this.connect(t),this.update()}}const the=z.exports.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,onChange:s,onStart:o,onEnd:a,...l},u)=>{const f=Ol(M=>M.invalidate),h=Ol(M=>M.camera),p=Ol(M=>M.gl),m=Ol(M=>M.events),g=Ol(M=>M.set),v=Ol(M=>M.get),_=Ol(M=>M.performance),y=e||h,w=r||m.connected||p.domElement,S=z.exports.useMemo(()=>new ehe(y),[y]);return eoe(()=>{S.enabled&&S.update()},-1),z.exports.useEffect(()=>(S.connect(w),()=>void S.dispose()),[w,t,S,f]),z.exports.useEffect(()=>{const M=T=>{f(),t&&_.regress(),s&&s(T)};return S.addEventListener("change",M),o&&S.addEventListener("start",o),a&&S.addEventListener("end",a),()=>{o&&S.removeEventListener("start",o),a&&S.removeEventListener("end",a),S.removeEventListener("change",M)}},[s,o,a,S,f]),z.exports.useEffect(()=>{if(n){const M=v().controls;return g({controls:S}),()=>g({controls:M})}},[n,S]),ne("primitive",{ref:u,object:S,enableDamping:i,...l})}),nhe=()=>lt(Yi,{children:[ne("div",{id:"BackgroundDecoration"},"home"),lt("div",{className:"flex flex-col gap-20",children:[ne(l_,{}),lt("div",{className:CI.MainContainer,children:[lt("div",{className:"flex flex-col gap-5",children:[lt("h1",{className:"font-bold text-6xl",children:["DISCOVER YOUR OWN ",ne("br",{})," WORLD!"]}),ne("p",{className:"text-lg",children:"Learn information about countries all around the world"}),ne(YB,{to:"/quizzes/new",className:"w-min",children:ne(Ya,{color:"#ddb00f",className:"text-sm py-4 whitespace-nowrap",children:"START LEARNING!"})})]}),ne("div",{children:ne("div",{className:CI.globe+" cursor-grabbing m-auto mt-20",children:ne(z.exports.Suspense,{fallback:ne("p",{className:"text-white",children:"Loading..."}),children:lt(boe,{shadows:!0,dpr:[1,2],camera:{position:[0,0,4],fov:30},children:[ne("ambientLight",{intensity:.7}),ne("spotLight",{intensity:.5,angle:.1,penumbra:1,position:[10,15,10],castShadow:!0}),lt(z.exports.Suspense,{fallback:null,children:[ne(Moe,{}),ne(the,{autoRotate:!0,enableZoom:!1,autoRotateSpeed:.6})]})]})})})}),lt("div",{className:"w-full py-20 mt-20 flex gap-5 justify-between",children:[lt("div",{className:"flex gap-3",style:{width:400},children:[ne("div",{className:"bg-white rounded-full",style:{minWidth:50,height:50}}),lt("div",{children:[ne("p",{className:"text-xl font-semibold",children:"This is a feature"}),ne("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit."})]})]}),lt("div",{className:"flex gap-3",style:{width:400},children:[ne("div",{className:"bg-white rounded-full",style:{minWidth:50,height:50}}),lt("div",{children:[ne("p",{className:"text-xl font-semibold",children:"This is a feature"}),ne("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit."})]})]}),lt("div",{className:"flex gap-3",style:{width:400},children:[ne("div",{className:"bg-white rounded-full",style:{minWidth:50,height:50}}),lt("div",{children:[ne("p",{className:"text-xl font-semibold",children:"This is a feature"}),ne("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit."})]})]})]})]}),ne(zK,{})]})]});var KB={exports:{}},xM={exports:{}},g_={};Object.defineProperty(g_,"__esModule",{value:!0});g_.default=void 0;var rhe=ihe(z.exports);function ihe(n){if(n&&n.__esModule)return n;var e={};if(n!=null){for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(n,t):{};r.get||r.set?Object.defineProperty(e,t,r):e[t]=n[t]}}return e.default=n,e}const she=typeof window>"u";class ohe extends rhe.Component{constructor(e){super(e),this.emitChange=()=>{this._hasHeadManager&&this.props.headManager.updateHead(this.props.reduceComponentsToState([...this.props.headManager.mountedInstances],this.props))},this._hasHeadManager=this.props.headManager&&this.props.headManager.mountedInstances,she&&this._hasHeadManager&&(this.props.headManager.mountedInstances.add(this),this.emitChange())}componentDidMount(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}componentDidUpdate(){this.emitChange()}componentWillUnmount(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}render(){return null}}g_.default=ohe;var em={};Object.defineProperty(em,"__esModule",{value:!0});em.AmpStateContext=void 0;var ahe=lhe(z.exports);function lhe(n){return n&&n.__esModule?n:{default:n}}const uhe=ahe.default.createContext({});em.AmpStateContext=uhe;var v_={};Object.defineProperty(v_,"__esModule",{value:!0});v_.HeadManagerContext=void 0;var che=fhe(z.exports);function fhe(n){return n&&n.__esModule?n:{default:n}}const dhe=che.default.createContext({});v_.HeadManagerContext=dhe;var wM={exports:{}};(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isInAmpMode=s,e.useAmp=o;var t=i(z.exports),r=em;function i(a){return a&&a.__esModule?a:{default:a}}function s({ampFirst:a=!1,hybrid:l=!1,hasQuery:u=!1}={}){return a||l&&u}function o(){return s(t.default.useContext(r.AmpStateContext))}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&(Object.assign(e.default,e),n.exports=e.default)})(wM,wM.exports);var xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.execOnce=hhe;xr.getLocationOrigin=JB;xr.getURL=phe;xr.getDisplayName=ZB;xr.isResSent=QB;xr.normalizeRepeatedSlashes=mhe;xr.loadGetInitialProps=e5;xr.ST=xr.SP=xr.warnOnce=void 0;function hhe(n){let e=!1,t;return(...r)=>(e||(e=!0,t=n(...r)),t)}function JB(){const{protocol:n,hostname:e,port:t}=window.location;return`${n}//${e}${t?":"+t:""}`}function phe(){const{href:n}=window.location,e=JB();return n.substring(e.length)}function ZB(n){return typeof n=="string"?n:n.displayName||n.name||"Unknown"}function QB(n){return n.finished||n.headersSent}function mhe(n){const e=n.split("?");return e[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(e[1]?`?${e.slice(1).join("?")}`:"")}async function e5(n,e){const t=e.res||e.ctx&&e.ctx.res;if(!n.getInitialProps)return e.ctx&&e.Component?{pageProps:await e5(e.Component,e.ctx)}:{};const r=await n.getInitialProps(e);if(t&&QB(t))return r;if(!r){const i=`"${ZB(n)}.getInitialProps()" should resolve to an object. But found "${r}" instead.`;throw new Error(i)}return r}let ghe=n=>{};xr.warnOnce=ghe;const t5=typeof performance<"u";xr.SP=t5;const vhe=t5&&typeof performance.mark=="function"&&typeof performance.measure=="function";xr.ST=vhe;class yhe extends Error{}xr.DecodeError=yhe;class _he extends Error{}xr.NormalizeError=_he;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultHead=u,e.default=void 0;var t=l(z.exports),r=a(g_),i=em,s=v_,o=wM.exports;function a(_){return _&&_.__esModule?_:{default:_}}function l(_){if(_&&_.__esModule)return _;var y={};if(_!=null){for(var w in _)if(Object.prototype.hasOwnProperty.call(_,w)){var S=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(_,w):{};S.get||S.set?Object.defineProperty(y,w,S):y[w]=_[w]}}return y.default=_,y}function u(_=!1){const y=[t.default.createElement("meta",{charSet:"utf-8"})];return _||y.push(t.default.createElement("meta",{name:"viewport",content:"width=device-width"})),y}function f(_,y){return typeof y=="string"||typeof y=="number"?_:y.type===t.default.Fragment?_.concat(t.default.Children.toArray(y.props.children).reduce((w,S)=>typeof S=="string"||typeof S=="number"?w:w.concat(S),[])):_.concat(y)}const h=["name","httpEquiv","charSet","itemProp"];function p(){const _=new Set,y=new Set,w=new Set,S={};return M=>{let T=!0,P=!1;if(M.key&&typeof M.key!="number"&&M.key.indexOf("$")>0){P=!0;const L=M.key.slice(M.key.indexOf("$")+1);_.has(L)?T=!1:_.add(L)}switch(M.type){case"title":case"base":y.has(M.type)?T=!1:y.add(M.type);break;case"meta":for(let L=0,A=h.length;L<A;L++){const R=h[L];if(!!M.props.hasOwnProperty(R))if(R==="charSet")w.has(R)?T=!1:w.add(R);else{const k=M.props[R],G=S[R]||new Set;(R!=="name"||!P)&&G.has(k)?T=!1:(G.add(k),S[R]=G)}}break}return T}}function m(_,y){return _.reduce((w,S)=>{const M=t.default.Children.toArray(S.props.children);return w.concat(M)},[]).reduce(f,[]).reverse().concat(u(y.inAmpMode)).filter(p()).reverse().map((w,S)=>{const M=w.key||S;if({}.__NEXT_OPTIMIZE_FONTS&&!y.inAmpMode&&w.type==="link"&&w.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(T=>w.props.href.startsWith(T))){const T={...w.props||{}};return T["data-href"]=T.href,T.href=void 0,T["data-optimized-fonts"]=!0,t.default.cloneElement(w,T)}return t.default.cloneElement(w,{key:M})})}function g({children:_}){const y=t.useContext(i.AmpStateContext),w=t.useContext(s.HeadManagerContext);return t.default.createElement(r.default,{reduceComponentsToState:m,headManager:w,inAmpMode:o.isInAmpMode(y)},_)}var v=g;e.default=v,(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&(Object.assign(e.default,e),n.exports=e.default)})(xM,xM.exports);(function(n){n.exports=xM.exports})(KB);const xhe=mp(KB.exports),whe=()=>lt(Yi,{children:[ne(xhe,{children:ne("title",{children:"Login"})}),ne("div",{id:"BackgroundDecoration"},"login"),ne(l_,{}),ne(Vfe,{})]}),She=()=>lt(Yi,{children:[ne("div",{id:"BackgroundDecoration"},"home"),ne(l_,{}),ne($fe,{})]}),EA="*, rounds ( *, country ( * ))",bhe=async n=>await Ao.from("quizzes").insert(n,{count:"exact"}).select(EA).single(),n5=async(n,...e)=>{try{const t=await n(...e);if(t.error!=null)throw new Error(t.error.message);return t.data}catch(t){throw new Error(t)}},Mhe=async()=>await Ao.from("quizzes").select(EA).order("id",{ascending:!1}),The=async n=>await Ao.from("quizzes").select(EA).eq("uuid",n).order("id",{ascending:!1}).single(),Ehe=()=>{const n=iE(AA,async()=>await n5(Mhe)),e=n.data===void 0&&n.error===void 0;return{...n,isLoading:e}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $0=function(){return $0=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$0.apply(this,arguments)},Ahe=function(n){return typeof n=="function"},Che=function(n){return Ahe(n[1])?[n[0],n[1],n[2]||{}]:[n[0],null,(n[1]===null?n[2]:n[1])||{}]},Phe=function(n,e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=Che(t),s=i[0],o=i[1],a=i[2],l=(a.use||[]).concat(e);return n(s,o,$0($0({},a),{use:l}))}},Rhe=function(n){return function(e,t,r){return r.revalidateOnFocus=!1,r.revalidateIfStale=!1,r.revalidateOnReconnect=!1,n(e,t,r)}},Lhe=Phe(iE,Rhe);const Ohe=n=>{const e=Lhe(`${AA}/${n}`,async()=>await n5(The,n)),t=e.data===void 0&&e.error===void 0;return{...e,isLoading:t}},Ihe=()=>{const[n,e]=z.exports.useState(!1),[t,r]=z.exports.useState(void 0),i=o=>{r(o.message),e(!1)};return{create:async({onSuccess:o,body:a})=>{e(!0);try{const{data:l,error:u}=await bhe(a);if(u!=null)return i(u);l!=null&&(await ez(AA),o(l))}catch(l){r(String(l==null?void 0:l.response.data.error)),console.error(l)}finally{e(!1)}},isLoading:n,error:t}},AA="/quizzes",Dhe=40,Nhe=()=>{const{uuid:n=""}=Dde();z.exports.useState(!1);const{data:e,isValidating:t,mutate:r}=Ohe(n);return console.log({quizz:e}),FK({totalSeconds:Dhe,onFinish:i=>{}}),e==null?ne(qK,{}):ne("div",{children:"hola"})},RI=()=>{const{data:n}=Ehe();return lt(Yi,{children:[ne(l_,{},"navbar"),lt("div",{className:"w-full p-4 lg:p-10 flex flex-col gap-y-6 text-white",children:[ne(khe,{}),ne("h1",{children:"Your past quizzes"}),n==null?void 0:n.map(e=>{var s;const t=e.rounds.at(0),[r=0,i=0]=(s=t==null?void 0:t.static_image_latlng)!=null?s:[];return ne(YB,{to:`/quizzes/game/${e.uuid}`,children:lt("div",{className:"border p-4 rounded-lg flex justify-between",children:[ne("p",{children:`Created ${kX.format(new Date(e==null?void 0:e.created_at))}`}),ne("img",{className:"w-40",src:`https://maps.googleapis.com/maps/api/streetview?size=500x500&location=${r},${i}
&fov=80&heading=70&pitch=0&key=AIzaSyCGcxn8bTwWyW7Bwg4KRdgkpIlqTfL9Vds`,alt:""})]})},e.id)})]})]})},khe=()=>{const n=qB(),{isLoading:e,create:t,error:r}=Ihe();return lt(Yi,{children:[ne(Ya,{loading:e,onClick:async()=>{await t({body:{total_seconds:100,total_rounds:5},onSuccess:s=>{console.log({createdQuizz:s}),n(`/quizzes/game/${encodeURI(s.uuid)}`)}})},children:ne("p",{className:"text-sm text-white",children:"CREATE QUIZZ \u{1F30E}"})}),r!==void 0&&!e&&ne(hA,{variant:"error",message:r+"\u{1F30E}"})]})},Fhe=()=>lt(Gde,{children:[ne(ya,{element:ne(whe,{}),path:"/login"}),ne(ya,{element:ne(She,{}),path:"/signup"}),ne(ya,{element:ne(RI,{}),path:"/quizzes/"}),ne(ya,{element:ne(RI,{}),path:"/quizzes/new"}),ne(ya,{element:ne(Nhe,{}),path:"/quizzes/game/:uuid"}),ne(ya,{element:ne(nhe,{}),path:"/"}),ne(ya,{element:ne("div",{children:ne("h1",{children:"no encontramos la ruta que buscas xd"})}),path:"*"})]});function r5(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=r5(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Da(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=r5(n))&&(r&&(r+=" "),r+=e);return r}const yh=n=>typeof n=="number"&&!isNaN(n),Eu=n=>typeof n=="string",Wr=n=>typeof n=="function",Xv=n=>Eu(n)||Wr(n)?n:null,Ow=n=>z.exports.isValidElement(n)||Eu(n)||Wr(n)||yh(n);function zhe(n,e,t){t===void 0&&(t=300);const{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function y_(n){let{enter:e,exit:t,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=n;return function(o){let{children:a,position:l,preventExitTransition:u,done:f,nodeRef:h,isIn:p}=o;const m=r?`${e}--${l}`:e,g=r?`${t}--${l}`:t,v=z.exports.useRef(0);return z.exports.useLayoutEffect(()=>{const _=h.current,y=m.split(" "),w=S=>{S.target===h.current&&(_.dispatchEvent(new Event("d")),_.removeEventListener("animationend",w),_.removeEventListener("animationcancel",w),v.current===0&&S.type!=="animationcancel"&&_.classList.remove(...y))};_.classList.add(...y),_.addEventListener("animationend",w),_.addEventListener("animationcancel",w)},[]),z.exports.useEffect(()=>{const _=h.current,y=()=>{_.removeEventListener("animationend",y),i?zhe(_,f,s):f()};p||(u?y():(v.current=1,_.className+=` ${g}`,_.addEventListener("animationend",y)))},[p]),Wa.createElement(Wa.Fragment,null,a)}}function LI(n,e){return{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}}const Vi={list:new Map,emitQueue:new Map,on(n,e){return this.list.has(n)||this.list.set(n,[]),this.list.get(n).push(e),this},off(n,e){if(e){const t=this.list.get(n).filter(r=>r!==e);return this.list.set(n,t),this}return this.list.delete(n),this},cancelEmit(n){const e=this.emitQueue.get(n);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(n)),this},emit(n){this.list.has(n)&&this.list.get(n).forEach(e=>{const t=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(n)||this.emitQueue.set(n,[]),this.emitQueue.get(n).push(t)})}},yv=n=>{let{theme:e,type:t,...r}=n;return ne("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r})},Iw={info:function(n){return ne(yv,{...n,children:ne("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"})})},warning:function(n){return ne(yv,{...n,children:ne("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"})})},success:function(n){return ne(yv,{...n,children:ne("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"})})},error:function(n){return ne(yv,{...n,children:ne("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"})})},spinner:function(){return ne("div",{className:"Toastify__spinner"})}};function Uhe(n){const[,e]=z.exports.useReducer(m=>m+1,0),[t,r]=z.exports.useState([]),i=z.exports.useRef(null),s=z.exports.useRef(new Map).current,o=m=>t.indexOf(m)!==-1,a=z.exports.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:n,containerId:null,isToastActive:o,getToast:m=>s.get(m)}).current;function l(m){let{containerId:g}=m;const{limit:v}=a.props;!v||g&&a.containerId!==g||(a.count-=a.queue.length,a.queue=[])}function u(m){r(g=>m==null?[]:g.filter(v=>v!==m))}function f(){const{toastContent:m,toastProps:g,staleId:v}=a.queue.shift();p(m,g,v)}function h(m,g){let{delay:v,staleId:_,...y}=g;if(!Ow(m)||function(Z){return!i.current||a.props.enableMultiContainer&&Z.containerId!==a.props.containerId||s.has(Z.toastId)&&Z.updateId==null}(y))return;const{toastId:w,updateId:S,data:M}=y,{props:T}=a,P=()=>u(w),L=S==null;L&&a.count++;const A={...T,style:T.toastStyle,key:a.toastKey++,...y,toastId:w,updateId:S,data:M,closeToast:P,isIn:!1,className:Xv(y.className||T.toastClassName),bodyClassName:Xv(y.bodyClassName||T.bodyClassName),progressClassName:Xv(y.progressClassName||T.progressClassName),autoClose:!y.isLoading&&(R=y.autoClose,k=T.autoClose,R===!1||yh(R)&&R>0?R:k),deleteToast(){const Z=LI(s.get(w),"removed");s.delete(w),Vi.emit(4,Z);const W=a.queue.length;if(a.count=w==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),W>0){const O=w==null?a.props.limit:1;if(W===1||O===1)a.displayedToast++,f();else{const j=O>W?W:O;a.displayedToast=j;for(let $=0;$<j;$++)f()}}else e()}};var R,k;A.iconOut=function(Z){let{theme:W,type:O,isLoading:j,icon:$}=Z,ie=null;const I={theme:W,type:O};return $===!1||(Wr($)?ie=$(I):z.exports.isValidElement($)?ie=z.exports.cloneElement($,I):Eu($)||yh($)?ie=$:j?ie=Iw.spinner():(N=>N in Iw)(O)&&(ie=Iw[O](I))),ie}(A),Wr(y.onOpen)&&(A.onOpen=y.onOpen),Wr(y.onClose)&&(A.onClose=y.onClose),A.closeButton=T.closeButton,y.closeButton===!1||Ow(y.closeButton)?A.closeButton=y.closeButton:y.closeButton===!0&&(A.closeButton=!Ow(T.closeButton)||T.closeButton);let G=m;z.exports.isValidElement(m)&&!Eu(m.type)?G=z.exports.cloneElement(m,{closeToast:P,toastProps:A,data:M}):Wr(m)&&(G=m({closeToast:P,toastProps:A,data:M})),T.limit&&T.limit>0&&a.count>T.limit&&L?a.queue.push({toastContent:G,toastProps:A,staleId:_}):yh(v)?setTimeout(()=>{p(G,A,_)},v):p(G,A,_)}function p(m,g,v){const{toastId:_}=g;v&&s.delete(v);const y={content:m,props:g};s.set(_,y),r(w=>[...w,_].filter(S=>S!==v)),Vi.emit(4,LI(y,y.props.updateId==null?"added":"updated"))}return z.exports.useEffect(()=>(a.containerId=n.containerId,Vi.cancelEmit(3).on(0,h).on(1,m=>i.current&&u(m)).on(5,l).emit(2,a),()=>{s.clear(),Vi.emit(3,a)}),[]),z.exports.useEffect(()=>{a.props=n,a.isToastActive=o,a.displayedToast=t.length}),{getToastToRender:function(m){const g=new Map,v=Array.from(s.values());return n.newestOnTop&&v.reverse(),v.forEach(_=>{const{position:y}=_.props;g.has(y)||g.set(y,[]),g.get(y).push(_)}),Array.from(g,_=>m(_[0],_[1]))},containerRef:i,isToastActive:o}}function OI(n){return n.targetTouches&&n.targetTouches.length>=1?n.targetTouches[0].clientX:n.clientX}function II(n){return n.targetTouches&&n.targetTouches.length>=1?n.targetTouches[0].clientY:n.clientY}function Bhe(n){const[e,t]=z.exports.useState(!1),[r,i]=z.exports.useState(!1),s=z.exports.useRef(null),o=z.exports.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=z.exports.useRef(n),{autoClose:l,pauseOnHover:u,closeToast:f,onClick:h,closeOnClick:p}=n;function m(M){if(n.draggable){M.nativeEvent.type==="touchstart"&&M.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",w),document.addEventListener("touchmove",y),document.addEventListener("touchend",w);const T=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=T.getBoundingClientRect(),T.style.transition="",o.x=OI(M.nativeEvent),o.y=II(M.nativeEvent),n.draggableDirection==="x"?(o.start=o.x,o.removalDistance=T.offsetWidth*(n.draggablePercent/100)):(o.start=o.y,o.removalDistance=T.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent/100))}}function g(M){if(o.boundingRect){const{top:T,bottom:P,left:L,right:A}=o.boundingRect;M.nativeEvent.type!=="touchend"&&n.pauseOnHover&&o.x>=L&&o.x<=A&&o.y>=T&&o.y<=P?_():v()}}function v(){t(!0)}function _(){t(!1)}function y(M){const T=s.current;o.canDrag&&T&&(o.didMove=!0,e&&_(),o.x=OI(M),o.y=II(M),o.delta=n.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),T.style.transform=`translate${n.draggableDirection}(${o.delta}px)`,T.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function w(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",w);const M=s.current;if(o.canDrag&&o.didMove&&M){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void n.closeToast();M.style.transition="transform 0.2s, opacity 0.2s",M.style.transform=`translate${n.draggableDirection}(0)`,M.style.opacity="1"}}z.exports.useEffect(()=>{a.current=n}),z.exports.useEffect(()=>(s.current&&s.current.addEventListener("d",v,{once:!0}),Wr(n.onOpen)&&n.onOpen(z.exports.isValidElement(n.children)&&n.children.props),()=>{const M=a.current;Wr(M.onClose)&&M.onClose(z.exports.isValidElement(M.children)&&M.children.props)}),[]),z.exports.useEffect(()=>(n.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",v),window.addEventListener("blur",_)),()=>{n.pauseOnFocusLoss&&(window.removeEventListener("focus",v),window.removeEventListener("blur",_))}),[n.pauseOnFocusLoss]);const S={onMouseDown:m,onTouchStart:m,onMouseUp:g,onTouchEnd:g};return l&&u&&(S.onMouseEnter=_,S.onMouseLeave=v),p&&(S.onClick=M=>{h&&h(M),o.canCloseOnClick&&f()}),{playToast:v,pauseToast:_,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:S}}function i5(n){let{closeToast:e,theme:t,ariaLabel:r="close"}=n;return ne("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r,children:ne("svg",{"aria-hidden":"true",viewBox:"0 0 14 16",children:ne("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})})})}function Vhe(n){let{delay:e,isRunning:t,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:f,isIn:h,theme:p}=n;const m=s||l&&u===0,g={...a,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused",opacity:m?0:1};l&&(g.transform=`scaleX(${u})`);const v=Da("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),_=Wr(o)?o({rtl:f,type:i,defaultClassName:v}):Da(v,o);return Wa.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:_,style:g,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&r()}})}const Hhe=n=>{const{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i}=Bhe(n),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:f,closeToast:h,transition:p,position:m,className:g,style:v,bodyClassName:_,bodyStyle:y,progressClassName:w,progressStyle:S,updateId:M,role:T,progress:P,rtl:L,toastId:A,deleteToast:R,isIn:k,isLoading:G,iconOut:Z,closeOnClick:W,theme:O}=n,j=Da("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":W}),$=Wr(g)?g({rtl:L,position:m,type:u,defaultClassName:j}):Da(j,g),ie=!!P||!a,I={closeToast:h,type:u,theme:O};let N=null;return s===!1||(N=Wr(s)?s(I):z.exports.isValidElement(s)?z.exports.cloneElement(s,I):i5(I)),Wa.createElement(p,{isIn:k,done:R,position:m,preventExitTransition:t,nodeRef:r},lt("div",{id:A,onClick:l,className:$,...i,style:v,ref:r,children:[lt("div",{...k&&{role:T},className:Wr(_)?_({type:u}):Da("Toastify__toast-body",_),style:y,children:[Z!=null&&ne("div",{className:Da("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!G}),children:Z}),ne("div",{children:o})]}),N,ne(Vhe,{...M&&!ie?{key:`pb-${M}`}:{},rtl:L,theme:O,delay:a,isRunning:e,isIn:k,closeToast:h,hide:f,type:u,style:S,className:w,controlledProgress:ie,progress:P||0})]}))},__=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},Ghe=y_(__("bounce",!0));y_(__("slide",!0));y_(__("zoom"));y_(__("flip"));const SM=z.exports.forwardRef((n,e)=>{const{getToastToRender:t,containerRef:r,isToastActive:i}=Uhe(n),{className:s,style:o,rtl:a,containerId:l}=n;function u(f){const h=Da("Toastify__toast-container",`Toastify__toast-container--${f}`,{"Toastify__toast-container--rtl":a});return Wr(s)?s({position:f,rtl:a,defaultClassName:h}):Da(h,Xv(s))}return z.exports.useEffect(()=>{e&&(e.current=r.current)},[]),ne("div",{ref:r,className:"Toastify",id:l,children:t((f,h)=>{const p=h.length?{...o}:{...o,pointerEvents:"none"};return ne("div",{className:u(f),style:p,children:h.map((m,g)=>{let{content:v,props:_}=m;return z.exports.createElement(Hhe,{..._,isIn:i(_.toastId),style:{..._.style,"--nth":g+1,"--len":h.length},key:`toast-${_.key}`},v)})},`container-${f}`)})})});SM.displayName="ToastContainer",SM.defaultProps={position:"top-right",transition:Ghe,autoClose:5e3,closeButton:i5,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Dw,Vl=new Map,Wd=[],jhe=1;function s5(){return""+jhe++}function Whe(n){return n&&(Eu(n.toastId)||yh(n.toastId))?n.toastId:s5()}function _h(n,e){return Vl.size>0?Vi.emit(0,n,e):Wd.push({content:n,options:e}),e.toastId}function q0(n,e){return{...e,type:e&&e.type||n,toastId:Whe(e)}}function _v(n){return(e,t)=>_h(e,q0(n,t))}function ln(n,e){return _h(n,q0("default",e))}ln.loading=(n,e)=>_h(n,q0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ln.promise=function(n,e,t){let r,{pending:i,error:s,success:o}=e;i&&(r=Eu(i)?ln.loading(i,t):ln.loading(i.render,{...t,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},l=(f,h,p)=>{if(h==null)return void ln.dismiss(r);const m={type:f,...a,...t,data:p},g=Eu(h)?{render:h}:h;return r?ln.update(r,{...m,...g}):ln(g.render,{...m,...g}),p},u=Wr(n)?n():n;return u.then(f=>l("success",o,f)).catch(f=>l("error",s,f)),u},ln.success=_v("success"),ln.info=_v("info"),ln.error=_v("error"),ln.warning=_v("warning"),ln.warn=ln.warning,ln.dark=(n,e)=>_h(n,q0("default",{theme:"dark",...e})),ln.dismiss=n=>{Vl.size>0?Vi.emit(1,n):Wd=Wd.filter(e=>n!=null&&e.options.toastId!==n)},ln.clearWaitingQueue=function(n){return n===void 0&&(n={}),Vi.emit(5,n)},ln.isActive=n=>{let e=!1;return Vl.forEach(t=>{t.isToastActive&&t.isToastActive(n)&&(e=!0)}),e},ln.update=function(n,e){e===void 0&&(e={}),setTimeout(()=>{const t=function(r,i){let{containerId:s}=i;const o=Vl.get(s||Dw);return o&&o.getToast(r)}(n,e);if(t){const{props:r,content:i}=t,s={...r,...e,toastId:e.toastId||n,updateId:s5()};s.toastId!==n&&(s.staleId=n);const o=s.render||i;delete s.render,_h(o,s)}},0)},ln.done=n=>{ln.update(n,{progress:1})},ln.onChange=n=>(Vi.on(4,n),()=>{Vi.off(4,n)}),ln.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},ln.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Vi.on(2,n=>{Dw=n.containerId||n,Vl.set(Dw,n),Wd.forEach(e=>{Vi.emit(0,e.content,e.options)}),Wd=[]}).on(3,n=>{Vl.delete(n.containerId||n),Vl.size===0&&Vi.off(0).off(1).off(5)});const $he=(n,e,t)=>{var r;ln.error((r=n.message)!=null?r:"Unexpected error",{toastId:e,autoClose:!1}),console.error({err:n,key:e,config:t})};Nw.createRoot(document.getElementById("root")).render(lt(Wa.StrictMode,{children:[ne(SM,{}),ne(Xde,{children:ne(Kde,{children:ne(o7,{value:{fetcher:NX,onError:$he},children:ne(Fhe,{})})})})]}))});export default qhe();
